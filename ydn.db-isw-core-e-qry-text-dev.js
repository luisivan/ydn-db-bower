(function (name, definition, context) {if (typeof context['module'] !== 'undefined' && context['module']['exports']) {context['module']['exports'] = definition.apply(context);}else if (typeof context['define'] !== 'undefined' && context['define'] === 'function' && context['define']['amd']) {define(name, [], definition);}else {context[name] = definition();}})('ydn', function () {var l,s=this;function aa(a){a=a.split(".");for(var b=s,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}
function ba(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return void 0!==a}function u(a){return"array"==ba(a)}function v(a){var b=ba(a);return"array"==b||"object"==b&&"number"==typeof a.length}function w(a){return"string"==typeof a}function ca(a){return"boolean"==typeof a}function x(a){return"number"==typeof a}function da(a){return"function"==ba(a)}function z(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}
var ea="closure_uid_"+(1E9*Math.random()>>>0),fa=0;function ga(a,b,c){return a.call.apply(a.bind,arguments)}function ha(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function ia(a,b,c){ia=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ga:ha;return ia.apply(null,arguments)}function ja(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ka=Date.now||function(){return+new Date};
function la(a,b){var c=a.split("."),d=s;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]?d=d[e]:d=d[e]={}:d[e]=b}function D(a,b){function c(){}c.prototype=b.prototype;a.u=b.prototype;a.prototype=new c;a.Sb=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function ma(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function na(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function oa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,oa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}D(oa,Error);oa.prototype.name="CustomError";var pa;function qa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function ra(a){return/^[\s\xa0]*$/.test(a)}function sa(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")}
function ta(a){if(!ua.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(va,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(wa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(xa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ya,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(za,"&#39;"));return a}var va=/&/g,wa=/</g,xa=/>/g,ya=/"/g,za=/'/g,ua=/[&<>"']/;function Aa(a){return sa(a.replace(/  /g," &#160;"),void 0)}
function Ba(a){for(var b=0;1>b;b++)if('"'==a.charAt(0)&&'"'==a.charAt(a.length-1))return a.substring(1,a.length-1);return a}var Ca={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"},Da={"'":"\\'"};
function Ea(a){a=String(a);if(a.quote)return a.quote();for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=b,g=c+1,h;if(!(h=Ca[d])){if(!(31<e&&127>e))if(d in Da)d=Da[d];else if(d in Ca)d=Da[d]=Ca[d];else{e=d;h=d.charCodeAt(0);if(31<h&&127>h)e=d;else{if(256>h){if(e="\\x",16>h||256<h)e+="0"}else e="\\u",4096>h&&(e+="0");e+=h.toString(16).toUpperCase()}d=Da[d]=e}h=d}f[g]=h}b.push('"');return b.join("")}function Fa(a,b){return a<b?-1:a>b?1:0};function Ga(a,b){b.unshift(a);oa.call(this,qa.apply(null,b));b.shift()}D(Ga,oa);Ga.prototype.name="AssertionError";function Ha(a,b){throw new Ga("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function Ia(a){da(s.setImmediate)?s.setImmediate(a):(Ja||(Ja=Ka()),Ja(a))}var Ja;
function Ka(){if(s.rb&&s.rb.resolve){var a=s.rb.resolve();return function(b){a.then(b)}}var b=s.MessageChannel;"undefined"===typeof b&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(b=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d=b.location.protocol+"//"+b.location.host,a=ia(function(a){if(a.origin==
d||a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof b){var c=new b,d={},e=d;c.port1.onmessage=function(){d=d.next;var a=d.vb;d.vb=null;a()};return function(a){e.next={vb:a};e=e.next;c.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){s.setTimeout(a,0)}};function La(a){Ia(function(){throw a;})}function Ma(a,b){Na||(Ia(Oa),Na=!0);Pa.push(new Qa(a,b))}var Na=!1,Pa=[];[].push(function(){Na=!1;Pa=[]});function Oa(){for(;Pa.length;){var a=Pa;Pa=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.a.call(c.b)}catch(d){La(d)}}}Na=!1}function Qa(a,b){this.a=a;this.b=b};function Ra(a,b){this.a=Sa;this.f=void 0;this.b=this.c=null;this.d=this.e=!1;this.g=[];Ta(this,Error("created"));this.j=0;try{var c=this;a.call(b,function(a){Ua(c,Va,a)},function(a){Ua(c,Wa,a)})}catch(d){Ua(this,Wa,d)}}var Sa=0,Va=2,Wa=3;Ra.prototype.then=function(a,b,c){Ta(this,Error("then"));return Xa(this,da(a)?a:null,da(b)?b:null,c)};ma(Ra);function Ya(a){a.a==Sa&&Ma(function(){var a=new Za(void 0);$a(this,a)},a)}
function $a(a,b){if(a.a==Sa)if(a.c){var c=a.c;if(c.b){for(var d=0,e=-1,f=0,g;g=c.b[f];f++)if(g=g.za)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.a==Sa&&1==d?$a(c,b):(d=c.b.splice(e,1)[0],Wa==Va?d.kb(b):(bb(c),d.lb(b))))}}else Ua(a,Wa,b)}function cb(a,b){a.b&&a.b.length||a.a!=Va&&a.a!=Wa||db(a);a.b||(a.b=[]);a.b.push(b)}
function Xa(a,b,c,d){var e={za:null,kb:null,lb:null};e.za=new Ra(function(a,g){e.kb=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){g(m)}}:a;e.lb=c?function(b){try{var e=c.call(d,b);!t(e)&&b instanceof Za?g(b):a(e)}catch(m){g(m)}}:g});e.za.c=a;cb(a,e);return e.za}Ra.prototype.l=function(a){this.a=Sa;Ua(this,Va,a)};Ra.prototype.n=function(a){this.a=Sa;Ua(this,Wa,a)};
function Ua(a,b,c){if(a.a==Sa){if(a==c)b=Wa,c=new TypeError("Promise cannot resolve to itself");else{if(na(c)){a.a=1;c.then(a.l,a.n,a);return}if(z(c))try{var d=c.then;if(da(d)){eb(a,c,d);return}}catch(e){b=Wa,c=e}}a.f=c;a.a=b;db(a);b!=Wa||c instanceof Za||fb(a,c)}}function eb(a,b,c){function d(b){f||(f=!0,a.n(b))}function e(b){f||(f=!0,a.l(b))}a.a=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function db(a){a.e||(a.e=!0,Ma(a.s,a))}
Ra.prototype.s=function(){for(;this.b&&this.b.length;){var a=this.b;this.b=[];for(var b=0;b<a.length;b++){this.j++;var c=a[b],d=this.f;this.a==Va?c.kb(d):(bb(this),c.lb(d))}}this.e=!1};function Ta(a,b){if(w(b.stack)){var c=b.stack.split("\n",4)[3],d=b.message,d=d+Array(11-d.length).join(" ");a.g.push(d+c)}}function bb(a){for(;a&&a.d;a=a.c)a.d=!1}
function fb(a,b){a.d=!0;Ma(function(){if(a.d){if(b&&w(b.stack)&&a.g.length){for(var c=["Promise trace:"],d=a;d;d=d.c){for(var e=a.j;0<=e;e--)c.push(d.g[e]);c.push("Value: ["+(d.a==Wa?"REJECTED":"FULFILLED")+"] <"+String(d.f)+">")}b.stack+="\n\n"+c.join("\n")}gb.call(null,b)}})}var gb=La;function Za(a){oa.call(this,a)}D(Za,oa);Za.prototype.name="cancel";var hb=Array.prototype,jb=hb.indexOf?function(a,b,c){return hb.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(w(a))return w(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},kb=hb.forEach?function(a,b,c){hb.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},lb=hb.map?function(a,b,c){return hb.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=
w(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},mb=hb.some?function(a,b,c){return hb.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1},nb=hb.every?function(a,b,c){return hb.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function ob(a,b){var c=pb(a,b,void 0);return 0>c?null:w(a)?a.charAt(c):a[c]}
function pb(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function qb(a,b){return 0<=jb(a,b)}function rb(a){if(!u(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function sb(a,b){var c=jb(a,b),d;(d=0<=c)&&hb.splice.call(a,c,1);return d}function tb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function ub(a,b,c,d){hb.splice.apply(a,vb(arguments,1))}
function vb(a,b,c){return 2>=arguments.length?hb.slice.call(a,b):hb.slice.call(a,b,c)}function wb(a,b){if(!v(a)||!v(b)||a.length!=b.length)return!1;for(var c=a.length,d=xb,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function yb(a,b){return a>b?1:a<b?-1:0}function xb(a,b){return a===b}function zb(a,b){var c;c=Ab||yb;for(var d=0,e=a.length,f;d<e;){var g=d+e>>1,h;h=c(b,a[g]);0<h?d=g+1:(e=g,f=!h)}c=f?d:~d;0>c&&ub(a,-(c+1),0,b)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function F(a,b){this.j=[];this.la=b||null;this.b=this.c=!1;this.e=void 0;this.ra=this.K=this.l=!1;this.g=0;this.d=null;this.B=0;this.F=null;if(Error.captureStackTrace){var c={stack:""};Error.captureStackTrace(c,F);"string"==typeof c.stack&&(this.F=c.stack.replace(/^[^\n]*\n/,""))}}l=F.prototype;l.Ba=function(a,b){this.l=!1;Bb(this,a,b)};function Bb(a,b,c){a.c=!0;a.e=c;a.b=!b;a.fb()}function Cb(a){if(a.c){if(!a.ra)throw new Db;a.ra=!1}}l.p=function(a){Cb(this);Bb(this,!0,a)};
l.m=function(a){Cb(this);Eb(this,a);Bb(this,!1,a)};function Eb(a,b){a.F&&z(b)&&b.stack&&/^[^\n]+(\n   [^\n]+)+/.test(b.stack)&&(b.stack=b.stack+"\nDEFERRED OPERATION:\n"+a.F)}l.M=function(a,b){return Fb(this,a,null,b)};l.sb=function(a,b){return Fb(this,null,a,b)};l.ja=function(a,b){return Fb(this,a,a,b)};function Fb(a,b,c,d){a.j.push([b,c,d]);a.c&&a.fb();return a}l.then=function(a,b,c){var d,e,f=new Ra(function(a,b){d=a;e=b});Fb(this,d,function(a){e(a)});return f.then(a,b,c)};ma(F);
F.prototype.Ta=function(a){var b=new F;Fb(this,b.p,b.m,b);a&&(b.d=this,this.B++);return b};function Gb(a){return mb(a.j,function(a){return da(a[1])})}
F.prototype.fb=function(){this.g&&this.c&&Gb(this)&&(Hb(this.g),this.g=0);this.d&&(this.d.B--,delete this.d);for(var a=this.e,b=!1,c=!1;this.j.length&&!this.l;){var d=this.j.shift(),e=d[0],f=d[1],d=d[2];if(e=this.b?f:e)try{var g=e.call(d||this.la,a);t(g)&&(this.b=this.b&&(g==a||g instanceof Error),this.e=a=g);na(a)&&(this.l=c=!0)}catch(h){a=h,this.b=!0,Eb(this,a),Gb(this)||(b=!0)}}this.e=a;c&&(c=ia(this.Ba,this,!0),g=ia(this.Ba,this,!1),a instanceof F?(Fb(a,c,g),a.K=!0):a.then(c,g));b&&(a=new Kb(a),
Lb[a.Ja]=a,this.g=a.Ja)};function Mb(a){var b=new F;b.p(a);return b}function Db(){oa.call(this)}D(Db,oa);Db.prototype.message="Deferred has already fired";Db.prototype.name="AlreadyCalledError";function Kb(a){this.Ja=s.setTimeout(ia(this.b,this),0);this.a=a}Kb.prototype.b=function(){delete Lb[this.Ja];throw this.a;};var Lb={};function Hb(a){var b=Lb[a];b&&(s.clearTimeout(b.Ja),delete Lb[a])};function G(a){oa.call(this,a);this.name="ydn.error.ArgumentException"}D(G,oa);function Nb(a){oa.call(this,a);this.name="ydn.error.TypeError"}D(Nb,oa);function Ob(a){oa.call(this,a);this.name="ydn.error.NotSupportedException"}D(Ob,oa);function Pb(a){oa.call(this,a);this.name="ydn.error.NotImplementedException"}D(Pb,oa);function Qb(a){oa.call(this,a);this.name="ydn.error.InvalidOperationException"}D(Qb,oa);
function Rb(a){Error.captureStackTrace?Error.captureStackTrace(this,Rb):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InternalError"}D(Rb,Error);Rb.prototype.name="ydn.error.InternalError";function Sb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Tb(a,b){for(var c=v(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}var Ub="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ub.length;f++)c=Ub[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Wb="StopIteration"in s?s.StopIteration:Error("StopIteration");function Xb(){}Xb.prototype.next=function(){throw Wb;};Xb.prototype.Za=function(){return this};function Yb(a){if(a instanceof Xb)return a;if("function"==typeof a.Za)return a.Za(!1);if(v(a)){var b=0,c=new Xb;c.next=function(){for(;;){if(b>=a.length)throw Wb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function Zb(a,b){if(v(a))try{kb(a,b,void 0)}catch(c){if(c!==Wb)throw c;}else{a=Yb(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(d){if(d!==Wb)throw d;}}};function $b(a,b){this.b={};this.a=[];this.d=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)ac(this,arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof $b)e=a.ea(),d=a.Ha();else{var c=[],f=0;for(e in a)c[f++]=e;e=c;c=[];f=0;for(d in a)c[f++]=a[d];d=c}for(c=0;c<e.length;c++)ac(this,e[c],d[c])}}l=$b.prototype;l.gb=function(){return this.c};l.Ha=function(){bc(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};
l.ea=function(){bc(this);return this.a.concat()};l.clear=function(){this.b={};this.d=this.c=this.a.length=0};function bc(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Object.prototype.hasOwnProperty.call(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],Object.prototype.hasOwnProperty.call(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}}l.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.b,a)?this.b[a]:b};
function ac(a,b,c){Object.prototype.hasOwnProperty.call(a.b,b)||(a.c++,a.a.push(b),a.d++);a.b[b]=c}l.forEach=function(a,b){for(var c=this.ea(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};l.D=function(){return new $b(this)};l.Za=function(a){bc(this);var b=0,c=this.a,d=this.b,e=this.d,f=this,g=new Xb;g.next=function(){for(;;){if(e!=f.d)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw Wb;var g=c[b++];return a?g:d[g]}};return g};var cc;a:{var dc=s.navigator;if(dc){var ec=dc.userAgent;if(ec){cc=ec;break a}}cc=""}function fc(a){return-1!=cc.indexOf(a)};var gc=fc("Opera")||fc("OPR"),hc=fc("Trident")||fc("MSIE"),ic=fc("Gecko")&&-1==cc.toLowerCase().indexOf("webkit")&&!(fc("Trident")||fc("MSIE")),jc=-1!=cc.toLowerCase().indexOf("webkit");function kc(){var a=s.document;return a?a.documentMode:void 0}
var lc=function(){var a="",b;if(gc&&s.opera)return a=s.opera.version,da(a)?a():a;ic?b=/rv\:([^\);]+)(\)|;)/:hc?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:jc&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(cc))?a[1]:"");return hc&&(b=kc(),b>parseFloat(a))?String(b):a}(),mc={};
function nc(a){var b;if(!(b=mc[a])){b=0;for(var c=String(lc).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var q=k.exec(g)||["","",""],n=m.exec(h)||["","",""];if(0==q[0].length&&0==n[0].length)break;b=Fa(0==q[1].length?0:parseInt(q[1],10),0==n[1].length?0:parseInt(n[1],10))||Fa(0==q[2].length,0==n[2].length)||
Fa(q[2],n[2])}while(0==b)}b=mc[a]=0<=b}return b}var oc=s.document,pc=oc&&hc?kc()||("CSS1Compat"==oc.compatMode?parseInt(lc,10):5):void 0;function qc(a){var b;b||(b=rc(a||arguments.callee.caller,[]));return b}
function rc(a,b){var c=[];if(qb(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(sc(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=sc(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(rc(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function sc(a){if(tc[a])return tc[a];a=String(a);if(!tc[a]){var b=/function ([^\(]+)/.exec(a);tc[a]=b?b[1]:"[Anonymous]"}return tc[a]}var tc={};function uc(a,b,c,d,e){"number"==typeof e||vc++;this.f=d||ka();this.e=a;this.d=b;this.c=c;delete this.b;delete this.a}uc.prototype.b=null;uc.prototype.a=null;var vc=0;function wc(a){this.f=a;this.a=this.d=this.b=this.c=null}function xc(a,b){this.name=a;this.value=b}xc.prototype.toString=function(){return this.name};var yc=new xc("SHOUT",1200),zc=new xc("SEVERE",1E3),Ac=new xc("WARNING",900),Bc=new xc("INFO",800),Cc=new xc("CONFIG",700),Dc=new xc("FINE",500),Ec=new xc("FINER",400),Fc=new xc("FINEST",300),Gc=[new xc("OFF",Infinity),yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,new xc("ALL",0)],Hc=null;wc.prototype.getName=function(){return this.f};
function Ic(a){if(a.b)return a.b;if(a.c)return Ic(a.c);Ha("Root logger has no level set.");return null}wc.prototype.log=function(a,b,c){if(a.value>=Ic(this).value)for(da(b)&&(b=b()),a=this.e(a,b,c,wc.prototype.log),b="log:"+a.d,s.console&&(s.console.timeStamp?s.console.timeStamp(b):s.console.markTimeline&&s.console.markTimeline(b)),s.msWriteProfilerMark&&s.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.a)for(var e=0,f=void 0;f=c.a[e];e++)f(d);b=b.c}};
wc.prototype.e=function(a,b,c,d){a=new uc(a,String(b),this.f);if(c){a.b=c;var e;d=d||wc.prototype.e;try{var f;var g=aa("window.location.href");if(w(c))f={message:c,name:"Unknown error",lineNumber:"Not available",fileName:g,stack:"Not available"};else{var h,k;b=!1;try{h=c.lineNumber||c.Tb||"Not available"}catch(m){h="Not available",b=!0}try{k=c.fileName||c.filename||c.sourceURL||s.$googDebugFname||g}catch(q){k="Not available",b=!0}f=!b&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||
"Not available",name:c.name||"UnknownError",lineNumber:h,fileName:k,stack:c.stack||"Not available"}}e="Message: "+ta(f.message)+'\nUrl: <a href="view-source:'+f.fileName+'" target="_new">'+f.fileName+"</a>\nLine: "+f.lineNumber+"\n\nBrowser stack:\n"+ta(f.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ta(qc(d)+"-> ")}catch(n){e="Exception trying to expose exception! You win, we lose. "+n}a.a=e}return a};var Jc={},Kc=null;function Lc(){Kc||(Kc=new wc(""),Jc[""]=Kc,Kc.b=Cc)}
function Mc(){Lc();return Kc}function H(a){Lc();var b;if(!(b=Jc[a])){b=new wc(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=H(a.substr(0,c));c.d||(c.d={});c.d[d]=b;b.c=c;Jc[a]=b}return b};function Nc(a,b,c){a&&a.log(b,c,void 0)}function Oc(a,b){a&&a.log(zc,b,void 0)}function I(a,b){a&&a.log(Ac,b,void 0)}function Pc(a,b){a&&a.log(Dc,b,void 0)};function J(a,b){a&&a.log(Fc,b,void 0)}function K(a,b){a&&a.log(Ec,b,void 0)};function Qc(a,b){F.call(this,0,b);this.f=[]}D(Qc,F);Qc.prototype.Sa=function(a,b){this.f.push([a,b]);return this};function Rc(a,b){for(var c=0;c<a.f.length;c++)a.f[c][0].call(a.f[c][1],b)}Qc.prototype.p=function(a){this.f.length=0;Qc.u.p.call(this,a)};Qc.prototype.m=function(a){this.f.length=0;Qc.u.m.call(this,a)};var Sc={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange"},Tc=s.IDBRequest&&"LOADING"in s.IDBRequest?s.IDBTransaction:s.webkitIDBRequest&&"LOADING"in s.webkitIDBRequest&&1===s.webkitIDBTransaction.READ_WRITE?s.webkitIDBTransaction:Sc,Uc=Tc.READ_ONLY,L=Tc.READ_WRITE,Vc=Tc.VERSION_CHANGE,Wc=s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.moz_indexedDB||s.msIndexedDB;F.prototype.done=F.prototype.M;F.prototype.fail=F.prototype.sb;F.prototype.always=F.prototype.ja;Qc.prototype.then=Qc.prototype.then;function Xc(a,b){var c,d;2==arguments.length&&w(arguments[1])?(c=!0,d=arguments[1].split(".")):d=(c=v(b))?b:arguments;for(c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}function Yc(a,b,c){if(a)if(-1==b.indexOf("."))a[b]=c;else{b=b.split(".");for(var d=b.pop(),e;e=b.shift();)z(a[e])||(a[e]={}),a=a[e];a[d]=c}}var Zc={};
function $c(a){a=[a];for(var b=new ad,c=0,d,e;void 0!==(e=a.pop());){0===c%4&&12<c+4&&(b.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){a.push(Zc);for(d=e.length;d--;)a.push(e[d]);continue}else b.write(c);else if("number"===d)c+=1,b.write(c),bd(b,e);else if(e instanceof Date)c+=2,b.write(c),bd(b,e.valueOf());else if("string"===d){c+=3;b.write(c);c=b;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,f>>
2|255,(f|3)<<6)}c.write(0)}else if(e===Zc)b.write(0);else return"";c=0}return b.trim().toString()}function cd(a){for(var b=[],c=b,d=[],e,f,g=new dd(a);null!=ed(g);)if(0===g.a)c=d.pop();else{if(null===g.a)break;do{e=g.a/4|0;a=g.a%4;for(var h=0;h<e;h++)f=[],c.push(f),d.push(c),c=f;if(0===a&&12<g.a+4)ed(g);else break}while(1);1===a?c.push(fd(g)):2===a?c.push(new Date(fd(g))):3===a?c.push(gd(g)):0===a&&(c=d.pop())}return b[0]}
function bd(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>
8,c&255);c=e%65536;a.write(c>>8,c&255)}function fd(a){var b=ed(a)|0,c=b>>7?!1:!0,d=c?-1:1,e=(b&127)<<4,b=ed(a)|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-(ed(a)|0):ed(a)|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}
function gd(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=ed(a);if(0===f||null==f)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join("")}function dd(a){this.a=null;this.b=a;this.c=this.b.length-1;this.index=-1}function ed(a){return a.a=a.index<a.c?parseInt(a.b[++a.index]+a.b[++a.index],16):null}function ad(){this.a=[];this.b=void 0}
ad.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.b=arguments[b].toString(16),this.a.push(2===this.b.length?this.b:this.b="0"+this.b)};ad.prototype.trim=function(){for(var a=this.a.length;"00"===this.a[--a];);this.a.length=++a;return this};ad.prototype.toString=function(){return this.a.length?this.a.join(""):""};function hd(a,b){var c=$c(a),d=$c(b);return c>d?1:c==d?0:-1};function M(a,b,c){Qc.call(this,0,c);this.n=a;this.f=[];this.s=[];this.ta=[];this.a=null;this.ma="";this.V=0}D(M,Qc);l=M.prototype;l.ma="";l.logger=H("ydn.db.Request");function id(a,b,c){a.a=b;a.ma=c;K(a.logger,a+" BEGIN");if(b){for(c=0;c<a.s.length;c++)a.s[c][0].call(a.s[c][1],b);a.s.length=0}K(a.logger,a+" END")}function jd(a){var b=new M(a.n);a.V++;id(b,a.a,a.ma+"C"+a.V);return b}l.Eb=function(){return!!this.a};
l.abort=function(){K(this.logger,this+" aborting "+this.a);if(this.a)if(da(this.a.abort))this.a.abort();else if(da(this.a.executeSql))this.a.executeSql("ABORT",[],function(){},function(){return!0});else throw new Ob;else throw new kd(this+" No active transaction");};function N(a,b,c){var d=a.ta.shift();c=!!c;d?d[0].call(d[1],b,c,function(b,c){N(a,b,c)}):c?a.m(b):a.p(b)}function ld(a,b,c){a.ta.push([b,c])}function P(a,b,c){a.a?b.call(c,a.a):a.s.push([b,c])}
l.p=function(a){K(this.logger,this+" SUCCESS");M.u.p.call(this,a)};l.m=function(a){K(this.logger,this+" ERROR");M.u.m.call(this,a)};function Q(a){var b="";a.ma&&(b=a.a?"*":"",b="["+a.ma+b+"]");return a.n+b}function md(a,b){var c=new M(a);N(c,b);return c}l.Ob=function(){return this};l.toString=function(){return"Request:"+Q(this)};
l.fb=function(){this.g&&this.c&&Gb(this)&&(Hb(this.g),this.g=0);this.d&&(this.d.B--,delete this.d);for(var a=this.e,b=!1;this.j.length&&!this.l;){var c=this.j.shift(),d=c[0],e=c[1],c=c[2];if(d=this.b?e:d)d=d.call(c||this.la,a),t(d)&&(this.b=this.b&&(d==a||d instanceof Error),this.e=a=d),na(a)&&(this.l=b=!0)}this.e=a;b&&(b=ia(this.Ba,this,!0),d=ia(this.Ba,this,!1),a instanceof F?(Fb(a,b,d),a.K=!0):a.then(b,d))};
l.toJSON=function(){var a=(this.ma||"").match(/B(\d+)T(\d+)(?:Q(\d+?))?(?:R(\d+))?/)||[];return{method:this.n?this.n.split(":"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};var R=Wc&&Wc.cmp?ia(Wc.cmp,Wc):hd,nd=[];function od(){0!=pd&&(qd[this[ea]||(this[ea]=++fa)]=this)}var pd=0,qd={};od.prototype.ra=!1;od.prototype.eb=function(){if(!this.ra&&(this.ra=!0,this.$(),0!=pd)){var a=this[ea]||(this[ea]=++fa);delete qd[a]}};od.prototype.$=function(){if(this.ta)for(;this.ta.length;)this.ta.shift()()};function rd(a,b){this.type=a;this.a=this.target=b;this.zb=!0}rd.prototype.eb=function(){};rd.prototype.preventDefault=function(){this.zb=!1};function sd(a,b){rd.call(this,a,b)}D(sd,rd);sd.prototype.h=function(){return this.w};function td(a,b,c,d,e){rd.call(this,a,b);this.version=c;this.Bb=d;this.yb=e}D(td,sd);l=td.prototype;l.name="ReadyEvent";l.version=NaN;l.Bb=NaN;l.yb=null;l.Pb=function(){return this.version};l.Gb=function(){return this.Bb};l.Fb=function(){return this.yb};function ud(a,b,c){rd.call(this,c||"error",a);this.error=b}D(ud,sd);ud.prototype.toString=function(){return this.name+":"+(this.error?this.error:"")};
ud.prototype.name="ErrorEvent";ud.prototype.error=null;ud.prototype.b=function(){return this.error};function vd(a,b){ud.call(this,a,b,"fail")}D(vd,ud);vd.prototype.name="FailEvent";function xd(a,b,c,d,e){rd.call(this,a,b);this.w=c;this.key=d;this.value=e}D(xd,sd);xd.prototype.name="RecordEvent";xd.prototype.b=function(){return this.key};xd.prototype.J=function(){return this.value};function yd(a,b,c,d,e){rd.call(this,a,b);this.w=c;this.keys=d;this.G=e}D(yd,sd);yd.prototype.name="StoreEvent";
yd.prototype.ea=function(){return this.keys};yd.prototype.Ha=function(){return this.G};function zd(a,b,c){var d;if(z(a))d=a.store,b=a.id,null!=a.parent&&(c=new zd(a.parent));else if(t(b))d=a;else if(d=a.lastIndexOf("^|"),b=a,0<d&&(b=a.substr(d),c=new zd(a.substring(0,d))),b=b.split("^:"),d=b[0],b=b[1],!t(b))throw Error("Invalid key value: "+a);this.w=d;this.id=b;this.parent=c||null}l=zd.prototype;l.toJSON=function(){var a={store:this.w,id:this.id};this.parent&&(a.parent=this.parent.toJSON());return a};
l.valueOf=function(){return(this.parent?this.parent.valueOf()+"^|":"")+this.w+"^:"+this.id};l.toString=function(){return this.valueOf().replace("^|","|").replace("^:",":")};l.h=function(){return this.w};l.Kb=function(){return this.id};function Ad(a){return u(a.id)?a.id.join("^|"):a.id instanceof Date?+a.id:a.id}l.Lb=function(){return this.parent};function Bd(a){return x(a)||w(a)||u(a)&&nb(a,Bd)||a instanceof Date}
function Cd(a){if(v(a)){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return a};function S(a,b,c,d){this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d;da(Object.freeze)&&Object.freeze(this)}S.prototype.lower=void 0;S.prototype.upper=void 0;S.prototype.toJSON=function(){return Dd(this)};function Ed(a){return Fd(a)}S.only=function(a){return new S(a,a,!1,!1)};S.bound=function(a,b,c,d){return new S(a,b,c,d)};S.upperBound=function(a,b){return new S(void 0,a,void 0,!!b)};S.lowerBound=function(a,b){return new S(a,void 0,!!b,void 0)};
function Gd(a){var b;if(u(a))b=tb(a),b.push("\uffff");else if(w(a))b=a+"\uffff";else if(x(a))b=a+2.220460492503131E-16,a-=2.220460492503131E-16;else return S.only(a);return S.bound(a,b,!1,!0)}function Dd(a){a=a||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}}
function Fd(a){return null!=a?null!=a.upper&&null!=a.lower?Hd.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):null!=a.upper?Hd.upperBound(a.upper,a.upperOpen):null!=a.lower?Hd.lowerBound(a.lower,a.lowerOpen):null:null}function Id(a){if(a instanceof S)return"";if(null!=a){if(z(a)){for(var b in a)if(a.hasOwnProperty(b)&&!qb(["lower","upper","lowerOpen","upperOpen"],b))return'invalid attribute "'+b+'" in key range object';return""}return"key range must be an object"}return""}
function Jd(a,b){var c=a.lower,d=a.upper,e=a.lowerOpen,f=a.upperOpen;null!=b.lower&&(null==a.lower||b.lower>=a.lower)&&(c=b.lower,e=b.lowerOpen||a.lowerOpen);null!=b.upper&&(null==a.upper||b.upper<=a.upper)&&(d=b.upper,f=b.upperOpen||a.upperOpen);return S.bound(c,d,e,f)}
function Kd(a,b,c,d,e){if(c)if(c.lowerOpen||c.upperOpen||null==c.lower||null==c.upper||0!==R(c.lower,c.upper)){if(null!=c.lower){var f=c.lowerOpen?" > ":" >= ";d.push(a+f+"?");e.push(Ld(c.lower,b))}null!=c.upper&&(f=c.upperOpen?" < ":" <= ",d.push(a+f+"?"),e.push(Ld(c.upper,b)))}else d.push(a+" = ?"),e.push(Ld(c.lower,b))}
function Md(a,b,c,d){var e,f,g,h;if("starts"==a||"^"==a)return Gd(b);if("<"==a||"<="==a)e=b,g="<"==a;else if(">"==a||">="==a)f=b,h=">"==a;else if("="==a||"=="==a)e=f=b;else throw new G("invalid op: "+a);if("<"==c||"<="==c)e=d,g="<"==c;else if(">"==c||">="==c)f=d,h=">"==c;else if(t(c))throw new G("invalid op2: "+c);return S.bound(f,e,h,g)}var Hd=s.IDBKeyRange||s.webkitIDBKeyRange||S;function Nd(a,b,c,d,e,f){t(e)||(e=u(a)?a.join(", "):a);if(null!=a&&!w(a)&&!v(a))throw new G("index keyPath for "+e+" must be a string or array, but "+a+" is "+typeof a);u(a)&&Object.freeze&&Object.freeze(a);!t(a)&&t(e)&&(a=e);this.keyPath=a;this.f=v(this.keyPath);this.b=e;this.type=Od(b);if(t(b)){if(!t(this.type))throw new G("type invalid in index: "+this.b);if(u(this.keyPath))throw new G('composite key for store "'+this.b+'" must not specified type');}this.unique=!!c;this.multiEntry=!!d;this.g=w(this.type)?
this.type:Pd;this.d=w(e)?e:u(a)?this.keyPath.join(","):a;this.c=Ea(this.d);this.a=this.f?null:this.keyPath.split(".");this.e=f||null}function Qd(a,b){if(null!=b){if(v(a.keyPath)){for(var c=[],d=0,e=a.keyPath.length;d<e;d++){var f=Xc(b,a.keyPath[d]);c[d]=f}return c}return Xc(b,a.keyPath)}}function Rd(a,b,c){for(var d=0;d<a.a.length;d++)d==a.a.length-1?b[a.a[d]]=c:z(b[a.a[d]])||(b[a.a[d]]={})}var Pd="TEXT";function Ld(a,b){if("DATE"==b){if(a instanceof Date)return+a}else return null!=b?a:$c(a)}
function Sd(a,b){return"DATE"==b?new Date(a):t(b)?a:cd(a)}var Td=["BLOB","DATE","INTEGER","NUMERIC",Pd];function Od(a){if(w(a))return a=jb(Td,a),Td[a]}l=Nd.prototype;l.getName=function(){return this.b};l.toJSON=function(){return{name:this.b,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};l.D=function(){var a=u(this.keyPath)?tb(this.keyPath):this.keyPath;return new Nd(a,this.type,this.unique,this.multiEntry,this.b,this.e)};
function Ud(a,b){return null!=a||null!=b?null!=a?null!=b?v(a)&&v(b)?wb(a,b)?null:"expect: "+a+", but: "+b:Vd(a,b)?null:"expect: "+a+", but: "+b:"keyPath: "+a+" no longer defined":"newly define "+b:null}l.hint=function(a){if(!a)return this;var b=u(this.keyPath)?tb(this.keyPath):this.keyPath,c=this.type;t(a.type)||"TEXT"!=c||(c=void 0);return new Nd(b,c,this.unique,this.multiEntry,a.b)};
l.toString=function(){var a=this.multiEntry?"MultiEntry":"";this.a&&1<this.a.length&&(a+="Compound");return a+"Index:"+this.b};function Wd(a,b,c,d,e,f,g,h){this.c=a;if(!w(this.c))throw new G("store name must be a string");this.keyPath=t(b)?b:null;this.j=v(this.keyPath);if(null!==this.keyPath&&!w(this.keyPath)&&!this.j)throw new G("keyPath must be a string or array");this.b=c;var k;if(null!=d){k=Od(d);if(!t(k))throw new G('type "'+d+'" for primary key in store "'+this.c+'" is invalid.');if(this.j)throw new G('composite key for store "'+this.c+'" must not specified type');}this.type=null!=k?k:this.b?"INTEGER":void 0;this.f=
w(this.keyPath)?this.keyPath.split("."):[];this.a=e||[];this.da=!!f;this.ia=!!g;this.n=w(this.type)?this.type:Pd;this.e=u(this.keyPath)?this.keyPath.join(","):w(this.keyPath)?this.keyPath:"_ROWID_";this.d=Ea(this.e);if(this.l=!!h){if(this.keyPath)throw new G('encrypted store "'+this.c+'" must not use inline key');if(this.b)throw new G('encrypted store "'+this.c+'" must not use key generator');}this.g=[]}l=Wd.prototype;l.da=!1;l.ia=!1;
l.toJSON=function(){for(var a=[],b=0;b<this.a.length;b++)a.push(this.a[b].toJSON());return{name:this.c,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:a}};
function Xd(a){var b="name keyPath autoIncrement type indexes dispatchEvents fixed Sync encrypted".split(" "),c;for(c in a)if(a.hasOwnProperty(c)&&-1==jb(b,c))throw new G('Unknown attribute "'+c+'"');b=[];c=a.indexes||[];if(u(c))for(var d=0;d<c.length;d++){var e;e=c[d];var f="name unique type keyPath multiEntry generator".split(" "),g=void 0;for(g in e)if(e.hasOwnProperty(g)&&-1==jb(f,g))throw new G("Unknown field: "+g+" in "+T(e));e=new Nd(e.keyPath,e.type,e.unique,e.multiEntry,e.name,e.generator);
t(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new Wd(a.name,a.keyPath,a.autoIncrement,"undefined"===a.type||"null"===a.type?void 0:a.type,b,a.dispatchEvents,a.fixed,a.encrypted)}function Yd(a,b,c,d,e,f,g){a=Zd(a,b,c,d,e,f,g);b="";0!=c&&(b+="SELECT "+a.select);b+=" FROM "+a.R;a.o&&(b+=" WHERE "+a.o);a.group&&(b+=" GROUP BY "+a.group);a.U&&(b+=" ORDER BY "+a.U);return b}
function Zd(a,b,c,d,e,f,g){var h={select:"",R:"",o:"",group:"",U:""},k=a.e,m=a.d,q=null;d!==k&&w(d)&&(q=$d(a,d));var n=!!q,p=d||k,r=Ea(p),y=n?q.type:a.type,A=n&&q.multiEntry;h.R=ae(a);6===c?h.select="COUNT("+m+")":3===c||1===c||2===c?(h.select=m,null!=d&&d!=k&&(h.select+=", "+r)):h.select="*";d=g?"DISTINCT ":"";k=[];A?(A=Ea("ydn.db.me:"+a.getName()+":"+q.getName()),h.select=6===c?"COUNT("+d+A+"."+r+")":3===c||1===c||2===c?"DISTINCT "+ae(a)+"."+m+", "+A+"."+r+" AS "+p:"DISTINCT "+ae(a)+".*, "+A+"."+
r+" AS "+p,h.R=A+" INNER JOIN "+ae(a)+" USING ("+m+")",null!=e&&(Kd(A+"."+r,y,e,k,b),0<k.length&&(h.o=h.o?h.o+(" AND "+k.join(" AND ")):k.join(" AND ")))):null!=e&&(Kd(r,y,e,k,b),0<k.length&&(h.o=h.o?h.o+(" AND "+k.join(" AND ")):k.join(" AND ")));n&&!q.unique&&g&&(h.group=r);a=f?"DESC":"ASC";h.U=r+" "+a;n&&(h.U+=", "+m+" "+a);return h}
function be(a,b,c,d,e,f,g,h,k){var m,q,n,p;null!=e?(m=e.lower,q=e.upper,n=e.lowerOpen,p=e.upperOpen,f?null!=q?(e=R(h,q),-1==e?(q=h,p=k):0==e&&(p=k||p)):(q=h,p=k):null!=m?(e=R(h,m),1==e?(m=h,n=k):0==e&&(n=k||n)):(m=h,n=k)):f?(q=h,p=k):(m=h,n=k);e=new S(m,q,!!n,!!p);d=d?$d(a,d):null;b=Zd(a,c,b,d?d.d:a.e,e,f,g);b="SELECT "+b.select+" FROM "+b.R+(b.o?" WHERE "+b.o:"")+(b.group?" GROUP BY "+b.group:"")+" ORDER BY "+b.U;d&&(b+=", "+a.d+(f?"DESC":"ASC"));return b}
function ce(a,b,c,d,e,f,g,h,k,m){var q=$d(a,d),n=q.d;d=q.c;var p=a.d,r=k?" <":" >",r=g?r+" ":r+"= ";g=Ld(f,q.type);h=Ld(h,a.type);q="";e?(a=Zd(a,c,b,n,e,k,m),a.o+=" AND ",q=d+r+"?",c.push(g)):(e=k?S.upperBound(f,!0):S.lowerBound(f,!0),a=Zd(a,c,b,n,e,k,m),q=a.o,a.o="");a.o+="("+q+" OR ("+d+" = ? AND "+p+r+"?))";c.push(g);c.push(h);return"SELECT "+a.select+" FROM "+a.R+" WHERE "+a.o+(a.group?" GROUP BY "+a.group:"")+" ORDER BY "+a.U}l.D=function(){return Xd(this.toJSON())};
l.index=function(a){return this.a[a]||null};function $d(a,b){return ob(a.a,function(a){return a.getName()==b})}function de(a,b){for(var c=0;c<a.a.length;c++)if(!Ud(a.a[c].keyPath,b))return a.a[c];return null}function ee(a,b){return b===a.keyPath?!0:mb(a.a,function(a){return a.getName()==b})}function ae(a){return Ea(a.c)}
function fe(a,b){if(!b)return a;var c=a.b,d=u(a.keyPath)?tb(a.keyPath):a.keyPath,e=a.type,f=lb(a.a,function(a){return a.D()});t(b.type)||"TEXT"!=e||(e=void 0);u(b.keyPath)&&w(d)&&d==b.keyPath.join(",")&&(d=tb(b.keyPath));for(var g=0,h=b.a.length;g<h;g++)if(b.a[g].f)for(var k=b.a[g].getName(),m=f.length-1;0<=m;m--)if(0<=k.indexOf(f[m].getName())){f[m]=b.a[g].D();break}for(g=0;g<f.length;g++)(h=$d(b,f[g].getName()))&&(f[g]=f[g].hint(h));return new Wd(b.c,d,c,e,f)}l.getName=function(){return this.c};
function ge(a){return!!a.keyPath}function he(a,b,c){if(b){if(!a.keyPath&&null!=c)return c;if(a.j){c=[];for(var d=0;d<a.keyPath.length;d++)c.push(Xc(b,a.keyPath[d]));return c}if(a.keyPath)return Tb(b,a.f)}}function ie(a,b,c){for(var d=0;d<a.f.length;d++){var e=a.f[d];if(d==a.f.length-1){b[e]=c;break}t(b[e])||(b[e]={});b=b[e]}}
function je(a,b,c){var d=[],e=[];c=t(c)?c:he(a,b);t(c)&&(e.push(a.d),d.push(Ld(c,a.type)));for(var f=0;f<a.a.length;f++){var g=a.a[f];if(!g.multiEntry&&g.getName()!==a.keyPath&&"_default_"!=g.getName()){var h=Qd(g,b);null!=h&&(d.push(Ld(h,g.type)),e.push(g.c))}}a.ia?a.ia&&!a.keyPath&&0==a.a.length&&(w(b)&&-1==b.indexOf(";base64,")?d.push(b):d.push(T(b)),e.push("_default_")):(d.push(T(b)),e.push("_default_"));a=[];for(f=d.length-1;0<=f;f--)a[f]="?";return{wb:e,Ab:a,G:d,key:c}}
function ke(a,b){if(!b)return"missing store: "+a.c;if(a.c!=b.c)return"store name, expect: "+a.c+", but: "+b.c;var c=Ud(a.keyPath,b.keyPath);if(c)return"keyPath, "+c;if(t(a.b)&&t(b.b)&&a.b!=b.b)return"autoIncrement, expect:  "+a.b+", but: "+b.b;if(a.a.length!=b.a.length)return"indexes length, expect:  "+a.a.length+", but: "+b.a.length;if(t(a.type)&&t(b.type)&&(v(a.type)?!wb(a.type,b.type):a.type!=b.type))return"data type, expect:  "+a.type+", but: "+b.type;for(c=0;c<a.a.length;c++){var d=$d(b,a.a[c].getName()),
e;e=a.a[c];if(d)if(e.b!=d.b)e="name, expect: "+e.b+", but: "+d.b;else{var f=Ud(e.keyPath,d.keyPath);e=f?"keyPath, "+f:null!=e.unique&&null!=d.unique&&e.unique!=d.unique?"unique, expect: "+e.unique+", but: "+d.unique:null!=e.multiEntry&&null!=d.multiEntry&&e.multiEntry!=d.multiEntry?"multiEntry, expect: "+e.multiEntry+", but: "+d.multiEntry:t(e.type)&&t(d.type)&&(v(e.type)?!wb(e.type,d.type):e.type!=d.type)?"data type, expect: "+e.type+", but: "+d.type:""}else e="no index for "+e.b;if(0<e.length)return'index "'+
a.a[c].getName()+'" '+e}return""}function le(a,b){if(b)for(var c=0;c<a.a.length;c++){var d=a.a[c],e=b;if(d.e){var f=d.e(e),g=typeof f;if("string"==g||"number"==g||f instanceof Date||u(f)){for(g=0;g<d.a.length-1;g++)z(e[d.a[g]])||(e[d.a[g]]={});e[d.a[d.a.length-1]]=f}}}}function me(a,b){a.g.push(b)}function ne(a,b,c,d,e){for(var f=0;f<a.g.length;f++)d!==f&&a.g[f].call(e,b,c)}l.toString=function(){return"Store:"+this.c+"["+this.a.length+"index]"};function oe(a){return eval("("+a+")")}function pe(){}
function qe(a,b,c){switch(typeof b){case "string":re(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(u(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),qe(a,b[f],c),e=",";c.push("]");break}c.push("{");d="";for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f=b[e],"function"!=typeof f&&(c.push(d),re(e,c),c.push(":"),qe(a,f,c),d=","));c.push("}");
break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var se={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},te=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;function re(a,b){b.push('"',a.replace(te,function(a){if(a in se)return se[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return se[a]=e+b.toString(16)}),'"')};H("ydn");function ue(a){return!w(a)||ra(a)?{}:"undefined"==typeof s.JSON?oe(a):JSON.parse(a)}function ve(a){var b;try{b=T(a)}catch(c){b=""}return b?b.substr(0,70)+(70<b.length?"...":""):""}function T(a){if("undefined"==typeof s.JSON){var b=[];qe(new pe,a,b);a=b.join("")}else a=JSON.stringify(a,void 0,void 0);return a};function we(a,b,c){if(!a||ra(a))throw new G("store_name must be provided for primary full text index");if(!b||ra(b))throw new G("index_name must be provided for primary full text index");this.w=a;this.a=b;this.b=c||1}we.prototype.h=function(){return this.w};function xe(a,b,c,d){this.name=a;this.b=b;this.c=c||"";if(-1==["","en","fr"].indexOf(this.c))throw new G('Unsupported lang "'+c+" for full text search index "+a);this.d=d||null;this.a=null}xe.prototype.getName=function(){return this.name};xe.prototype.count=function(){return this.b.length};xe.prototype.index=function(a){return this.b[a]};function ye(a,b,c){return ob(a.b,function(a){return a.h()==b&&a.a==c})}
function ze(a){var b=["name","sources","lang"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==jb(b,c))throw new G("Unknown field: "+c+" in "+T(a));if(!u(a.sources))throw new G("indexes require for full text search index "+a.name+", but "+a.sources+" of type "+typeof a.sources+" found.");b=a.sources.map(function(a){var b=["storeName","keyPath","weight"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==jb(b,c))throw new G("Unknown field: "+c+" in "+ve(a));return new we(a.storeName,a.keyPath,a.weight)});return new xe(a.name,
b,a.lang)};function Ae(a,b){var c,d,e=b;if(z(a)){d=a;c=["version","stores","fullTextCatalogs"];for(var f in d)if(d.hasOwnProperty(f)&&-1==jb(c,f))throw new G("Unknown field: "+f+" in schema.");c=d.version;var e=[],g=d.stores||[];if(!u(g))throw new G("stores must be array");for(f=0;f<g.length;f++){var h=Xd(g[f]);if(-1!=pb(e,function(a){return a.name==h.getName()}))throw new G('duplicate store name "'+h.getName()+'".');e.push(h)}}else w(a)?c=0==a.length?void 0:parseFloat(a):x(a)&&(c=a);if(t(c)){if(!x(c)||0>c)throw new G("Invalid version: "+
c+" ("+a+")");isNaN(c)&&(c=void 0)}if(t(b)&&(!u(b)||0<b.length&&!(b[0]instanceof Wd)))throw new G("stores");this.version=c;this.b=!t(this.version);this.stores=e||[];c=[];if(d&&d.fullTextCatalogs)for(f=0;f<d.fullTextCatalogs.length;f++)e=ze(d.fullTextCatalogs[f]),c[f]=e,U(this,e.getName())||(g=[new Nd("k",Pd),new Nd("v",Pd)],e=new Wd(e.getName(),"id",!1,void 0,g),this.stores.push(e));this.c=c}
Ae.prototype.toJSON=function(){var a=lb(this.stores,function(a){return a.toJSON()}),b={};b.stores=a;t(this.version)&&(b.version=this.version);return b};Ae.prototype.b=!1;Ae.prototype.a=function(){return!1};function Be(a){return lb(a.stores,function(a){return a.getName()})}Ae.prototype.count=function(){return this.stores.length};function U(a,b){return ob(a.stores,function(a){return a.getName()==b})}function Ce(a,b){return mb(a.stores,function(a){return a.getName()==b})}
function Fe(a,b,c,d){if(!b||a.stores.length!=b.stores.length)return"Number of store: "+a.stores.length+" vs "+b.stores.length;for(var e=0;e<a.stores.length;e++){var f=U(b,a.stores[e].getName());if(f){c&&(f=fe(f,a.stores[e]));if(d)for(var g=f,h=a.stores[e],k=0;k<h.a.length;k++){var m=h.a[k];ee(g,m.getName())||"BLOB"!=m.type||(m=new Nd(m.keyPath,m.type,m.unique,m.multiEntry,m.getName()),g.a.push(m))}f=ke(a.stores[e],f);if(0<f.length)return'store: "'+a.stores[e].getName()+'" '+f}else return'missing object store "'+
a.stores[e].getName()+'"'}return""}function Ge(a,b){return ob(a.c,function(a){return a.getName()==b})};function He(a,b){Ae.call(this,a,b)}D(He,Ae);He.prototype.a=function(){return!0};function Ie(a,b){a.stores.push(b)};function Je(a){Error.captureStackTrace?Error.captureStackTrace(this,Je):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.ArgumentException"}D(Je,Error);D(Je,Error);function Ke(a){Error.captureStackTrace?Error.captureStackTrace(this,Ke):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InternalError"}D(Ke,Error);Ke.prototype.name="ydn.InternalError";
function Le(a){Error.captureStackTrace?Error.captureStackTrace(this,Le):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.ConstraintError"}D(Le,Error);Le.prototype.name="ydn.error.ConstraintError";function Me(a){Error.captureStackTrace?Error.captureStackTrace(this,Me):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InvalidOperationException"}D(Je,Error);
function Ne(a){Error.captureStackTrace?Error.captureStackTrace(this,Ne):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.error.InvalidOperationError"}D(Ne,Error);function Vd(a,b){var c;c=c||{};if(null!=a&&null!=b){if(v(a)&&v(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(-1==ob(b,function(b){return Vd(b,a[d])}))return!1;return!0}if(v(a))return 1==a.length&&Vd(a[0],b);if(v(b))return 1==b.length&&Vd(b[0],a);if(z(a)&&z(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=Vd(a[e],b[e]);if(!f)return!1}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=Vd(a[e],b[e]),!f))return!1;return!0}return a===b}return!1};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
function Oe(a,b,c){c=c||{};var d="autoSchema connectionTimeout size mechanisms policy isSerial Encryption".split(" "),e;for(e in c)if(c.hasOwnProperty(e)&&-1==jb(d,e))throw new G('Unknown attribute "'+e+'" in options.');if(c.mechanisms){if(!u(c.mechanisms))throw new G("mechanisms attribute must be an array but "+ba(c.mechanisms)+" found.");for(e=0;e<c.mechanisms.length;e++)if(!qb(Pe,c.mechanisms[e]))throw new G('Invalid mechanism "'+c.mechanisms[e]+'"');}this.s=c.mechanisms||Pe;this.n=c.size;this.B=
t(c.connectionTimeout)?c.connectionTimeout:3E4;this.b=null;this.d=[];this.Ka=!1;var f;if(b instanceof Ae)f=b;else if(z(b))for(c.autoSchema||!t(b.stores)?f=new He(b):f=new Ae(b),c=b.stores?b.stores.length:0,e=0;e<c;e++)d=U(f,b.stores[e].name),b.stores[e].Sync&&I(this.logger,"Synchronization option for "+d.getName()+" ignored.");else f=new He;this.a=f;for(e=0;e<this.a.count();e++)if((this.a.stores[e]||null).l)throw Error("encryption option must be defined");t(a)&&this.l(a);this.f=null;this.e=new F}
Oe.prototype.logger=H("ydn.db.con.Storage");Oe.prototype.F=function(a){if(t(a)){var b=function(b){a(b.toJSON());a=void 0};if(this.b)this.b.Q(b);else{var c=this;this.transaction(function(a){c.b.Q(b,a)},null,Uc)}}return this.a?this.a.toJSON():null};Oe.prototype.l=function(a){if(this.b)throw new Qb("Already connected with "+this.g);this.g=a;Qe(this)};Oe.prototype.getName=function(){return this.g};var Pe="indexeddb sqlite websql localstorage sessionstorage userdata memory".split(" ");l=Oe.prototype;
l.cb=function(){return null};
function Qe(a){function b(b,e){b?(J(a.logger,a+": ready."),a.xb=NaN,d.wa=function(b){a.N(new ud(a,b))},d.Wa=function(b){a.N(new vd(a,b));a.b=null},d.Oa=function(b){a.N(b)},setTimeout(function(){Re(a,e);Se(a)},10),c.p(e)):(I(a.logger,a+": database connection fail "+e.name),setTimeout(function(){Re(a,new vd(a,e));if(a.d){var b=a.logger;for(b&&b.log(Bc,"Purging "+a.d.length+" transactions request.",void 0);b=a.d.shift();)b.L&&b.L("error",e)}},10),c.m(e))}for(var c=new F,d=null,e=a.s,f=0;f<e.length;f++){var g=
e[f].toLowerCase();if(d=a.cb(g)){d=a.cb(g);break}}null===d?(e=new Le("No storage mechanism found."),b(!1,new vd(a,e))):Fb(d.na(a.g,a.a),function(a){this.b=d;b(!0,new td("ready",this,parseFloat(d.Ua()),parseFloat(a),null))},function(a){I(this.logger,this+": opening fail");b(!1,a)},a)}l.Xa=function(){if(this.b)return this.b.oa()};l.Na=function(a,b){this.e.ja(a,b)};function Re(a,b){setTimeout(function(){a.a.b&&a.e.c||(b instanceof ud?a.e.m(b.error):a.e.p(),a.N(b))},4)}
function Te(a){return!!a.b&&a.b.Va()}l.close=function(){this.b&&(this.b.close(),this.b=null,J(this.logger,this+" closed"))};l.xb=NaN;function Se(a){var b=a.d.shift();b&&(J(a.logger,"pop tx queue["+(a.d.length+1)+"]"),a.transaction(b.Fa,b.Jb,b.mode,b.L));a.xb=ka()}
function Ue(a,b,c,d,e){J(a.logger,"push tx queue["+a.d.length+"]");a.d.push({Fa:b,Jb:c,mode:d,L:e});100<a.d.length&&0==a.d.length%100&&I(a.logger,"Transaction queue stack size is "+a.d.length+". It is too large, possibility due to incorrect usage.")}l.Ka=!1;
l.transaction=function(a,b,c,d){var e=b;if(w(b))e=[b];else if(null!=b)if(v(b)){if(0==b.length)throw new G("number of store names must more than 0");for(var f=0;f<b.length;f++)if(!w(b[f]))throw new G("store name at "+f+" must be string but found "+typeof b[f]);}else throw new G("store names must be an array");else e=null;if(this.b&&this.b.Va()&&!this.Ka){var g=this,h=t(c)?c:Uc;h==Vc&&(this.Ka=!0);this.b.Ea(function(b){a(b);a=null},e,h,function(a,b){da(d)&&(d(a,b),d=void 0);h==Vc&&(g.Ka=!1);Se(g)})}else Ue(this,
a,e,c,d)};l.tb=function(a){I(this.logger,"Full text indexer option for "+a.getName()+" ignored.")};l.N=function(){};l.toString=function(){return"Storage:"+this.b};Oe.prototype.close=Oe.prototype.close;Oe.prototype.getType=Oe.prototype.Xa;Oe.prototype.getName=Oe.prototype.getName;Oe.prototype.getSchema=Oe.prototype.F;Oe.prototype.onReady=Oe.prototype.Na;Oe.prototype.setName=Oe.prototype.l;Oe.prototype.transaction=Oe.prototype.transaction;la("ydn.db.version","1.0.2");la("ydn.db.cmp",R);la("ydn.db.deleteDatabase",function(a,b){for(var c,d=0;d<nd.length;d++){var e=nd[d](a,b);e&&(c=e)}return c||md("IDBVersionChangeEvent ",null)});td.prototype.name=td.prototype.name;
td.prototype.getVersion=td.prototype.Pb;td.prototype.getOldVersion=td.prototype.Gb;td.prototype.getOldSchema=td.prototype.Fb;ud.prototype.getError=ud.prototype.b;M.prototype.abort=M.prototype.abort;M.prototype.canAbort=M.prototype.Eb;M.prototype.progress=M.prototype.Sa;M.prototype.promise=M.prototype.Ob;function Ve(a,b,c,d){od.call(this);this.b=c;this.w=c.getName();this.O=void 0;this.d=!1;this.q=null;this.f=a;this.Ta=b;this.la=0;this.K=this.s=!1;this.n=d||4;this.j=this.c=this.a=void 0;this.B=function(){throw new Rb;};this.V=function(){throw new Rb;};this.Sa=function(){}}D(Ve,od);l=Ve.prototype;
l.pb=function(a,b,c,d,e){if(t(b)){a=this.b;var f,g=b;u(b)?(f=de(a,b),g=b.join(", ")):f=$d(a,b);if(!f)throw new G('require index "'+g+'" not found in store "'+a.getName()+'"');this.O=f.getName()}this.d=w(this.O);this.q=c||null;this.la=0;this.K=this.s=!1;this.reverse="prev"==d||"prevunique"==d;this.unique="nextunique"==d||"prevunique"==d;this.W=d;this.pa=e;this.j=this.c=this.a=void 0};l.W="";l.q=null;l.unique=!1;l.reverse=!1;l.pa=!0;l.logger=H("ydn.db.core.req.AbstractCursor");
function We(a,b){a.V(b);Xe(a);a.s=!0}l.T=function(a,b,c){null==a&&(K(this.logger,this+" finished."),this.s=!0);this.a=a;this.c=b;this.j=c;this.la++;this.s?(J(this.logger,this+" DONE."),this.B(),Xe(this)):(J(this.logger,this+" new cursor position {"+(this.d?this.a+", "+this.c:this.a)+"}"),this.B(this.a))};l.$=function(){this.f=null};l.toString=function(){return"Cursor:"+this.w+(t(this.O)?":"+this.O:"")+"["+(this.f?"":"~")+this.Ta+"]"};
function Xe(a){null!=a.c?a.c=Cd(a.c):a.c=void 0;null!=a.a?a.a=Cd(a.a):a.a=void 0;a.Sa(a.K,a.a,a.c)}l.open=function(a,b,c,d){this.f=a;this.Ta=b;this.s=this.K=!1;this.a=c;this.c=d;this.openCursor(this.a,this.c)};function Ye(a){a.K=!0;J(a.logger,a+": exit");Xe(a)}l.gb=function(){return this.la};l.r=function(){return this.d?this.c:this.a};l.J=function(){return this.pa?this.r():this.j};l.xa=function(){};l.ha=function(){};function Ze(a,b,c){J(a.logger,a+" restarting");a.s=!1;a.K=!1;a.openCursor(c,b)};function $e(){};function af(a,b,c,d,e,f,g){if(!w(a))throw new TypeError("store name must be a string, but "+a+" found.");this.e=a;this.c=b;this.f=g;this.n=!!this.c;if(t(d)&&!ca(d))throw new G("reverse value must be a boolean, but "+typeof d+" found");if(t(e)&&!ca(e))throw new G("unique value must be a boolean, but "+typeof e+" found");if(t(f)&&!ca(f))throw new G("key_only value must be a boolean, but "+typeof f+" found");this.b=t(f)?f:!!w(this.c);a="next";d&&e?a="prevunique":d?a="prev":e&&(a="nextunique");this.g=
a;if(d=Id(c))throw new G("Invalid key range: "+d);this.a=Fd(c);this.d=bf;this.s=NaN}D(af,$e);af.prototype.b=!0;var bf="init";l=af.prototype;l.logger=H("ydn.db.Iterator");l.h=function(){return this.e};l.D=function(){var a=new af(this.e,this.c,this.a,cf(this),df(this),this.b,this.f);a.s=this.s;return a};l.unique=function(a){return new af(this.e,this.c,this.a,cf(this),a,this.b,this.f)};l.toJSON=function(){return{store:this.e,index:this.c,keyRange:this.a?Dd(this.a):null,direction:this.g}};
l.toString=function(){var a=t(this.f)?":"+this.f.join(","):t(this.c)?":"+this.c:"",b;if(b=this.a){var c=b.lowerOpen?"(":"[";null!=b.lower&&(c+=b.lower+", ");null!=b.upper&&(c+=b.upper);b=c+=b.upperOpen?")":"]"}else b="";a+=b;this.d!=bf&&(a+=this.d+"{"+this.j,this.n&&(a+=", "+this.l),a+="}");b=this.n?"Index":"";b+=this.b?"Key":"Value";return b+"Iterator:"+this.e+a};function ef(a,b,c){a=new af(a.e,a.c,a.a,cf(a),df(a),a.b,a.f);a.j=b;a.l=c;a.d="rest";return a}
l.reverse=function(){return new af(this.e,this.c,this.a,!cf(this),df(this),this.b,this.f)};function cf(a){return"prev"===a.g||"prevunique"===a.g}function df(a){return"nextunique"===a.g||"prevunique"===a.g}l.load=function(a){a=a[0];a.pb(this.e,this.f||this.c,this.a,this.g,this.b);this.d="busy";var b=this;a.Sa=function(a,d,e){b.j=d;b.l=e;b.d=a?"rest":"done"};a.openCursor(this.j,this.l);return a};l.r=function(){return this.l};
function ff(a,b,c,d){b=b||bf;"busy"==a.d?I(a.logger,a+": resetting state to "+b+" ignore during iteration"):(a.j=c,a.l=d,a.d=b)}l.stores=function(){return[this.e]};function gf(a){if(null!=a&&!("push"in a))throw new Je('output receiver object must have "push" method.');this.b=a||null;this.a=!1}gf.prototype.logger=H("ydn.db.algo.AbstractSolver");
function hf(a,b){a.a=cf(b[0]);for(var c=0;c<b.length;c++){if(!(b[c]instanceof af))throw new Nb("item at iterators "+c+" is not an iterator.");if(0<c&&a.a!=cf(b[c]))throw new Nb("iterator at "+c+" must "+(a.a?"be reverse":"not be reverse"));}for(var d="{",c=0;c<b.length;c++)0<c&&(d+=", "),d+=b.toString();d+="}";a.a&&(d+=" reverse");Pc(a.logger,a+" begin "+d);return!1}gf.prototype.c=function(){return[]};function jf(a){Error.captureStackTrace?Error.captureStackTrace(this,jf):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ConstraintError"}D(jf,Error);jf.prototype.name="ConstraintError";jf.prototype.toString=function(){return this.name+": "+this.message};function kf(a){Error.captureStackTrace?Error.captureStackTrace(this,kf):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.InvalidKeyException"}D(kf,Error);
kf.prototype.toString=function(){return this.name+": "+this.message};function lf(a){Error.captureStackTrace?Error.captureStackTrace(this,lf):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.VersionError"}D(lf,Error);lf.prototype.name="ydn.db.VersionError";lf.prototype.toString=function(){return this.name+": "+this.message};
function kd(a){Error.captureStackTrace?Error.captureStackTrace(this,kd):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="InvalidStateError"}D(kd,Error);function mf(a){Error.captureStackTrace?Error.captureStackTrace(this,mf):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="InvalidAccessError"}D(mf,Error);function nf(a){Error.captureStackTrace?Error.captureStackTrace(this,nf):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="NotFoundError"}
D(nf,Error);nf.prototype.name="NotFoundError";nf.prototype.toString=function(){return this.name+": "+this.message};function of(a,b){Error.captureStackTrace?Error.captureStackTrace(this,of):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message+" ["+a.code+"]";this.name="SQLError"}D(of,Error);of.prototype.toString=function(){return this.name+": "+this.message};
function pf(a,b){Error.captureStackTrace?Error.captureStackTrace(this,pf):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message;this.name="SecurityError"}D(pf,Error);pf.prototype.toString=function(){return this.name+": "+this.message};function qf(a){Error.captureStackTrace?Error.captureStackTrace(this,qf):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.TimeoutError"}D(qf,Error);function rf(a,b){this.a=b}rf.prototype.logger=H("ydn.db.crud.req.RequestExecuto");rf.prototype.toString=function(){return"RequestExecutor"};function sf(a){this.c=a;this.a=null;this.b=0}sf.prototype.logger=H("ydn.db.tr.Mutex");sf.prototype.P=null;function tf(a){return!!a.a&&!a.d}sf.prototype.L=null;sf.prototype.toString=function(){return"Mutex:"+("B"+this.c+"T"+this.b)+(this.a?"*":"")};function uf(a,b,c,d,e,f){this.F=a;this.K=b;this.a=this.d=0;this.B=d;this.s=e;this.e=c||vf;this.j=f||0}uf.prototype.logger=H("ydn.db.tr.Thread");uf.prototype.type=function(){return this.F.Xa()};uf.prototype.i=function(){return this.F};uf.prototype.H=function(){return"B"+this.K+"T"+this.d};var vf="single";function wf(a){if(a)if(da(a.abort))a.abort();else if(da(a.executeSql))a.executeSql("ABORT",[],null,function(){return!0});else throw new Ob;else throw new kd("No active transaction");};function xf(a,b,c,d,e,f){uf.call(this,a,b,c,d,e,f);this.c=[];this.f=[];this.g=null;this.b=new sf(b);this.l=f||0;this.n=!1}D(xf,uf);l=xf.prototype;l.logger=H("ydn.db.tr.Serial");
function yf(a,b,c){if("multi"==a.e)a:if(a=a.b,!a.P||!a.mode||c!=a.mode&&(a.mode!=L||c!=Uc)||b.length>a.P.length)b=!1;else{for(c=0;c<b.length;c++)if(-1==a.P.indexOf(b[c])){b=!1;break a}b=!0}else if("repeat"==a.e)a:if(a=a.b,a.P&&a.mode&&c==a.mode&&a.P.length==b.length){for(c=0;c<b.length;c++)if(-1==a.P.indexOf(b[c])){b=!1;break a}b=!0}else b=!1;else b="all"==a.e?!0:!1;return b}function zf(a){var b=0<a.c.length?a.c[0].P:null,c=0<a.c.length?a.c[0].mode:null;return null!=b&&null!=c?yf(a,b,c):!1}
function Af(a,b,c,d,e){J(a.logger,"push tx queue["+a.c.length+"]");a.c.push({Fa:b,P:c,mode:d,L:e})}l.abort=function(){K(this.logger,this+": aborting");wf(this.g)};
l.ga=function(a,b,c,d){var e=w(b)?[b]:b;if(v(e)){if(0==e.length)throw new G("number of store names must more than 0");for(var f=0;f<e.length;f++){if(!w(e[f]))throw new G("store name at "+f+" must be string but found "+e[f]+" of type "+typeof e[f]);if(this.V&&!qb(this.V,e[f]))throw new G('store name "'+f+e[f]+'" in scope of '+this);}}else throw new G("store names must be an array");var g=t(c)?c:Uc,h=this;if(this.b.a||!Te(this.i())&&this.n)Af(this,a,b,g,d);else{var k=this.H();d&&this.f.push(d);if(this.l&&
this.d>=this.l)throw new Qb("Exceed maximum number of transactions of "+this.l);this.n=!0;this.i().transaction(function(c){var d=h.b;d.a=c;d.d=!1;d.P=b;d.mode=g;d.b++;d.L=null;k=h.H();Pc(h.logger,k+" BEGIN "+T(b)+" "+g);a(h);for(a=null;zf(h);)c=h.c.shift(),c.L&&h.f.push(c.L),J(h.logger,"pop tx queue"+(h.c.length+1)+" reusing T"+h.d),c.Fa()},e,g,function(a,b){Pc(h.logger,k+" "+a);var c=h.b;c.a?(c.a=null,c.P=null,c.mode=null,da(c.L)&&c.L(a,b),c.L=null):I(c.logger,c+" has no TX to be unlocked for "+
a);for(c=0;c<h.f.length;c++)(0,h.f[c])(a,b);h.f.length=0;(c=h.c.shift())&&h.ga(c.Fa,c.P,c.mode,c.L);h.a=0})}};l.H=function(){var a=this.b;return"B"+a.c+"T"+a.b};l.request=function(a,b,c,d){function e(a,b){f.a=null;d&&d(a,b)}var f=new M(a);a=c||Uc;var g=this;tf(this.b)&&yf(this,b,a)?(b=this.b.a,this.a++,id(f,b,this.H()+"R"+this.a),this.f.push(e)):g.ga(function(){var a=g.b.a;g.a++;id(f,a,g.H()+"R"+g.a)},b,a,e);return f};
l.ba=function(a,b,c,d,e){d=d||Uc;var f=this,g;if(tf(f.b)&&yf(this,c,d)){var h=f.b.a;f.a++;g=f.H()+"R"+f.a;K(f.logger,g+" BEGIN");b(h,g,function(b,c){f.g=h;c?(K(f.logger,g+" ERROR"),a.m(b)):(K(f.logger,g+" SUCCESS"),a.p(b));f.g=null});K(f.logger,g+" END");b=null}else f.ga(function(){var c=f.b.a;f.a++;g=f.H()+"R"+f.a;K(f.logger,g+" BEGIN");b(c,g,function(b,d){f.g=c;d?(K(f.logger,g+" ERROR"),a.m(b)):(K(f.logger,g+" SUCCESS"),a.p(b));f.g=null});K(f.logger,g+" END");b=null},c,d,e)};l.getName=function(){return this.i().getName()};
l.toString=function(){return"Serial:"+this.H()+(this.g?"*":"")};function Bf(a,b){xf.call(this,a,b)}D(Bf,xf);Bf.prototype.logger=H("ydn.db.tr.AtomicSerial");Bf.prototype.request=function(a,b,c){var d,e,f,g=Bf.u.request.call(this,a,b,c,function(a,b){g.a=null;if(d)"complete"!=a&&(f=!0,e=b),d(e,f);else{var c=new qf;N(g,c,!0)}});ld(g,function(a,b,c){f=b;e=a;d=c});return g};
Bf.prototype.ba=function(a,b,c,d,e){var f,g,h=new F;Fb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});Bf.u.ba.call(this,h,b,c,d,function(b,c){if("complete"!=b)a.m(c);else if(!0===g)a.m(f);else if(!1===g)a.p(f);else{var d=new qf;a.m(d)}e&&(e(b,c),e=void 0)})};Bf.prototype.toString=function(){return"Atomic"+Bf.u.toString.call(this)};function Cf(a,b,c,d){this.d=a;this.b=b;this.a=c;this.e=d;this.c=null}l=Cf.prototype;l.logger=H("ydn.db.tr.DbOperator");l.Qb=function(){return this.a.d};l.abort=function(){this.a.abort()};function W(a){if(!a.c){var b;b=a.d;var c=b.Xa();if("indexeddb"==c)b=new Df(0,b.a);else if("websql"==c||"sqlite"==c)b=new Ef(0,b.a);else if("memory"==c||"localstorage"==c||"sessionstorage"==c)b=new Ff(0,b.a);else throw new Rb("No executor for "+c);a.c=b}return a.c}l.i=function(){return this.d};
function Gf(a,b){var c=a.i(),d=b instanceof Wd?b:Xd(b),e=b.name,f=U(c.a,e);if(0==ke(d,f).length)Mb(!1);else if(f=f?"update":"add",c.a instanceof He)Ie(c.a,d),c.b?(c.b.close(),c.b=null,Qe(c)):Mb(!1);else throw new Le("Cannot "+f+" store: "+e+". Not auto schema generation mode.");}l.toString=function(){return"TxStorage:"+this.i().getName()};function Hf(a,b,c,d){Cf.call(this,a,b,c,d)}D(Hf,Cf);l=Hf.prototype;l.logger=H("ydn.db.crud.DbOperator");
l.count=function(a,b,c,d){var e,f,g,h;if(null!=a)if(u(a)){if(t(c)||t(b))throw new G("too many arguments.");f=a;for(var k=0;k<f.length;k++)if(!Ce(this.b,f[k]))throw new G('store name "'+f[k]+'" at '+k+" not found.");K(this.logger,"countStores: "+T(f));e=this.a.request("count",f);P(e,function(){W(this).Ca(e,f)},this)}else if(w(a)){k=U(this.b,a);if(!k)throw new G('store name "'+a+'" not found.');if(t(d)&&!ca(d))throw new G('unique value "'+d+'" must be boolean, but found '+typeof d+".");f=[a];if(w(b))if(g=
b,z(c)){var m=Id(c);if(m)throw new G("invalid key range: "+ve(c)+" "+m);h=Fd(c)}else{if(null!=c)throw new G("invalid key range: "+ve(c)+" of type "+typeof c);h=null}else if(z(b)||null==b)if(z(b)){if(m=Id(b))throw new G("invalid key range: "+ve(b)+" "+m);h=Fd(b)}else{if(null!=b)throw new G("key range must be  an object but found "+ve(b)+" of type "+typeof b);h=null}else throw new G('invalid second argument for count "'+ve(c)+'" of type '+typeof b);K(this.logger,"countKeyRange: "+a+" "+(g?g:"")+T(h));
e=this.a.request("count",f);ne(k,e,arguments);P(e,function(){W(this).bb(e,f[0],h,g,!!d)},this)}else throw new G("Invalid store name or store names.");else I(this.logger,"count method requires store name(s)"),k=Be(this.b),e=this.a.request("count",k),ld(e,function(a,b,c){if(b)c(a,!0);else{for(var d=b=0;d<a.length;d++)b+=a[d];c(b,!1)}},this),P(e,function(){W(this).Ca(e,f)},this);return e};
l.get=function(a,b){var c=this,d;if(a instanceof zd){var e=a,f=e.h(),g=U(this.b,f);if(!g){if(this.b.a()){if(Te(this.i()))return md("get",void 0);d=new M("get");this.i().Na(function(){Fb(c.get(a,b),function(a){d.p(a)},function(a){d.m(a)})});return d}throw new G("Store: "+f+" not found.");}var h=e.id;K(this.logger,"getByKey: "+f+":"+h);d=this.a.request("get:key",[f]);ne(g,d,arguments,void 0,this);P(d,function(){W(this).Ga(d,f,h)},this)}else if(w(a)&&t(b)){var k=a,g=U(this.b,k);if(!g){if(this.b.a()){if(Te(this.i()))return md("get",
void 0);d=new M("get");this.i().Na(function(){Fb(c.get(a,b),function(a){d.p(a)},function(a){d.m(a)})});return d}throw new G('Store name "'+k+'" not found.');}var m=b;K(this.logger,"getById: "+k+":"+m);d=this.a.request("get",[k]);ne(g,d,arguments,void 0,this);P(d,function(){W(this).Ga(d,k,m)},this)}else throw new G("get require valid input arguments.");return d};
l.keys=function(a,b,c,d,e,f,g){var h,k,m=null,q=!1,n=!1,p=a,r=U(this.b,p);if(!w(p))throw new G("store name must be a string, but "+p+" of type "+typeof p+" is not.");if(!this.b.a()){if(!r)throw new G('store name "'+p+'" not found.');if(w(b)&&!$d(r,b))throw new G('index "'+b+'" not found in store "'+p+'".');}if(this.b.a()&&!r)return md("keys",[]);var y;if(w(b)){var A=b,C=Id(c);if(C)throw new G("invalid key range: "+c+" "+C);m=Fd(c);if(x(d))h=d;else{if(t(d))throw new G("limit must be a number");h=100}if(x(e))k=
e;else{if(t(e))throw new G("offset must be a number");k=0}if(t(f))if(ca(f))q=f;else throw new G("reverse must be a boolean");if(t(g))if(ca(g))n=g;else throw new G("unique must be a boolean");K(this.logger,"keysByIndexKeyRange: "+p);y=this.a.request("keys:iter:index",[p]);ne(r,y,arguments);P(y,function(){W(this).aa(y,2,p,A,m,h,k,q,n)},this)}else{if(z(b)){if(C=Id(b))throw new G("invalid key range: "+ve(b)+" "+C);m=Fd(b)}else{if(null!=b)throw new G("invalid key range: "+ve(b)+" of type "+typeof b);m=
null}if(x(c))h=c;else{if(t(c))throw new G("limit must be a number");h=100}if(x(d))k=d;else{if(t(d))throw new G("offset must be a number");k=0}if(t(e))if(ca(e))q=e;else throw new G("reverse must be a boolean");K(this.logger,"keysByKeyRange: "+p);y=this.a.request("keys",[p]);ne(r,y,arguments);P(y,function(){W(this).aa(y,2,p,null,m,h,k,q,!1)},this)}return y};
l.G=function(a,b,c,d,e,f,g){var h=this,k,m,q,n=!1,p=!1;if(w(a)){var r=a,y=U(this.b,r);if(!y){if(this.b.a()){if(Te(this.i()))return md("values",[]);k=new M("values");this.i().Na(function(){Fb(h.G(a,b,c,d,e,f),function(a){k.p(a)},function(a){k.m(a)})});return k}throw new nf(r);}if(u(b)){if(t(c)||t(d))throw new G("too many input arguments");var A=b;K(this.logger,"listByIds: "+r+" "+A.length+" ids");k=this.a.request("values:array",[r]);ne(y,k,arguments,void 0,this);P(k,function(){W(this).ib(k,r,A)},this)}else if(w(b)){var C=
b;if(!ee(y,C))throw new G('index "'+C+'" not found in store "'+r+'"');var B=Id(c);if(B)throw new G("invalid key range: "+c+" "+B);var E=Fd(c);if(t(d))if(x(d))m=d;else throw new G("limit must be a number.");else m=100;if(t(e))if(x(e))q=e;else throw new G("offset must be a number.");else q=0;if(ca(f))n=f;else if(t(f))throw new G("reverse must be a boolean, but "+f);if(t(g))if(ca(g))p=g;else throw new G("unique must be a boolean");K(this.logger,"listByIndexKeyRange: "+r+":"+C);k=this.a.request("values:iter:index",
[r]);ne(y,k,arguments);P(k,function(){W(this).aa(k,4,r,C,E,m,q,n,p)},this)}else{E=null;if(z(b)){if(B=Id(b))throw new G("invalid key range: "+b+" "+B);E=Fd(b)}else if(null!=b)throw new G('expect key range object, but found "'+ve(b)+'" of type '+typeof b);if(t(c))if(x(c))m=c;else throw new G("limit must be a number, but "+c+" is "+typeof c);else m=100;if(t(d))if(x(d))q=d;else throw new G("offset must be a number, but "+d+" is "+typeof d);else q=0;if(t(e))if(ca(e))n=e;else throw new G("reverse must be a boolean, but "+
e+" is "+typeof e);K(this.logger,(E?"listByKeyRange: ":"listByStore: ")+r);k=this.a.request("values",[r]);ne(y,k,arguments);P(k,function(){W(this).aa(k,4,r,null,E,m,q,n,!1)},this)}}else if(u(a))if(a[0]instanceof zd){for(var y=[],O=a,B=0;B<O.length;B++){var V=O[B].h();if(!Ce(this.b,V)){if(this.b.a())return y=[],y[O.length-1]=void 0,md("get",y);throw new G("Store: "+V+" not found.");}qb(y,V)||y.push(V)}K(this.logger,"listByKeys: "+T(y)+" "+O.length+" keys");k=this.a.request("values:keys",y);P(k,function(){W(this).jb(k,
O)},this)}else throw new G("first argumentmust be array of ydn.db.Key, but "+a[0]+" of "+typeof a[0]+" found.");else throw new G("first argument "+a+" is invalid.");return k};
l.add=function(a,b,c){var d=w(a)?a:z(a)?a.name:void 0;if(!w(d))throw new G("store name "+d+" must be a string, but "+typeof d);var e=U(this.b,d);if(!e){if(!this.b.a())throw new G('store name "'+d+'" not found.');e=Xd(z(a)?a:{name:d});K(this.logger,"Adding object store: "+d);Gf(this,e)}else if(this.b.a()&&z(a)&&(a=Xd(a),a=ke(e,a)))throw new Ob(a);var f;if(!e)throw new G('store name "'+d+'" not found.');if(w(e.keyPath)&&t(c))throw new G("key must not be provided while the store uses in-line key.");
if(!e.keyPath&&!e.b&&!t(c))throw new G("out-of-line key must be provided.");if(u(b)){K(this.logger,"addObjects: "+d+" "+b.length+" objects");for(a=0;a<b.length;a++)le(e,b[a]);f=this.a.request("add:array",[d],L);P(f,function(){W(this).S(f,!1,!1,d,b,c)},this);e.da&&f.M(function(a){a=new yd("created",this.i(),e.getName(),a,b);this.i().N(a)},this)}else if(z(b))a="store: "+d+" key: "+he(e,b,c),K(this.logger,"addObject: "+a),le(e,b),f=this.a.request("add",[d],L),P(f,function(){W(this).S(f,!1,!0,d,[b],[c])},
this),e.da&&f.M(function(a){a=new xd("created",this.i(),e.getName(),a,b);this.i().N(a)},this);else throw new G("record must be an object or array list of objects, but "+b+" of type "+typeof b+" found.");return f};
function If(a,b){var c=w(b)?b:z(b)?b.name:void 0;if(!w(c))throw new G("store name must be a string");var d=U(a.b,c);if(!d){if(!a.b.a())throw new nf(c);d=Xd(z(b)?b:{name:c});K(a.logger,"Adding object store: "+c);Gf(a,d)}else if(a.b.a()&&z(b)){var e=Xd(b);if(e=ke(d,e))throw new Ob(e);}if(!d)throw new nf(c);return d}l.load=function(a,b,c){var d=c||",",e=If(this,a).getName();a=this.a.request("load",[e]);var f=this;this.a.ba(a,function(a,c,k){W(f).mb(a,c,k,e,b,d)},[e],L);return a};
function Jf(a,b){var c=Kf(b);J(a.logger,"query "+b);var d=a.a.request("search",c,Uc);P(d,function(){var a=W(this);Lf(b,function(c,g,h,k){var m=jd(d);a.aa(m,4,c,g,Fd(h),100,0,!1,!1);m.ja(function(a){var c=null;a instanceof Array||(c=a,a=[]);for(var e=0;e<a.length;e++){var f;f=a[e];var g=f.id,g=w(g)?cd(g):g,h=g[3];(f=1==this.type&&h!=this.value?null:new Mf(this,g[0],g[2],g[1],h,f.k,f.loc))&&b.d.push(f)}b.c--;a=0==b.c?!1:b.b[b.b.length-1].f===this.f?!0:null;!0===a?Rc(d,b):!1===a&&d.p(b.e());if(c)throw c;
},k)})},a);return d}
l.put=function(a,b,c){var d,e=this;if(a instanceof zd){var f=a,g=f.h(),h=U(this.b,g);if(!h)throw new G('store "'+g+'" not found.');if(h.keyPath){var k=he(h,b);if(null!=k){if(0!=R(k,f.id))throw new G("Inline key must be "+f+" but "+k+" found.");}else ie(h,b,f.id);return this.put(g,b)}return this.put(g,b,f.id)}if(u(a)){if(t(c))throw new G("too many arguments");var m=a;if(!t(b))throw new G("record values required");for(var q=b,f=[],g=0,h=m.length;g<h;g++){k=m[g].h();-1==jb(f,k)&&f.push(k);var n=U(this.b,
k);if(!n)throw new G('store "'+k+'" not found.');n.keyPath&&ie(n,q[g],m[g].id)}K(this.logger,"putByKeys: to "+T(f)+" "+q.length+" objects");for(g=0;g<q.length;g++)le(n,q[g]);d=this.a.request("put:keys",f,L);ne(n,d,arguments);P(d,function(){W(e).Pa(d,q,m)},this)}else if(w(a)||z(a)){var n=If(this,a),p=n.getName();if(n.keyPath&&t(c))throw new G("key must not be provided while the store uses in-line key.");if(!n.keyPath&&!n.b&&!t(c))throw new G("out-of-line key must be provided.");if(u(b)){var r=b,y=
c;K(this.logger,"putObjects: "+p+" "+r.length+" objects");for(g=0;g<r.length;g++)le(n,r[g]);d=this.a.request("put:array",[p],L);ne(n,d,arguments);P(d,function(){W(this).S(d,!0,!1,p,r,y)},this);n.da&&d.M(function(a){a=new yd("updated",this.i(),p,a,r);this.i().N(a)},this)}else if(z(b)){var A=b,C=c;K(this.logger,"putObject: "+p+" "+C);if(t(s.Blob)&&A instanceof Blob&&n.ia&&!n.keyPath&&0==n.a.length&&jc)d=new M("put"),f=new FileReader,f.onload=function(a){var b=a.target.result,c=e.a.request("put",[p],
L);ne(n,c,[p,A,C]);P(c,function(){W(e).S(c,!0,!0,p,[b],[C])},this);Fb(c,function(a){d.p(a)},function(a){d.m(a)})},f.onerror=function(a){d.m(a)},f.onabort=function(a){d.m(a)},f.readAsDataURL(A);else{le(n,A);d=this.a.request("put",[p],L);var B=[p,A,C];ne(n,d,B);P(d,function(){var a=t(C)?[B[2]]:void 0;W(e).S(d,!0,!0,p,[B[1]],a)},this)}n.da&&d.M(function(a){a=new xd("updated",this.i(),p,a,A);this.i().N(a)},this)}else throw new G("put record value must be Object or array of Objects");}else throw new G("the first argument of put must be store name, store schema or array of keys.");
return d};
function Nf(a,b,c){var d=a.e,e,f;if(w(b)){var g=U(a.b,b);if(g){if(!g.keyPath&&!g.b)throw new G('key required for store "'+b+'"');}else throw new nf(b);for(var h=0;h<c.length;h++)le(g,c[h]);e=[b]}else{f=b;e=[];for(var h=0,k=f.length;h<k;h++){var m=f[h].h(),g=U(a.b,m);-1==jb(e,m)&&e.push(m);if(!g)throw new nf(m);le(g,c[h])}}var q;w(b)?(g=U(a.b,b),q=d.request("put:array",e,L),P(q,function(){W(this).S(q,!0,!1,b,c,void 0)},a)):(q=d.request("put:keys",e,L),P(q,function(){W(this).Pa(q,c,f)},a));return q}
function Of(a,b,c){var d=a.e.request("rm:iter",[b],L);P(d,function(){W(this).sa(d,b,c||null)},a);return d}
l.clear=function(a,b,c){if(t(c))throw new G("too many input arguments");var d;if(w(a)){c=U(this.b,a);if(!c)throw new G('store name "'+a+'" not found.');if(z(b)){var e=Fd(b);if(null===e)throw new G("clear method requires a valid non-null KeyRange object.");K(this.logger,"clearByKeyRange: "+a+":"+T(e));d=this.a.request("clear",[a],L);ne(c,d,[a,e]);P(d,function(){W(this).$a(d,a,e)},this)}else{if(t(b))throw new G("clear method requires a valid KeyRange object as second argument, but found "+b+" of type "+
typeof b);K(this.logger,"clearByStore: "+a);d=this.a.request("clear",[a],L);P(d,function(){W(this).Aa(d,[a])},this)}}else if(!t(a)||u(a)&&w(a[0])){var f=a||Be(this.b);K(this.logger,"clearByStores: "+T(f));d=this.a.request("clear",f,L);P(d,function(){W(this).Aa(d,f)},this)}else throw new G('first argument "'+a+'" is invalid.');return d};
l.Ya=function(a,b,c){var d;if(w(a)){var e=U(this.b,a);if(!e)throw new G('store name "'+a+'" not found.');if(t(c))if(w(b)){var f=$d(e,b);if(!f)throw new G("index: "+b+" not found in "+a);if(z(c)||null===c){var g=Fd(c);K(this.logger,"removeByIndexKeyRange: "+a+":"+f.getName()+" "+a);d=this.a.request("rm:iter:index",[a],L);P(d,function(){W(this).nb(d,a,f.getName(),g)},this)}else throw new G("key range "+c+' is invalid type "'+typeof c+'".');}else throw new G('index name "'+b+'" must be a string, but '+
typeof b+" found.");else if(w(b)||x(b)||v(b)||b instanceof Date){K(this.logger,"removeById: "+a+":"+b);d=this.a.request("rm",[a],L);var h=[a,b];ne(e,d,h);P(d,function(){W(this).Qa(d,a,h[1])},this);e.da&&d.M(function(c){c=1==c?b:void 0;c=new xd("deleted",this.i(),a,c,void 0);this.i().N(c)},this)}else if(z(b))g=Fd(b),K(this.logger,"removeByKeyRange: "+a+":"+T(g)),d=this.a.request("rm:iter",[a],L),ne(e,d,[a,g]),P(d,function(){W(this).sa(d,a,g)},this),e.da&&d.M(function(b){var c=[];c.length=b;b=new yd("deleted",
this.i(),a,c,void 0);this.i().N(b)},this);else throw new G('Invalid key or key range "'+b+'" of type '+typeof b);}else if(a instanceof zd){var k=a.h(),e=U(this.b,k);d=this.a.request("rm",[k],L);var m=[k,a.id];ne(e,d,m);P(d,function(){W(this).Qa(d,k,m[1])},this)}else if(u(a)){c=[];for(var e=0,q=a.length;e<q;e++){if(!(a[e]instanceof zd))throw new G("key list element at "+e+" of "+q+' must be yn.db.Key, but "'+ve(a[e])+'" ('+ba(a[e])+") is not ydn.db.Key.");var n=a[e].h();-1==jb(c,n)&&c.push(n)}if(1>
c.length)throw new G('at least one valid key required in key list "'+ve(a)+'"');d=this.a.request("rm:keys",c,L);P(d,function(){W(this).ob(d,a)},this)}else throw new G('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but "'+ve(a)+'" ('+ba(a)+") found.");return d};l.toString=function(){return"DbOperator:"+this.i().getName()};function Pf(a,b,c,d){Cf.call(this,a,b,c,d)}D(Pf,Hf);l=Pf.prototype;l.logger=H("ydn.db.core.DbOperator");l.get=function(a,b){if(a instanceof af){var c=a.h(),d=U(this.b,c);if(!d)throw new G('store "'+c+'" not found.');var e=a.c;if(t(e)&&!ee(d,e))throw new G('index "'+e+'" not found in store "'+c+'".');K(this.logger,"getByIterator:"+a);var f=this.a.request("get:iter",[c]);P(f,function(){Qf(this,5,f,a,1)},this);return f}return Pf.u.get.call(this,a,b)};
l.keys=function(a,b,c,d,e,f,g){if(a instanceof af){var h=100;if(x(b)){if(h=b,1>h)throw new G("limit must be a positive value, but "+b);}else if(t(b))throw new G("limit must be a number,  but "+b);if(t(c))throw new G("offset must not be specified");K(this.logger,"keysByIterator:"+a);var k=this.a.request("keys:iter",[a.h()]);P(k,function(){a.n?Qf(this,1,k,a,h):Qf(this,2,k,a,h)},this);return k}return Pf.u.keys.call(this,a,b,c,d,e,f,g)};
l.count=function(a,b,c,d){if(a instanceof af){if(t(b)||t(c))throw new G("too many arguments.");K(this.logger,"countIterator:"+a);var e=this.a.request("count",[a.h()]);P(e,function(){Qf(this,6,e,a)},this);return e}return Pf.u.count.call(this,a,b,c,d)};
l.G=function(a,b,c,d,e,f){if(a instanceof af){var g;if(x(b)){if(g=b,1>g)throw new G("limit must be a positive value, but "+g);}else if(t(b))throw new G("limit must be a number, but "+b);if(t(c))throw new G("offset must not be specified");K(this.logger,"listByIterator:"+a);var h=this.a.request("values:iter",[a.h()]);P(h,function(){a.b?Qf(this,2,h,a,g):Qf(this,4,h,a,g)},this);return h}return Pf.u.G.call(this,a,b,c,d,e,f)};
function Rf(a,b,c){if(!u(c))throw new G("iterators argument must be an array, but "+c+" of type "+typeof c+" found");for(var d=0;d<c.length;d++)if(!(c[d]instanceof af))throw new G("Iterator at "+d+" must be cursor range iterator.");for(var e=L||Uc,f=[],d=0;d<c.length;d++)for(var g=c[d].stores(),h=0;h<g.length;h++)qb(f,g[h])||f.push(g[h]);K(a.logger,a+": scan for "+c.length+" iterators on "+f);d=a.a.request("scan",f);a.a.ba(d,function(d,e,f){function g(){for(var b=0,f=0;f<c.length;f++){var q=c[f],
n=[W(a).b(d,e,q.h())],q=q.load(n);q.V=h;q.B=ja(r,b);V[f]=q;B[b]=f;b++}C=c.length}function h(b){for(var c=0;c<V.length;c++)Ye(V[c]);rb(V);K(a.logger,y+" error");f(b,!0)}function r(d,e){if(A)throw new Ke;$++;var g=$===C,h=B[d],k=c[h],m=V[h],h=m.r(),m=m.J();E[d]=e;O[d]=k.n?k.b?h:m:k.b?e:m;if(g){var n;b instanceof gf?n=b.c(E,O):n=b(E,O);g=[];k=[];h=[];m=[];if(u(n))for(var p=0;p<n.length;p++)!0===n[p]?h[p]=1:!1===n[p]?m[p]=!0:k[p]=n[p];else if(null===n)g=[];else if(t(n))if(z(n)){g=["advance","continue",
"continuePrimary","restart"];for(p in n)if(!qb(g,p))throw new Qb('Unknown attribute "'+p+'" in cursor advancement object');g=n.continuePrimary||[];k=n["continue"]||[];h=n.advance||[];m=n.restart||[]}else throw new Qb("scan callback output");else for(g=[],p=0;p<c.length;p++)t(B[p])&&(h[p]=1);for(p=$=n=0;p<c.length;p++)null!=g[p]||t(k[p])||null!=m[p]||null!=h[p]||$++;for(p=0;p<c.length;p++)if(null!=g[p]||t(k[p])||null!=m[p]||null!=h[p]){var r=B[p];if(!t(r))throw new Me(p+" is not an iterator.");var r=
c[r],Jb=V[p];if(null==E[p]){var Ee=p+"/"+c.length;if(null!=h[p])throw new Ne(Jb+" "+Ee+" must not advance "+h[p]+" steps");if(t(k[p]))throw new Ne(Jb+" "+Ee+" must not continue to key "+k[p]);if(null!=g[p])throw new Ne(Jb+" "+Ee+" must not continue to primary key "+g[p]);}E[p]=void 0;O[p]=void 0;if(null!=m[p])Ze(Jb);else if(t(k[p]))Jb.ha(k[p]);else if(null!=g[p])Jb.xa(g[p]);else if(null!=h[p])Jb.advance(1);else throw new Ke(r+": has no action");n++}if(0==n){for(n=0;n<V.length;n++)Ye(V[n]);A=!0;rb(V);
K(a.logger,"success "+y);f(void 0)}}}var y=e+" "+a+" scanning";J(a.logger,y);var A=!1,C,B=[],E=[],O=[],V=[],$=0;b instanceof gf?hf(b,c)||g():g()},f,e);return d}
l.open=function(a,b,c,d){if(!(b instanceof af))throw new G("Second argument must be cursor range iterator.");for(var e=b.stores(),f=0;f<e.length;f++)if(!U(this.b,e[f]))throw new G('Store "'+e[f]+'" not found.');c=c||Uc;var g=this,h=this.a.request("open",b.stores(),c);K(this.logger,"open:"+c+" "+b);P(h,function(c){var e=Q(h);K(g.logger,e+" iterating "+b);for(var f=b.stores(),n=[],p=0;p<f.length;p++)n[p]=W(g).b(c,e,f[p]);var r=b.load(n);r.V=function(a){N(h,a,!0)};r.B=function(b){null!=b?(b=a.call(d,
r),!0===b?Ze(r):z(b)?!0===b.restart?Ze(r,b["continue"],b.continuePrimary):null!=b["continue"]?r.ha(b["continue"]):null!=b.continuePrimary?r.xa(b.continuePrimary):(Ye(r),N(h,void 0)):null===b?(Ye(r),N(h,void 0)):null!=b?r.ha(b):r.advance(1)):(Ye(r),N(h,void 0))}},this);return h};
l.map=function(a,b){for(var c=this,d=a.stores(),e,f=0;e=d[f];f++)if(!e)throw new G('Store "'+e+'" not found.');e=this.a.request("map",d);J(this.logger,"map:"+a);this.a.ba(e,function(d,e,f){J(c.logger,e+" iterating "+a);for(var m=a.stores(),q=[],n=0;n<m.length;n++)q[n]=W(c).b(d,e,m[n]);var p=a.load(q);p.V=function(a){f(a,!1)};p.B=function(c){if(null!=c){var d;a.n?a.b?d=c:d=p.r():a.b?d=c:d=p.J();b(d);p.advance(1)}else f(void 0),b=null}},d,Uc);return e};
function Sf(a,b,c,d){var e=c.h(),f=c.c||null,g=d||100;K(a.logger,"listIter:"+b+" "+c+(d?" limit="+g:"")+"");var h=a.a.request("values:iter:index",[e]),k="done"==c.d||c.d==bf?[]:[c.j,c.r()];P(h,function(){W(this).aa(h,b,e,f,c.a?c.a instanceof Hd?c.a:Hd.bound(c.a.lower,c.a.upper,c.a.lowerOpen,c.a.upperOpen):null,g,0,cf(c),df(c),k)},a);h.M(function(){null!=k[0]?ff(c,"rest",k[0],k[1]):ff(c)});return h}
function Qf(a,b,c,d,e){var f=[],g=c.a,h=Q(c),k=h+" "+b+"ByIterator "+d;0<e&&(k+=" limit "+e);K(a.logger,k);for(var m=W(a),q=[],n=d.stores(),p=0;p<n.length;p++)q[p]=m.b(g,h,n[p]);var r=d.load(q);r.V=function(a){Ye(r);N(c,a,!0)};var y=0,A=!1;r.B=function(d){A||(J(a.logger,k+" starting"),A=!0);null!=d?(r.r(),y++,1==b?f.push(d):2==b?f.push(r.r()):3==b?f.push([d,r.r()]):6!=b&&f.push(r.J()),5==b?(Ye(r),N(c,f[0])):6==b||!t(e)||y<e?r.ha():(K(a.logger,"success:"+k+" yields "+f.length+" records"),Ye(r),N(c,
f))):(K(a.logger,"success:"+k+" yields "+f.length+" records"),Ye(r),N(c,5==b?f[0]:6==b?y:f))}};function Tf(a,b,c,d){this.d=a;this.e=b;this.a=tb(c);this.b=d;this.c=[]}Tf.prototype.d=null;function Uf(a,b,c){if(a.d)c&&a.c.push(c),b(a.d);else throw new Rb("tx committed on ParallelTxExecutor");}Tf.prototype.toString=function(){return"ParallelTxExecutor: txNo:"+this.e+" mode:"+this.b+" scopes:"+T(this.a)};function Vf(a,b,c,d,e,f){uf.call(this,a,b,c,d,e,f);this.c=this.b=null}D(Vf,uf);l=Vf.prototype;l.logger=H("ydn.db.tr.Parallel");l.abort=function(){K(this.logger,this+": aborting");wf(this.c)};
l.Cb=function(a,b){var c;if("multi"==this.e)a:if(c=this.b,!c.a||!c.b||b!=c.b&&(c.b!=L||b!=Uc)||a.length>c.a.length)c=!1;else{for(var d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else if("repeat"==this.e)a:if(c=this.b,c.a&&c.b&&b==c.b&&c.a.length==a.length){for(d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else c=!1;else c="all"==this.e?!0:!1;return c};
l.ga=function(a,b,c,d){function e(c){k.d++;m=new Tf(c,k.d,b,h);g=k.H();Pc(k.logger,g+" BEGIN "+T(b)+" "+h);k.b=m;Uf(k.b,a,d)}function f(a,b){Pc(k.logger,g+" "+a);if(m){for(var c=m,d=0;d<c.c.length;d++)c.c[d](a,b);c.c.length=0;c.d=null;c.a=null;c.c=null}k.a=0}var g;this.B&&(b=this.B);this.s&&(c=this.s);var h=t(c)?c:Uc,k=this,m;if(this.b&&this.b.d&&this.Cb(b,h))Uf(this.b,a,d);else{if(this.j&&this.d>=this.j)throw new Qb("Exceed maximum number of transactions of "+this.j);this.i().transaction(e,b,h,f)}};
l.request=function(a,b,c,d){var e=new M(a),f=this;this.ga(function(a){f.a++;id(e,a,f.H()+"R"+f.a)},b,c||Uc,function(a,b){e.a=null;d&&d(a,b)});return e};l.ba=function(a,b,c,d,e){var f=this,g;this.ga(function(c){f.a++;g=f.H()+"R"+f.a;K(f.logger,g+" BEGIN");b(c,g,function(b,d){f.c=c;g=f.H()+"R"+f.a;d?(K(f.logger,g+" ERROR"),a.m(b)):(K(f.logger,g+" SUCCESS"),a.p(b));f.c=null});b=null;K(f.logger,g+" END")},c,d,e)};l.toString=function(){return"Parallel:"+this.e+":"+this.H()+(this.c?"*":"")};function Wf(a,b){Vf.call(this,a,b,vf)}D(Wf,Vf);l=Wf.prototype;l.logger=H("ydn.db.tr.AtomicParallel");l.Cb=function(){return!1};l.request=function(a,b,c){var d,e,f,g=this,h=Wf.u.request.call(this,a,b,c,function(a,b){h.a=null;K(g.logger,"transaction "+a);if(d)"complete"!=a&&(f=!0,e=b),d(e,f);else{var c=new qf;N(h,c,!0)}});ld(h,function(a,b,c){f=b;e=a;d=c});return h};
l.ba=function(a,b,c,d,e){var f,g,h=new F;Fb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});Wf.u.ba.call(this,h,b,c,d,function(b,c){if("complete"!=b)a.m(c);else if(!0===g)a.m(f);else if(!1===g)a.p(f);else{var d=new qf;a.m(d)}e&&(e(b,c),e=void 0)})};l.toString=function(){return"Atomic"+Wf.u.toString.call(this)};function Xf(a,b,c){Oe.call(this,a,b,c);this.ka=0;a=!0;b=vf;c&&(t(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=Yf(this,b,a);this.j=Yf(this,"atomic",!1);this.c=this.qa(c,this.j)}D(Xf,Oe);l=Xf.prototype;l.ka=0;l.Db=function(a,b,c,d,e,f){a=a||vf;var g;"readonly"==d?g=Uc:"readwrite"==d&&(g=L);a=Yf(this,a,b,c,g,e);return this.qa(a,f?null:this.j)};l.qa=function(a,b){return new Cf(this,this.a,a,b)};
function Yf(a,b,c,d,e,f){if(c){if("multi"==b||"repeat"==b||"all"==b||b==vf)return new xf(a,a.ka++,b,d,e,f);if("atomic"==b)return new Bf(a,a.ka++);throw new G('Invalid requestType "'+b+'"');}if("multi"==b||"repeat"==b||"all"==b||b==vf)return new Vf(a,a.ka++,b,d,e,f);if("atomic"==b)return new Wf(a,a.ka++);throw new G('Invalid requestType "'+b+'"');}
l.Ib=function(a,b,c){if(3<arguments.length)throw new G("too many input arguments, run accept not more than 3 input arguments, but "+arguments.length+" found.");this.ka++;var d=b||Be(this.a),e=Uc;if(c)if("readwrite"==c)e=L;else if("readonly"!=c)throw new G('Invalid transaction mode "'+c+'"');var f=Yf(this,"all",!1,d,e,1),g=this.qa(f,this.j),h=new M("run"),k=this;f.ga(function(b){J(k.logger,"executing run in transaction on "+f);id(h,b,f.H()+"R0");a(g)},d,e,function(a){h.a=null;N(h,f.d,"complete"!==
a)});return h};l.Rb=function(){return this.c?this.c.a.d:NaN};function X(a,b,c){Xf.call(this,a,b,c);a=this.a;for(b=0;b<a.c.length;b++){c=a.c[b];var d=U(a,c.getName());if(d){if(!ee(d,"k"))throw new G('full text index store "'+d.getName()+'" must have "keyword" index');if(!ee(d,"v"))throw new G('full text index store "'+d.getName()+'" must have "keyword" index');if("id"!=d.keyPath)throw new G('full text index store "'+d.getName()+'" must use "id" as key path.');}else throw new G('full text index store "'+c.getName()+'" required.');for(d=0;d<c.count();d++){var e=
c.index(d),f=U(a,e.h());if(f)this.tb(f,c);else throw new G('full text source store "'+e.h()+'" does not exist for full text index "'+c.getName()+'"');}}}D(X,Xf);l=X.prototype;l.qa=function(a,b){return new Hf(this,this.a,a,b)};l.add=function(a,b,c){return this.c.add(a,b,c)};l.count=function(a,b,c,d){return this.c.count(a,b,c,d)};l.get=function(a,b){return this.c.get(a,b)};l.keys=function(a,b,c,d,e,f,g){return this.c.keys(a,b,c,d,e,f,g)};l.G=function(a,b,c,d,e,f){return this.c.G(a,b,c,d,e,f)};
l.load=function(a,b,c){return this.c.load(a,b,c)};l.put=function(a,b,c){return this.c.put(a,b,c)};l.clear=function(a,b,c){return this.c.clear(a,b,c)};l.Ya=function(a,b,c){return this.c.Ya(a,b,c)};l.toString=function(){var a="Storage:"+this.getName();Te(this)&&(a+=" ["+this.Xa()+"]");return a};function Zf(a,b,c){X.call(this,a,b,c)}D(Zf,X);Zf.prototype.qa=function(a,b){return new Pf(this,this.a,a,b)};Zf.prototype.open=function(a,b,c,d){return this.c.open(a,b,c,d)};Zf.prototype.map=function(a,b){return this.c.map(a,b)};function $f(a,b,c,d){Ve.call(this,a,b,c,d);this.e=null}D($f,Ve);l=$f.prototype;l.logger=H("ydn.db.core.req.IDBCursor");l.Da=function(a){(a=a.target.result)?this.T(a.key,a.primaryKey,a.value):this.T()};
l.openCursor=function(a,b){function c(a,b,c){n.e=q;n.e.onsuccess=ia(n.Da,n);n.T(a,n.d?b:void 0,c);q=null}var d=this+" opening ";null!=a&&(d+="{"+a,d=null!=b?d+(";"+b+"}"):d+"}");J(this.logger,d);var e=this.q,d=this.f.objectStore(this.w),f=w(this.O)?d.index(this.O):null;if(t(a))var g=f?!t(b):!0,h=e?e.lower:void 0,k=e?e.upper:void 0,m=e?!!e.lowerOpen:!1,e=e?!!e.upperOpen:!1,e=Ed(this.reverse?new S(h,a,m,g):new S(a,k,g,e));var q;this.pa?f?q=null!=this.W?f.openKeyCursor(e,this.W):null!=e?f.openKeyCursor(e):
f.openKeyCursor():q=null!=this.W?d.openCursor(e,this.W):null!=e?d.openCursor(e):d.openCursor():f?q=null!=this.W?f.openCursor(e,this.W):null!=e?f.openCursor(e):f.openCursor():q=null!=this.W?d.openCursor(e,this.W):null!=e?d.openCursor(e):d.openCursor();var n=this;q.onerror=function(a){var b=q.error;a.preventDefault();We(n,b)};null!=a?q.onsuccess=function(d){if(d=d.target.result){var e=Wc.cmp(d.key,a),f=n.reverse?-1:1;if(e==f)c(d.key,d.primaryKey,d.value);else if(e==-f)d["continue"](a);else if(null!=
b)if(Wc.cmp(d.primaryKey,b)==f)c(d.key,d.primaryKey,d.value);else d["continue"]();else d["continue"]()}else c()}:(n.e=q,n.e.onsuccess=ia(n.Da,n))};l.Ia=function(){return!!this.e};l.update=function(a){var b=this.e.result;if(b){var c=new F;a=b.update(a);a.onsuccess=function(a){c.p(a.target.result)};a.onerror=function(a){a.preventDefault();c.m(a)};return c}throw new mf("cursor gone");};
l.clear=function(){var a=this.e.result;if(a){var b=new F,a=a["delete"]();a.onsuccess=function(){b.p(1)};a.onerror=function(a){a.preventDefault();b.m(a)};return b}throw new mf("cursor gone");};l.advance=function(a){var b=this.e.result;if(1==a)b["continue"]();else b.advance(a)};
l.xa=function(a){var b=this.e.result,c=Wc.cmp(a,b.primaryKey);if(c!=(this.reverse?-1:1))throw new Rb('continuing primary key "'+a+'" must '+(this.reverse?"lower":"higher")+' than current primary key "'+b.primaryKey+'"');var d=this;this.e.onsuccess=function(e){if(b=e.target.result)if(c=Wc.cmp(b.primaryKey,a),0==c||1==c&&!d.reverse||-1==c&&d.reverse)d.e.onsuccess=ia(d.Da,d),d.T(b.key,d.d?b.primaryKey:void 0,b.value);else b["continue"]();else d.e.onsuccess=ia(d.Da,d),d.T()};b["continue"]()};
l.ha=function(a){var b=this.e.result;if(null!=a)b["continue"](a);else b["continue"]()};l.$=function(){$f.u.$.call(this);this.e=null};l.toString=function(){return"IDB"+$f.u.toString.call(this)};function ag(a,b){this.a=b}D(ag,rf);l=ag.prototype;l.logger=H("ydn.db.crud.req.IndexedDb");l.Ca=function(a,b){function c(e){var f=a.a.objectStore(b[e]).count();f.onsuccess=function(f){d[e]=f.target.result;e++;e==b.length?N(a,d):c(e)};f.onerror=function(b){b.preventDefault();N(a,f.error,!0)}}var d=[];0==b.length?N(a,[]):c(0)};
l.S=function(a,b,c,d,e,f){function g(r){if(null==e[r])if(J(q.logger,"empty object at "+r+" of "+e.length),k++,k==e.length)N(a,h,m);else{var A=r+10;A<e.length&&g(A)}var C,A=e[r];C=f&&null!=f[r]?b?p.put(A,f[r]):p.add(A,f[r]):b?p.put(A):p.add(A);C.onsuccess=function(b){k++;h[r]=b.target.result;k==e.length?N(a,c?h[0]:h,m):(b=r+10,b<e.length&&g(b))};C.onerror=function(b){k++;var f=C.error;J(q.logger,Q(a)+n+' request to "'+d+'" cause '+f.name+' for object "'+ve(e[r])+'" at index '+r+" of "+e.length+" objects.");
h[r]=f;m=!0;b.preventDefault();k==e.length?N(a,c?h[0]:h,m):(b=r+10,b<e.length&&g(b))}}var h=[],k=0,m=!1,q=this,n=b?"put":"add",p=a.a.objectStore(d);J(this.logger,Q(a)+" "+n+" "+e.length+' objects to store "'+d+'"');if(0<e.length)for(var r=0;10>r&&r<e.length;r++)g(r);else N(a,[])};
l.Pa=function(a,b,c){function d(k){var q=c[k],n=q.h(),p=a.a.objectStore(n),r;r=null===p.keyPath?p.put(b[k],q.id):p.put(b[k]);r.onsuccess=function(c){f++;e[k]=c.target.result;f==b.length?N(a,e,g):(c=k+10,c<b.length&&d(c))};r.onerror=function(c){f++;I(h.logger,"request result "+c.name+' error when put keys to "'+n+'" for object "'+ve(b[k])+'" at index '+k+" of "+b.length+" objects.");e[k]=r.error;g=!0;c.preventDefault();f==b.length?N(a,e,g):(c=k+10,c<b.length&&d(c))}}var e=[],f=0,g=!1,h=this;J(this.logger,
Q(a)+" putByKeys: of "+b.length+" objects");if(0<b.length)for(var k=0;10>k&&k<b.length;k++)d(k);else N(a,e,g)};
l.mb=function(a,b,c,d,e,f){function g(){var a={},b=e.indexOf("\n",q),d=!1,r;-1==b?(d=!0,r=e.substring(q)):(r=e.substring(q,b),q=b+1);for(var b=r.split(f),E=0;E<n.length;E++){var O=b[E];p[E]&&(p[E]==Pd?O=Ba(O):"INTEGER"==p[E]?O=parseInt(O,10):"NUMERIC"==p[E]&&(O=parseFloat(O)));a[n[E]]=O}var V=k.put(a);V.onsuccess=function(a){m.push(a.target.result);d?c(m):g()};V.onerror=function(a){"DataError"==a.name&&(a=new kf(h+": "+r.substring(0,70)));a.preventDefault();c(V.error,!0)}}var h=U(this.a,d),k=a.objectStore(d),
m=[],q=e.indexOf("\n"),n=e.substr(0,q).split(f),p=[];for(a=0;a<n.length;a++){var r=$d(h,n[a]);r?p[a]=r.type:n[a]==h.keyPath&&(p[a]=h.type)}q++;J(this.logger,b+" Loading data  of "+n.length+"-fields record to "+d);g()};
l.Qa=function(a,b,c){var d=a.a.objectStore(b);J(this.logger,Q(a)+" clearById: "+b+" "+c);var e=d.openCursor(Hd.only(c));e.onsuccess=function(b){if(b=b.target.result){var c=b["delete"]();c.onsuccess=function(){N(a,1)};c.onerror=function(){N(a,c.error,!0)}}else N(a,0)};e.onerror=function(b){b.preventDefault();N(a,e.error,!0)}};
l.ob=function(a,b){function c(h){h++;if(h>=b.length)0<g.length?N(a,g,!0):N(a,d);else{b[h].h()!=e&&(e=b[h].h(),f=a.a.objectStore(e));var k=f["delete"](b[h].id);k.onsuccess=function(){d++;c(h)};k.onerror=function(a){a.preventDefault();g[h]=k.error;c(h)}}}var d=0,e,f;J(this.logger,Q(a)+" removeByKeys: "+b.length+" keys");var g=[];c(-1)};
l.sa=function(a,b,c){var d=a.a.objectStore(b),e=d.count(c);J(this.logger,Q(a)+" clearByKeyRange: "+b+" "+c);e.onsuccess=function(b){var e=b.target.result,h=d["delete"](c);h.onsuccess=function(){N(a,e)};h.onerror=function(){N(a,h.error,!0)}};e.onerror=function(b){b.preventDefault();N(a,e.error,!0)}};l.$a=function(a,b,c){var d=a.a.objectStore(b);J(this.logger,Q(a)+" "+b+" "+c);var e=d["delete"](c);e.onsuccess=function(){N(a,void 0)};e.onerror=function(b){b.preventDefault();N(a,e.error,!0)}};
l.nb=function(a,b,c,d){var e=a.a.objectStore(b).index(c);J(this.logger,Q(a)+" clearByIndexKeyRange: "+b+":"+c+" "+d);var f=[],g=e.openCursor(d),h=0;g.onsuccess=function(b){var c=b.target.result;if(c){var d=c["delete"]();d.onsuccess=function(){h++;c["continue"]()};d.onerror=function(a){f.push(d.error);a.preventDefault();c["continue"]()}}else 0<f.length?N(a,f,!0):N(a,h)};g.onerror=function(b){b.preventDefault();N(a,g.error,!0)}};
l.Aa=function(a,b){var c=b.length,d=0;J(this.logger,Q(a)+" clearByStores: "+b);for(var e=0;e<c;e++){var f=a.a.objectStore(b[e]).clear();f.onsuccess=function(){d++;d==c&&N(a,d)};f.onerror=function(b){d++;b.preventDefault();d==c&&N(a,f.error,!0)}}};
l.Ga=function(a,b,c){var d=this;J(this.logger,Q(a)+b+":"+c);var e=a.a.objectStore(b),f=e.get(c);f.onsuccess=function(b){J(d.logger,Q(a)+" record "+c+(null!=b.target.result?" ":" not ")+" exists.");var f=b.target.result;if(!e.keyPath&&0==e.indexNames.length&&jc&&w(f)&&0<=f.indexOf(";base64,")){'"'==f.charAt(0)&&'"'==f.charAt(f.length-1)&&(f=f.substr(1,f.length-2));f=f.split(";base64,");b=f[0].split(":")[1];for(var f=window.atob(f[1]),k=f.length,m=new Uint8Array(k),q=0;q<k;++q)m[q]=f.charCodeAt(q);
N(a,new Blob([m.buffer],{type:b}))}else N(a,b.target.result)};f.onerror=function(b){b.preventDefault();N(a,f.error,!0)}};
l.ib=function(a,b,c){function d(b){if(null==c[b])if(f++,e[b]=void 0,f==h)N(a,e);else{var m=b+10;m<h&&d(m)}var q;q=g.get(c[b]);q.onsuccess=function(c){f++;e[b]=c.target.result;f==h?N(a,e):(c=b+10,c<h&&d(c))};q.onerror=function(b){f++;b.preventDefault();N(a,q.error,!0)}}var e=[];e.length=c.length;var f=0,g=a.a.objectStore(b),h=c.length;J(this.logger,Q(a)+" "+b+":"+h+" ids");if(0<h)for(b=0;10>b&&b<h;b++)d(b);else N(a,[])};
l.jb=function(a,b){function c(f){var h=b[f],k=a.a.objectStore(h.h()).get(h.id);k.onsuccess=function(h){e++;d[f]=h.target.result;e==b.length?N(a,d):(h=f+10,h<b.length&&c(h))};k.onerror=function(b){e++;b.preventDefault();N(a,k.error,!0)}}var d=[];d.length=b.length;var e=0;J(this.logger,Q(a)+" "+b.length+" ids");if(0<b.length)for(var f=0;10>f&&f<b.length;f++)c(f);else N(a,[])};
l.bb=function(a,b,c,d,e){if(d&&e)throw new Qb("unique count not available in IndexedDB");e=a.a.objectStore(b);b=Q(a)+" "+b+(d?":"+d:"")+(c?":"+T(c):"");J(this.logger,b);var f;null!=d?(d=e.index(d),f=null!=c?d.count(c):d.count()):f=null!=c?e.count(c):e.count();f.onsuccess=function(b){N(a,b.target.result)};f.onerror=function(b){b.preventDefault();N(a,f.error,!0)}};
l.aa=function(a,b,c,d,e,f,g,h,k,m){var q=[],n=a.a.objectStore(c),p=h?k?"prevunique":"prev":k?"nextunique":"next";c=Q(a)+" "+b+" "+c+(d?":"+d:"")+(e?T(e):"");h&&(c+=" reverse");k&&(c+=" unique");if(m&&t(m[0])){k=d?!t(m[1]):!0;var r=m[0],y=e?e.lower:void 0,A=e?e.upper:void 0,C=e?!!e.lowerOpen:!1;e=e?!!e.upperOpen:!1;e=Ed(h?new S(y,r,C,k):new S(r,A,k,e));c+=" starting from "+T(m[0]);t(m[1])&&(c+=", "+T(m[1]))}J(this.logger,c);var B;B=1==b||2==b||3==b?d?n.index(d).openKeyCursor(e,p):n.openCursor(e,p):
d?n.index(d).openCursor(e,p):n.openCursor(e,p);var E=!1;B.onsuccess=function(c){if(c=c.target.result){if(!E){if(0<g){E=!0;c.advance(g);return}if(m&&d&&t(m[0]))if(t(m[1])){var e=Wc.cmp(c.key,m[0]),k=h?-1:1;if(0==e){e=Wc.cmp(c.primaryKey,m[1]);if(0==e){E=!0;c["continue"]();return}if(e==k)E=!0;else{c["continue"]();return}}else E=!0}else E=!0;else E=!0}1==b?q.push(c.key):2==b?q.push(c.primaryKey):3==b?(k={},d&&(k[d]=c.key),n.keyPath?k[n.keyPath]=c.primaryKey:k._ROWID_=c.primaryKey,q.push(k)):4==b?q.push(c.value):
q.push([c.key,c.primaryKey,c.value]);if(q.length<f)c["continue"]();else m&&(m[0]=Cd(c.key),m[1]=Cd(c.primaryKey)),N(a,q)}else m&&(m[0]=void 0,m[1]=void 0),N(a,q)};B.onerror=function(b){b.preventDefault();N(a,B.error,!0)}};function Df(a,b){this.a=b}D(Df,ag);Df.prototype.logger=H("ydn.db.core.req.IndexedDb");Df.prototype.b=function(a,b,c,d){c=U(this.a,c);return new $f(a,b,c,d)};function bg(){this.a=!1}bg.prototype.a=!1;function cg(a,b,c,d){Ve.call(this,a,b,c,d);this.j=this.c=this.a=void 0;this.g=this.e=null;this.l=new bg;this.Ra=this.ca=null}D(cg,Ve);l=cg.prototype;l.logger=H("ydn.db.core.req.SimpleCursor");l.Ia=function(){return!!this.f};l.update=function(a){dg(this.Ra,this.r(),a);return Mb()};l.advance=function(a){function b(b){d++;if(!b||d>=a)return eg(c,b)}var c=this,d=this.e?-1:0;this.reverse?fg(this.ca,b,this.e):gg(this.ca,b,this.e)};
l.ha=function(a){if(null!=a){var b=this,c=new Y(a),d=function(c){b.e=c;if(!c)return eg(b,c);var d=R(c.value.key,a);if(b.reverse){if(1!=d)return eg(b,c)}else if(-1!=d)return eg(b,c)};this.reverse?fg(this.ca,d,c):gg(this.ca,d,c)}else this.advance(1)};function hg(a){setTimeout(function(){a.l.a?(a.l.a=!1,a.T(a.a,a.c,a.j),hg(a)):(a.g(),a.g=null)},4)}
function eg(a,b){if(a.e=b){var c=b.value;if(a.q)if(a.reverse||null==a.q.upper)a.reverse&&null!=a.q.lower&&(d=R(c.key,a.q.lower),-1==d||0==d&&a.q.lowerOpen)&&(a.e=null);else{var d=R(c.key,a.q.upper);if(1==d||0==d&&a.q.upperOpen)a.e=null}if(a.e){if(a.unique&&null!=a.a&&null!=c.key&&0==R(a.a,c.key))return;a.a=c.key;a.c=a.d?c.r():a.a;4==a.n&&(a.pa?a.j=a.c:a.j=ig(a.Ra,a.c))}}a.e||(a.a=void 0,a.c=void 0,a.j=void 0);return a.l.a=!0}
l.openCursor=function(a,b){var c=null;if(this.q)if(this.reverse){var d=this.d?"\uffff":void 0;null!=this.q.upper&&(c=new Y(this.q.upper,d))}else null!=this.q.lower&&(c=new Y(this.q.lower));null!=a&&(c=this.d?new Y(a,b):new Y(a));this.g=this.f.i(function(b){function d(b){var e=b.value,f=e.key;if(b&&null!=f)if(null!=a){if(0==jg(c,e))return}else if(this.q&&(!this.reverse&&this.q.lowerOpen&&null!=this.q.lower&&(e=R(f,this.q.lower),0==e)||this.reverse&&this.q.upperOpen&&null!=this.q.upper&&(e=R(f,this.q.upper),
0==e)))return;return eg(this,b)}this.Ra=kg(b,this.w);this.ca=lg(this.Ra,this.O);this.reverse?fg(this.ca,ia(d,this),c):gg(this.ca,ia(d,this),c);hg(this)},this)};l.clear=function(){throw new Pb;};l.xa=function(){throw new Pb;};l.toString=function(){return"Simple"+cg.u.toString.call(this)};function mg(a,b,c){a=["ydn.db",a];t(b)&&(a.push(b),t(c)&&(a.push(c),t(void 0)&&a.push($c(void 0))));return a.join("^|")};function Y(a,b){this.key=a;this.a=b}Y.prototype.r=function(){return this.a};Y.prototype.toString=function(){return"ydn.db.con.simple.Node("+this.key+(null!=this.a?", "+this.a+")":")")};function jg(a,b){var c=R(a.key,b.key);return 0===c?null!=a.a?null!=b.a?R(a.a,b.a):1:null!=b.a?-1:0:c};function ng(a){this.I=a||og}function og(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0}l=ng.prototype;l.A=null;l.I=null;l.Y=null;l.X=null;
l.add=function(a){if(null==this.A)return this.X=this.Y=this.A=new pg(a),!0;var b=null;qg(this,function(c){var d=null;0<this.I(c.value,a)?(d=c.left,null==c.left&&(b=new pg(a,c),c.left=b,c==this.Y&&(this.Y=b))):0>this.I(c.value,a)&&(d=c.right,null==c.right&&(b=new pg(a,c),c.right=b,c==this.X&&(this.X=b)));return d});b&&(qg(this,function(a){a.count++;return a.parent},b.parent),rg(this,b.parent));return!!b};
function sg(a,b){qg(a,function(a){var d=null;0<this.I(a.value,b)?d=a.left:0>this.I(a.value,b)?d=a.right:tg(this,a);return d})}l.clear=function(){this.X=this.Y=this.A=null};l.contains=function(a){var b=!1;qg(this,function(c){var d=null;0<this.I(c.value,a)?d=c.left:0>this.I(c.value,a)?d=c.right:b=!0;return d});return b};l.gb=function(){return this.A?this.A.count:0};l.Ha=function(){var a=[];ug(this,function(b){a.push(b)});return a};
function ug(a,b){if(a.A){var c,d=c=vg(a);for(c=c.left?c.left:c;null!=d;)if(null!=d.left&&d.left!=c&&d.right!=c)d=d.left;else{if(d.right!=c&&b(d.value))break;var e=d,d=null!=d.right&&d.right!=c?d.right:d.parent;c=e}}}function qg(a,b,c){for(c=c?c:a.A;c&&null!=c;)c=b.call(a,c)}
function rg(a,b){qg(a,function(a){var b=a.left?a.left.height:0,e=a.right?a.right.height:0;1<b-e?(a.left.right&&(!a.left.left||a.left.left.height<a.left.right.height)&&wg(this,a.left),xg(this,a)):1<e-b&&(a.right.left&&(!a.right.right||a.right.right.height<a.right.left.height)&&xg(this,a.right),wg(this,a));b=a.left?a.left.height:0;e=a.right?a.right.height:0;a.height=Math.max(b,e)+1;return a.parent},b)}
function wg(a,b){yg(b)?(b.parent.left=b.right,b.right.parent=b.parent):zg(b)?(b.parent.right=b.right,b.right.parent=b.parent):(a.A=b.right,a.A.parent=null);var c=b.right;b.right=b.right.left;null!=b.right&&(b.right.parent=b);c.left=b;b.parent=c;c.count=b.count;b.count-=(c.right?c.right.count:0)+1}
function xg(a,b){yg(b)?(b.parent.left=b.left,b.left.parent=b.parent):zg(b)?(b.parent.right=b.left,b.left.parent=b.parent):(a.A=b.left,a.A.parent=null);var c=b.left;b.left=b.left.right;null!=b.left&&(b.left.parent=b);c.right=b;b.parent=c;c.count=b.count;b.count-=(c.left?c.left.count:0)+1}
function tg(a,b){if(null!=b.left||null!=b.right){var c=null,d;if(null!=b.left){d=Ag(a,b.left);qg(a,function(a){a.count--;return a.parent},d);if(d!=b.left){if(d.parent.right=d.left)d.left.parent=d.parent;d.left=b.left;d.left.parent=d;c=d.parent}d.parent=b.parent;d.right=b.right;d.right&&(d.right.parent=d);b==a.X&&(a.X=d)}else{d=vg(a,b.right);qg(a,function(a){a.count--;return a.parent},d);if(d!=b.right){if(d.parent.left=d.right)d.right.parent=d.parent;d.right=b.right;d.right.parent=d;c=d.parent}d.parent=
b.parent;d.left=b.left;d.left&&(d.left.parent=d);b==a.Y&&(a.Y=d)}d.count=b.count;yg(b)?b.parent.left=d:zg(b)?b.parent.right=d:a.A=d;rg(a,c?c:d)}else qg(a,function(a){a.count--;return a.parent},b.parent),yg(b)?(b.parent.left=null,b==a.Y&&(a.Y=b.parent),rg(a,b.parent)):zg(b)?(b.parent.right=null,b==a.X&&(a.X=b.parent),rg(a,b.parent)):a.clear()}function vg(a,b){if(!b)return a.Y;var c=b;qg(a,function(a){var b=null;a.left&&(b=c=a.left);return b},b);return c}
function Ag(a,b){if(!b)return a.X;var c=b;qg(a,function(a){var b=null;a.right&&(b=c=a.right);return b},b);return c}function pg(a,b){this.value=a;this.parent=b?b:null;this.count=1}pg.prototype.left=null;pg.prototype.right=null;pg.prototype.height=1;function zg(a){return!!a.parent&&a.parent.right==a}function yg(a){return!!a.parent&&a.parent.left==a};function Bg(a){this.I=a||og}D(Bg,ng);function gg(a,b,c){if(a.A){var d;if(c instanceof pg)d=c;else if(c){if(qg(a,function(a){var b=null;0<this.I(a.value,c)?(b=a.left,d=a):0>this.I(a.value,c)?b=a.right:d=a;return b}),!d)return}else d=vg(a);a=d;for(var e=d.left?d.left:d;null!=a;)if(null!=a.left&&a.left!=e&&a.right!=e)a=a.left;else{if(a.right!=e&&b(a))return;var f=a;a=null!=a.right&&a.right!=e?a.right:a.parent;e=f}b(null)}}
function fg(a,b,c){if(a.A){var d;if(c instanceof pg)d=c;else if(c){if(qg(a,ia(function(a){var b=null;0<this.I(a.value,c)?b=a.left:(0>this.I(a.value,c)&&(b=a.right),d=a);return b},a)),!d)return}else d=Ag(a);a=d;for(var e=d.right?d.right:d;null!=a;)if(null!=a.right&&a.right!=e&&a.left!=e)a=a.right;else{if(a.left!=e&&b(a))return;var f=a;a=null!=a.left&&a.left!=e?a.left:a.parent;e=f}b(null)}};function Cg(a,b,c){this.e=a;this.storage=b;this.b=c;this.a={};a=this.b.keyPath;this.c=u(a)?a.join(","):a||"_ROWID_";this.a[this.c]=null;this.d=mg(this.e,this.b.getName(),this.c)+"^|"}
function lg(a,b){var c=b||a.c;if(!a.a[c]){a.a[c]=new Bg(jg);for(var d=a.storage.length,e=0;e<d;e++){var f=a.storage.key(e);if(null!==f&&0==f.lastIndexOf(a.d,0)){var g=cd(f.substr(a.d.length));if(c==a.c)a.a[c].add(new Y(g));else{var h=a.storage.getItem(f);if(null!==h)if(f=$d(a.b,c),h=ue(h),h=Qd(f,h),f.multiEntry){if(u(h))for(f=0;f<h.length;f++)a.a[c].add(new Y(h[f],g))}else a.a[c].add(new Y(h,g))}}}}return a.a[c]}
function Dg(a,b,c){for(var d in a.a){var e=a.a[d];if(e)if(d==a.c)sg(e,new Y(b));else{var f=$d(a.b,d),f=Xc(c,f.keyPath);sg(e,new Y(b,f))}}}function Eg(a){for(var b in a.a){var c=a.a[b];c&&c.clear()}a.a={}}
function dg(a,b,c,d){if(null==b&&(a.b.keyPath&&(b=he(a.b,c)),a.b.b&&null==b)){b=a.d+$c(void 0);var e=ue(a.storage.getItem(b));e.key_count||(e.key_count=0);e.key_count++;a.storage.setItem(b,T(e));b=e.key_count}d&&(d=null!==a.storage.getItem(a.d+$c(b)));if(d)return null;a.storage.setItem(a.d+$c(b),T(c));d=b;for(var f in a.a)if(e=a.a[f])if(f==a.c)e.add(new Y(d));else{var g=$d(a.b,f),g=Xc(c,g.keyPath);null!=g&&e.add(new Y(d,g))}return b}
function Fg(a,b){var c=a.d+$c(b),d=a.storage.getItem(c);if(null===d)return 0;a.storage.removeItem(c);c=ue(d);Dg(a,b,c);return 1}Cg.prototype.clear=function(){Eg(this);Gg(this)};function ig(a,b){var c=a.storage.getItem(a.d+$c(b)),d=void 0;if(null!==c)for(var d=ue(c),c=0,e=a.b.a.length;c<e;c++){var f=a.b.index(c);if("DATE"==f.type){var g=Qd(f,d);g&&Rd(f,d,new Date(g))}}return d}Cg.prototype.getName=function(){return this.b.getName()};
function Hg(a,b,c){b=b||a.c;a=lg(a,b);var d=null,e=null,f=0,g=!1,h=!1;null!=c&&(null!=c.lower&&(d=new Y(c.lower)),null!=c.upper&&(e=new Y(c.upper)),g=c.lowerOpen,h=c.upperOpen);gg(a,function(a){if(null!=a&&(a=a.value,!g||null==d||0!=R(a.key,d.key))){if(null!=e&&(a=R(a.key,e.key),1===a||0===a&&h))return!0;f++}},d);return f}
function Gg(a,b){var c=lg(a,a.c),d=null,e=null,f=0,g=[],h=[],k=!1,m=!1;null!=b&&(null!=b.lower&&(d=new Y(b.lower)),null!=b.upper&&(e=new Y(b.upper)),k=b.lowerOpen,m=b.upperOpen);gg(c,function(b){if(null!=b&&(b=b.value,!k||null==d||0!=jg(b,d))){if(null!=e){var c=jg(b,e);if(1===c||0===c&&m)return!0}var c=a.d+$c(b.key),p=a.storage.getItem(c);null!==p&&(a.storage.removeItem(c),f++,10>g.length&&(g.push(b.key),h.push(ue(p))))}},d);if(10>g.length)for(c=0;c<g.length;c++)Dg(a,g[c],h[c]);else Eg(a);return f}
function Ig(a,b,c,d,e,f,g,h,k){function m(c){if(c&&(C++,!(C<g))){var d=c.value;if(e){if(E&&null!=A&&(c=p?jg(d,A):R(d.key,A.key),0==c))return;if(null!=y&&(c=p?jg(d,y):R(d.key,y.key),-1==c||0==c&&B))return k&&(k[0]=void 0,k[1]=void 0),!0}else{if(B&&null!=y&&(c=p?jg(d,y):R(d.key,y.key),0==c))return;if(null!=A&&(c=p?jg(d,A):R(d.key,A.key),1==c||0==c&&E))return k&&(k[0]=void 0,k[1]=void 0),!0}c=d.key;if(!h||!r||null==n||0!=R(n,c)){d=r?d.r():c;if(2==b)q.push(d);else if(1==b)q.push(c);else if(3==b)q.push([c,
d]);else if(4==b){var m=ig(a,d);q.push(m)}else q.push([c,d,ig(a,d)]);k&&(k[0]=c,k[1]=d)}n=c;if(t(f)&&q.length>=f)return!0}}var q=[],n,p=!!k&&null!=k[0];c=c||a.c;var r=c!=a.c;c=lg(a,c);var y=null,A=null;t(g)||(g=0);var C=-1,B=!1,E=!1;null!=d&&(null!=d.lower&&(y=r&&e?new Y(d.lower,"\uffff"):new Y(d.lower)),null!=d.upper&&(A=r&&!e?new Y(d.upper,"\uffff"):new Y(d.upper)),B=!!d.lowerOpen,E=!!d.upperOpen);if(p){e?E=!0:B=!0;d=k[0];var O=t(k[1])?k[1]:"\uffff";e?A=r?new Y(d,O):new Y(d):y=r?new Y(d,O):new Y(d)}e?
fg(c,m,A):gg(c,m,y);return q}Cg.prototype.ea=function(a,b,c,d,e){return Ig(this,2,a,b,c,d,e)};Cg.prototype.toString=function(){return"ydn.db.con.simple.Store:"+this.e+":"+this.b.getName()};function Jg(){this.clear()}l=Jg.prototype;l.ab=function(){return this};l.setItem=function(a,b){t(this.a[a])||(this.keys.push(a.toString()),this.length=this.keys.length);this.a[a]=b};l.getItem=function(a){return t(this.a[a])?this.a[a]:null};l.removeItem=function(a){delete this.a[a];sb(this.keys,a.toString());this.length=this.keys.length};l.length=0;l.key=function(a){a=this.keys[a];return t(a)?this.a[a]:null};l.clear=function(){this.a={};this.keys=[];this.length=0};function Kg(a){this.f=a||new Jg;this.e={}}function kg(a,b){var c=U(a.a,b);if(c)a.e[b]||(a.e[b]=new Cg(a.c,a.d,c));else throw new Rb('store name "'+b+'" not found.');return a.e[b]}Kg.prototype.Q=function(a){var b=this;setTimeout(function(){var c=mg(b.c),c=b.d.getItem(c),c=new Ae(c);a(c)},10)};function Lg(a,b){this.b=a;this.a=b}Lg.prototype.i=function(a,b){var c=this.b;setTimeout(function(){a.call(b,c)},4);var d=this;return function(){d.a("complete",null);d.a=null;d.b=null}};function Mg(a,b){this.a=b}D(Mg,rf);l=Mg.prototype;l.logger=H("ydn.db.crud.req.SimpleStore");l.Pa=function(a,b,c){this.S(a,!0,!1,null,b,c)};
l.S=function(a,b,c,d,e,f){J(this.logger,Q(a)+" "+(b?"put":"add")+"Object"+(c?"":"s "+e.length+" objects"));var g=a.a.i(function(h){var k;if(c)k=kg(h,d),h=f?f[0]:void 0,h=dg(k,h,e[0],!b),null!=h?N(a,h):(k=ve(h),k=new jf(k),N(a,k,!0));else{for(var m=d,q=[],n=!1,p=f||{},r=0;r<e.length;r++){var y;d?y=p[r]:(m=f[r],y=m.id,m=m.h());k&&k.getName()==m||(k=kg(h,m));y=dg(k,y,e[r],!b);null!=y?q.push(y):(n=!0,q.push(new jf))}N(a,q,n)}g();g=null},this)};l.mb=function(){throw new Pb("putData");};
l.Ga=function(a,b,c){var d=a.a.i(function(e){e=ig(kg(e,b),c);N(a,e);d();d=null},this)};function Ng(a,b,c,d){var e=b.a.i(function(a){for(var g=[],h=c,k,m=0;m<d.length;m++){var q=d[m];q instanceof zd&&(h=q,q=h.id,h=h.h());k&&k.getName()==h||(k=kg(a,h));q=ig(k,q);g[m]=q}N(b,g,!1);e();e=null},a)}l.ib=function(a,b,c){Ng(this,a,b,c)};l.jb=function(a,b){Ng(this,a,null,b)};
l.Qa=function(a,b,c){var d=Q(a)+" removeById "+b+" "+c;J(this.logger,d);var e=this,f=a.a.i(function(g){g=Fg(kg(g,b),c);K(e.logger,"success "+d+(0==g?" [not found]":""));N(a,g);f();f=null},this)};l.ob=function(a,b){J(this.logger,Q(a)+" removeByKeys "+b.length+" keys");var c,d=0,e=a.a.i(function(f){for(var g=0;g<b.length;g++){var h=b[g].h(),k=b[g].id;c&&c.getName()==h||(c=kg(f,h));d+=Fg(c,k)}N(a,d);e();e=null},this)};l.$a=function(a,b,c){this.sa(a,b,c)};
l.sa=function(a,b,c){var d=Q(a)+" removeByKeyRange "+(c?T(c):"");J(this.logger,d);var e=this,f=a.a.i(function(g){g=Gg(kg(g,b),c);K(e.logger,d+" deleted "+g+" records.");N(a,g);f();f=null},this)};l.nb=function(a,b,c,d){var e=Q(a)+" removeByIndexKeyRange "+(d?T(d):"");J(this.logger,e);var f=a.a.i(function(e){e=kg(e,b);for(var h=e.ea(c,d),k=h.length,m=0;m<k;m++)Fg(e,h[m]);N(a,k);f();f=null},this)};
l.Aa=function(a,b){var c=Q(a)+" clearByStores";J(this.logger,c);var d=a.a.i(function(e){for(var f=0;f<b.length;f++)kg(e,b[f]).clear();K(this.logger,"success "+c);N(a,b.length);d();d=null},this)};l.Ca=function(a,b){var c=a.a.i(function(d){for(var e=[],f=0;f<b.length;f++){var g=kg(d,b[f]);e.push(Hg(g))}N(a,e);c();c=null},this)};
l.bb=function(a,b,c,d){var e=Q(a)+" count"+(null!=d?"Index":"")+(null!=c?"KeyRange":"Store");J(this.logger,e);var f=a.a.i(function(g){g=Hg(kg(g,b),d,c);K(this.logger,"success "+e);N(a,g);f();f=null},this)};l.aa=function(a,b,c,d,e,f,g,h,k,m){var q=Q(a)+" "+c+" "+(e?ve(e):"");J(this.logger,q);var n=a.a.i(function(p){p=Ig(kg(p,c),b,d,e,h,f,g,k,m);K(this.logger,q+" "+p.length+" records found.");N(a,p);n();n=null},this)};function Ff(a,b){this.a=b}D(Ff,Mg);Ff.prototype.b=function(a,b,c,d){c=U(this.a,c);return new cg(a,b,c,d)};function Og(a,b,c,d){Ve.call(this,a,b,c,d);this.F=null;this.e=this.g=void 0}D(Og,Ve);l=Og.prototype;l.logger=H("ydn.db.core.req.WebsqlCursor");l.r=function(){return this.e};l.pb=function(a,b,c,d,e){Og.u.pb.call(this,a,b,c,d,e);this.F=w(b)?$d(this.b,b):null};l.J=function(){return this.l};function Pg(a,b){a.g=void 0;a.e=void 0;a.l=void 0;if(t(b))if(z(b)){var c=Sd(b[a.b.e],a.b.type);a.e=c;if(a.d){var d=$d(a.b,a.O);a.g=Sd(b[a.O],d.type)}else a.g=c;a.l=a.pa?c:Qg(b,a.b)}else a.l=b}
function Rg(a,b,c){$d(a.b,a.O);var d=[],e=a.O,f=a.q,g=a.g;if(null!=f){var h=f.lower,k=f.upper,m=f.lowerOpen,q=f.upperOpen;a.reverse?k=null!=k&&-1==R(k,g)?k:g:h=null!=h&&1==R(h,g)?h:g;null!=h&&null!=k?f=S.bound(h,k,!!m,!!q):f=null!=h?Hd.lowerBound(h,!!m):Hd.upperBound(k,!!q)}else f=a.reverse?Hd.upperBound(g):Hd.lowerBound(g);e=Zd(a.b,d,a.n,e,f,a.reverse,a.unique);c=a.reverse?Hd.upperBound(c,!1):Hd.lowerBound(c,!1);c=Zd(a.b,d,a.n,a.b.e,c,a.reverse,a.unique);e.o=e.o?e.o+(" AND "+c.o):c.o;c="SELECT "+
e.select+" FROM "+e.R+(e.o?" WHERE "+e.o:"")+(e.group?" GROUP BY "+e.group:"")+" ORDER BY "+e.U;c+=" LIMIT 1";J(a.logger,a+": continuePrimary:  SQL: "+c+" : "+T(d));a.f.executeSql(c,d,function(c,d){0<d.rows.length?Pg(a,d.rows.item(0)):Pg(a);b.call(a,a.g,a.e,a.l);b=null},function(c,d){I(a.logger,"get error: "+d.message);We(a,d);Pg(a);b.call(a,a.e,a.g,a.l);b=null;return!1})}
function Sg(a,b,c,d,e,f){var g=!d;d=[];a.d&&null!=f&&null!=c?c=ce(a.b,a.n,d,a.F.getName(),a.q,c,g,f,a.reverse,a.unique):null!=c?(f=a.F?a.F.getName():null,c=be(a.b,a.n,d,f,a.q,a.reverse,a.unique,c,g)):(c=Yd(a.b,d,a.n,a.d?a.F.d:a.b.e,a.q,a.reverse,a.unique),a.d&&(c+=", "+a.b.d+" ASC"));c+=" LIMIT 1";0<e&&(c+=" OFFSET "+e);J(a.logger,a+": continue:  SQL: "+c+" : "+T(d));a.f.executeSql(c,d,function(c,d){0<d.rows.length?Pg(a,d.rows.item(0)):Pg(a);b.call(a,a.g,a.e,a.l);b=null},function(c,d){I(a.logger,
"get error: "+d.message);We(a,d);Pg(a);b.call(a,a.e,a.g,a.l);b=null;return!1})}l.Ia=function(){return!!this.f};l.update=function(a){if(!this.Ia())throw new mf;var b=new F,c=this.r();a=je(this.b,a,c);var d="REPLACE INTO "+ae(this.b)+" ("+a.wb.join(", ")+") VALUES ("+a.Ab.join(", ")+")";J(this.logger,this+': update "'+d+'" : '+T(a.G));this.f.executeSql(d,a.G,function(){b.p(c)},function(a,c){b.m(c);return!1});return b};
l.advance=function(a){var b=this.g,c=this.e,d=!0;null==this.g||this.d&&null==this.e||(a-=1,d=!1);Sg(this,function(a,d,g){var h=null!=b&&null!=a&&0==R(b,a);if(this.d){var k=null!=d&&null!=c&&0==R(d,c);if(h&&k)throw new Rb("current: "+b+";"+c+" next: "+a+";"+d);}else if(h)throw new Rb("current: "+b+" next: "+a);this.T(a,d,g)},this.g,d,a,this.e)};l.ha=function(a){null!=a?Sg(this,this.T,a,!0):this.advance(1)};l.openCursor=function(a,b){Sg(this,this.T,a,!1,0,b)};
l.clear=function(){if(!this.Ia())throw new mf;var a=new F,b=this.b.e,b="DELETE FROM "+ae(this.b)+" WHERE "+b+" = ?",c=[this.r()];J(this.logger,this+': clear "'+b+'" : '+T(c));this.f.executeSql(b,c,function(b,c){a.p(c.rowsAffected)},function(b,c){a.m(c);return!1});return a};l.xa=function(a){var b=R(a,this.e);if(0==b||1==b&&this.reverse||-1==b&&!this.reverse)throw new Ne(this+" to continuePrimaryKey  from "+this.e+" to "+a+" on "+this.W+" direction is wrong");Rg(this,this.T,a)};
l.toString=function(){return"WebSql"+Og.u.toString.call(this)};function Tg(a,b){this.a=b}D(Tg,rf);l=Tg.prototype;l.logger=H("ydn.db.crud.req.WebSql");
function Qg(a,b){if(b.ia&&!b.keyPath&&0==b.a.length&&a._default_){var c=a._default_;if(-1==c.indexOf(";base64,"))return ue(c);'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));for(var d=c.split(";base64,"),c=d[0].split(":")[1],d=window.atob(d[1]),e=d.length,f=new Uint8Array(e),g=0;g<e;++g)f[g]=d.charCodeAt(g);return new Blob([f.buffer],{type:c})}c=a._default_?ue(a._default_):{};null!=b.keyPath&&(d=Sd(a[b.keyPath],b.type),null!=d&&ie(b,c,d));for(d=0;d<b.a.length;d++)e=b.index(d),
f=e.d,"_default_"==f||e.f||e.multiEntry||"DATE"!=e.type&&!b.ia||(f=Sd(a[f],e.type),t(f)&&Rd(e,c,f));return c}l.mb=function(){throw new Pb("putData");};
l.S=function(a,b,c,d,e,f){function g(b,d){if(null==e[b])if(J(m.logger,"empty object at "+b+" of "+e.length),n++,n==e.length)K(m.logger,p+" success "+p),N(a,q,r);else{var C=b+2;C<e.length&&g(C,d)}var B;B=t(f)?je(h,e[b],f[b]):je(h,e[b]);C=k+ae(h)+" ("+B.wb.join(", ")+") VALUES ("+B.Ab.join(", ")+");";J(m.logger,Q(a)+" SQL: "+C+" PARAMS: "+B.G+" REQ: "+b+" of "+e.length);d.executeSql(C,B.G,function(f,p){function C(b,c){var e="ydn.db.me:"+h.getName()+":"+b.getName(),e=k+Ea(e)+" ("+h.d+", "+b.c+") VALUES (?, ?)",
f=[Ld($,h.type),Ld(c,b.type)];J(m.logger,Q(a)+" multiEntry "+e+" "+f);d.executeSql(e,f,function(){},function(a,b){I(m.logger,"multiEntry index insert error: "+b.message);return!1})}n++;var $=t(B.key)?B.key:p.insertId;1>p.rowsAffected&&(r=!0,$=new jf($+" no-op"));for(var ab=0,wd=h.a.length;ab<wd;ab++){var ib=h.index(ab);if(ib.multiEntry)for(var Ib=Xc(e[b],ib.keyPath),pi=(Ib?Ib.length:0)||0,De=0;De<pi;De++)C(ib,Ib[De])}c?N(a,$):(q[b]=$,n==e.length?N(a,q,r):(ab=b+2,ab<e.length&&g(ab,f)))},function(d,
f){n++;r=!0;6==f.code?f.name="ConstraintError":I(m.logger,"error: "+f.message+" "+p);if(c)N(a,f,!0);else if(q[b]=f,n==e.length)J(m.logger,"success "+p),N(a,q,r);else{var h=b+2;h<e.length&&g(h,d)}return!1})}b=!b;var h=U(this.a,d),k=b?"INSERT INTO ":"INSERT OR REPLACE INTO ";d=a.a;var m=this,q=[],n=0,p=Q(a)+" inserting "+e.length+" objects.",r=!1;if(0<e.length)for(b=0;2>b&&b<e.length;b++)g(b,d);else K(this.logger,"success"),N(a,[])};
l.Pa=function(a,b,c){if(0==c.length)N(a,[]);else{for(var d=[],e=0,f=0,g=this,h=function(h,k){var m=[];J(g.logger,"put "+k.length+" objects to "+h);for(var n=ge(U(g.a,h)),q=n?void 0:[],p=0;p<k.length;p++)m.push(b[k[p]]),n||q.push(c[k[p]].id);n=jd(a);Fb(n,function(b){for(var c=0;c<k.length;c++)d[k[c]]=b[c];e++;e==f&&N(a,d)},function(){e++;e==f&&N(a,d,!0)});g.S(n,!1,!1,h,m,q)},k="",m=[],q=[],n=0;n<c.length;n++){var p=c[n].h(),r=c[n].id;p!=k?(f++,0<m.length&&h(k,m),m=[n],q=[r],k=p):(m.push(n),q.push(r))}0<
m.length&&h(k,m)}};l.Ga=function(a,b,c){var d=a.a,e=U(this.a,b),f=this;b=e.d;c=[Ld(c,e.type)];b="SELECT * FROM "+ae(e)+" WHERE "+b+" = ?";var g=Q(a)+" SQL: "+b+" PARAMS: "+c;J(this.logger,g);d.executeSql(b,c,function(b,c){if(0<c.rows.length){var d=c.rows.item(0);null!=d?(d=Qg(d,e),N(a,d)):(K(f.logger,"success no result: "+g),N(a,void 0))}else K(f.logger,"success no result: "+g),N(a,void 0)},function(b,c){I(f.logger,"error: "+g+" "+c.message);N(a,c,!0);return!1})};
l.ib=function(a,b,c){function d(b,e){var n=k.d,p=[Ld(c[b],k.type)],r="SELECT * FROM "+ae(k)+" WHERE "+n+" = ?";J(f.logger,"SQL: "+r+" PARAMS: "+p);e.executeSql(r,p,function(e,f){h++;if(0<f.rows.length){var n=f.rows.item(0);null!=n&&(g[b]=Qg(n,k))}else g[b]=void 0;h==c.length?N(a,g):(n=b+10,n<c.length&&d(n,e))},function(e,k){h++;I(f.logger,"error: "+r+" "+k.message);if(h==c.length)N(a,g);else{var n=b+10;n<c.length&&d(n,e)}return!1})}var e=a.a,f=this,g=[],h=0,k=U(this.a,b);if(0<c.length)for(b=0;10>
b&&b<c.length;b++)d(b,e);else K(f.logger,"success"),N(a,[])};
l.jb=function(a,b){function c(d,h){var q=b[d],n=q.h(),p=U(e.a,n),n=Ad(q),q=p.d,n=[Ld(n,p.type)],r="SELECT * FROM "+ae(p)+" WHERE "+q+" = ?";J(e.logger,"SQL: "+r+" PARAMS: "+n);h.executeSql(r,n,function(h,m){g++;if(0<m.rows.length){var n=m.rows.item(0);null!=n&&(f[d]=Qg(n,p))}else f[d]=void 0;g==b.length?(J(e.logger,"success "+r),N(a,f)):(n=d+10,n<b.length&&c(n,h))},function(b,c){N(a,c,!0);return!1})}var d=a.a,e=this,f=[],g=0;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)c(h,d);else J(this.logger,
"success"),N(a,[])};
l.Aa=function(a,b){function c(d,g){function h(a){a="ydn.db.me:"+k.getName()+":"+a.getName();a="DELETE FROM  "+Ea(a);J(e.logger,"SQL: "+a);g.executeSql(a,[])}var k=U(e.a,b[d]),m="DELETE FROM  "+ae(k);J(e.logger,"SQL: "+m+" PARAMS: []");g.executeSql(m,[],function(g){d==b.length-1?(J(e.logger,"success "+m),N(a,b.length)):c(d+1,g)},function(b,c){N(a,c,!0);return!1});for(var q=0,n=k.a.length;q<n;q++){var p=k.index(q);p.multiEntry&&h(p)}}var d=a.a,e=this;0<b.length?c(0,d):(J(this.logger,"success"),N(a,
0))};
l.ob=function(a,b){function c(h){if(h>=b.length)N(a,f,g);else{var k=U(e.a,b[h].h()),m=Ld(b[h].id,k.type),q=" WHERE "+k.d+" = ?",n="DELETE FROM "+ae(k)+q,p=Q(a)+" SQL: "+n+" PARAMS: "+[m];d.executeSql(n,[m],function(){f++;c(h)},function(a,b){I(e.logger,"error: "+p+b.message);g=!0;c(h);return!1});h++;for(var n=function(b){b="ydn.db.me:"+k.getName()+":"+b.getName();b="DELETE FROM  "+Ea(b)+q;J(e.logger,Q(a)+NaN+b);d.executeSql(b,[m])},r=0,y=k.a.length;r<y;r++){var A=k.index(r);A.multiEntry&&n(A)}}}var d=
a.a,e=this,f=0,g=!1;J(this.logger,Q(a)+" removeByKeys: "+b.length+" keys");c(0)};
l.Qa=function(a,b,c){function d(b){b="ydn.db.me:"+f.getName()+":"+b.getName();b="DELETE FROM  "+Ea(b)+k;J(h.logger,Q(a)+NaN+b);e.executeSql(b,[g])}var e=a.a,f=U(this.a,b),g=Ld(c,f.type),h=this,k=" WHERE "+f.d+" = ?";b="DELETE FROM "+ae(f)+k;J(this.logger,Q(a)+" SQL: "+b+" PARAMS: "+[g]);e.executeSql(b,[g],function(b,c){N(a,c.rowsAffected)},function(b,c){N(a,c,!0);return!1});b=0;for(c=f.a.length;b<c;b++){var m=f.index(b);m.multiEntry&&d(m)}};l.$a=function(a,b,c){Ug(this,a,b,void 0,c)};
l.sa=function(a,b,c){Ug(this,a,b,void 0,c)};l.nb=function(a,b,c,d){Ug(this,a,b,c,d)};
function Ug(a,b,c,d,e){function f(c){c="ydn.db.me:"+h.getName()+":"+c.getName();c="DELETE FROM  "+Ea(c)+q;J(a.logger,Q(b)+NaN+c);g.executeSql(c,m)}var g=b.a,h=U(a.a,c);c="DELETE FROM "+ae(h);var k=[],m=[],q="";null!=e&&(t(d)?(d=$d(h,d),Kd(d.c,d.type,e,m,k)):Kd(h.d,h.type,e,m,k),q=" WHERE "+m.join(" AND "));c+=q;var n=Q(b)+" SQL: "+c+" PARAMS: "+k;J(a.logger,n);g.executeSql(c,k,function(c,d){J(a.logger,"success "+n);N(b,d.rowsAffected)},function(c,d){I(a.logger,"error: "+n+d.message);N(b,d,!0);return!1});
e=0;for(d=h.a.length;e<d;e++)c=h.index(e),c.multiEntry&&f(c)}l.Ca=function(a,b){function c(g){var h="SELECT COUNT(*) FROM "+Ea(b[g]);J(e.logger,"SQL: "+h+" PARAMS: []");d.executeSql(h,[],function(d,e){var h=e.rows.item(0);f[g]=parseInt(h["COUNT(*)"],10);g++;g==b.length?N(a,f):c(g)},function(b,c){N(a,c,!0);return!1})}var d=a.a,e=this,f=[];0==b.length?(J(this.logger,"success"),N(a,0)):c(0)};
l.bb=function(a,b,c,d,e){var f=[];b=Yd(U(this.a,b),f,6,d,c,!1,e);J(this.logger,Q(a)+" SQL: "+b+" PARAMS: "+f);a.a.executeSql(b,f,function(b,c){var d;a:{if(d=c.rows.item(0))for(var e in d)if(d.hasOwnProperty(e)){d=d[e];break a}d=void 0}N(a,d)},function(b,c){N(a,c,!0);return!1})};
l.aa=function(a,b,c,d,e,f,g,h,k,m){var q=this,n=[],p=U(this.a,c),r=p.e,y=p.type,A=y,C=null!=d&&d!==r?$d(p,d):null,B=d||r;C&&(A=C.type);c=[];if(m&&t(m[0])){var E=m[0];C&&t(m[1])?(d=m[1],e=ce(p,b,c,C.getName(),e,E,!0,d,h,k)):e=be(p,b,c,d,e,h,k,E,!0)}else e=Yd(p,c,b,B,e,h,k);x(f)&&(e+=" LIMIT "+f);x(g)&&(e+=" OFFSET "+g);var O=a+" SQL: "+e+" ;params= "+T(c);J(this.logger,O);a.a.executeSql(e,c,function(c,d){for(var e=d.rows.length,f,g=0;g<e;g++)f=d.rows.item(g),2==b?n[g]=Sd(f[r],y):1==b?n[g]=Sd(f[B],
A):3==b?n[g]=[Sd(f[B],A),Sd(f[r],y)]:null!=f&&(n[g]=Qg(f,p));K(q.logger,"success "+a);m&&f&&(m[0]=Sd(f[B],A),m[1]=Sd(f[r],y));N(a,n)},function(b,c){I(q.logger,"error: "+O+c.message);N(a,c,!0);return!1})};function Ef(a,b){this.a=b}D(Ef,Tg);Ef.prototype.logger=H("ydn.db.core.req.WebSql");Ef.prototype.b=function(a,b,c,d){c=U(this.a,c);return new Og(a,b,c,d)};function Vg(a,b){t(a)&&5242880<a&&Nc(this.logger,Ac,"storage size request ignored, use Quota Management API instead");this.t=null;this.ua=b||NaN}l=Vg.prototype;
l.na=function(a,b){function c(a,c,d){K(e.logger,(d?"changing":"upgrading")+" version to "+a.version+" from "+g);for(d=0;d<b.stores.length;d++)Wg(e,a,c,b.stores[d]);c=a.objectStoreNames;var f=c.length;for(d=0;d<f;d++)Ce(b,c[d])||(a.deleteObjectStore(c[d]),K(e.logger,"store: "+c[d]+" deleted."))}function d(a,b){f.c?I(e.logger,"database already set."):t(b)?(I(e.logger,b?b.message:"Error received."),e.t=null,f.m(b)):(e.t=a,e.t.onabort=function(a){J(e.logger,e+": abort");e.wa(a.target.error)},e.t.onerror=
function(a){J(e.logger,e+": error");e.wa(a.target.error)},e.t.onversionchange=function(a){J(e.logger,e+" closing connection for onversionchange to: "+a.version);if(e.t&&(e.t.onabort=null,e.t.onblocked=null,e.t.onerror=null,e.t.onversionchange=null,e.Oa(a),!a.defaultPrevented)){e.t.close();e.t=null;var b=Error();b.name=a.type;e.Wa(b)}},f.p(parseFloat(g)))}var e=this,f=new F,g=void 0,h=b.version;Nc(this.logger,Ec,"Opening database: "+a+" ver: "+(b.b?"auto":h));var k;k=t(h)?Wc.open(a,h):Wc.open(a);k.onsuccess=
function(f){var h=f.target.result;t(g)||(g=h.version);Nc(e.logger,Ec,"Database: "+h.name+", ver: "+h.version+" opened.");if(b.b)e.Q(function(f){if(b instanceof He)for(var g=0;g<f.stores.length;g++)Ce(b,f.stores[g].getName())||Ie(b,f.stores[g].D());f=Fe(b,f,!1,!0);if(0<f.length){Nc(e.logger,Ec,"Schema change require for difference in "+f);var k=x(h.version)?h.version+1:1;if("IDBOpenDBRequest"in s){h.close();var m=Wc.open(a,k);m.onupgradeneeded=function(a){a=a.target.result;Nc(e.logger,Ec,"re-open for version "+
a.version);c(a,m.transaction,!1)};m.onsuccess=function(a){d(a.target.result)};m.onerror=function(){Nc(e.logger,Ec,e+": fail.");d(null)}}else{var n=h.setVersion(k+"");n.a=function(a){I(e.logger,"migrating from "+h.version+" to "+k+" failed.");d(null,a)};n.onsuccess=function(){n.transaction.oncomplete=B;c(h,n.transaction,!0)};var B=function(){var b=Wc.open(a);b.onsuccess=function(a){a=a.target.result;Nc(e.logger,Ec,e+": OK.");d(a)};b.onerror=function(){Nc(e.logger,Ec,e+": fail.");d(null)}};null!=n.transaction&&
(n.transaction.oncomplete=B)}}else d(h)},void 0,h);else if(b.version>h.version){var k=h.setVersion(b.version);k.a=function(a){I(e.logger,"migrating from "+h.version+" to "+b.version+" failed.");d(null,a)};k.onsuccess=function(){c(h,k.transaction,!0)}}else b.version==h.version?Nc(e.logger,Ec,"database version "+h.version+" ready to go"):I(e.logger,"connected database version "+h.version+" is higher than requested version."),e.Q(function(a){a=Fe(b,a,!1,!0);0<a.length?(Nc(e.logger,Ec,a),d(null,new Le("different schema: "+
a))):d(h)},void 0,h)};k.onupgradeneeded=function(a){a=a.target.result;g=NaN;Nc(this.logger,Ec,"upgrade needed for version "+a.version);c(a,k.transaction,!1)};k.onerror=function(c){Oc(e.logger,'open request to database "'+a+'" '+(t(b.version)?" with version "+b.version:"")+" cause error of "+k.error.name);d(null,c)};k.onblocked=function(c){Oc(e.logger,"database "+a+" "+b.version+" block, close other connections.");d(null,c)};x(this.ua)&&!isNaN(this.ua)&&setTimeout(function(){"done"!=k.readyState&&
(Oc(e.logger,e+": database state is still "+k.readyState),d(null,new qf("connection timeout after "+e.ua)))},this.ua);return f};l.ua=18E4;l.Wa=function(){};l.wa=function(){};l.Oa=function(){};l.oa=function(){return"indexeddb"};l.Va=function(){return!!this.t};l.logger=H("ydn.db.con.IndexedDb");l.t=null;l.Ua=function(){return this.t?parseFloat(this.t.version):void 0};
l.Q=function(a,b,c){c=c||this.t;if(t(b)){if(null===b){if(0==c.objectStoreNames.length){a(new Ae(c.version));return}throw new Ke;}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new Ae(c.version));return}b=c.transaction(b,Uc)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),k=[],m=0,q=h.indexNames.length;m<q;m++){var n=h.index(h.indexNames[m]);k[m]=new Nd(n.keyPath,void 0,n.unique,n.multiEntry,n.name)}f[d]=
new Wd(h.name,h.keyPath,h.autoIncrement,void 0,k)}b=new Ae(c.version,f);a(b)};
function Wg(a,b,c,d){function e(){var a={autoIncrement:!!d.b};null!=d.keyPath&&(a.keyPath=d.keyPath);return b.createObjectStore(d.getName(),a)}Nc(a.logger,Fc,"Creating Object Store for "+d.getName()+" keyPath: "+d.keyPath);if(b.objectStoreNames.contains(d.getName())){c=c.objectStore(d.getName());Ud(d.keyPath||"",c.keyPath||"")?(b.deleteObjectStore(d.getName()),Nc(a.logger,Ac,"store: "+d.getName()+" deleted due to keyPath change."),c=e()):ca(c.autoIncrement)&&ca(d.b)&&c.autoIncrement!=d.b&&(b.deleteObjectStore(d.getName()),
Nc(a.logger,Ac,"store: "+d.getName()+" deleted due to autoIncrement change."),c=e());for(var f=c.indexNames,g=0;g<d.a.length;g++){var h=d.index(g);!f.contains(h.getName())&&h.e&&(c.clear(),Nc(a.logger,Ac,"store: "+d.getName()+" cleared since generator index need re-indexing."))}for(var k=0,m=0,q=0,g=0;g<d.a.length;g++){var h=d.index(g),n=!1;if(f.contains(h.getName())){var p=c.index(h.getName()),r=null!=p.unique&&null!=h.unique&&p.unique!=h.unique,y=null!=p.multiEntry&&null!=h.multiEntry&&p.multiEntry!=
h.multiEntry,p=null!=p.keyPath&&null!=h.keyPath&&!!Ud(p.keyPath,h.keyPath);if(r||y||p)c.deleteIndex(h.getName()),n=!0,k--,q++}else"BLOB"!=h.type&&(n=!0);n&&(h.unique||h.multiEntry?(n={unique:h.unique,multiEntry:h.multiEntry},c.createIndex(h.getName(),h.keyPath,n)):c.createIndex(h.getName(),h.keyPath),k++)}for(g=0;g<f.length;g++)ee(d,f[g])||(c.deleteIndex(f[g]),m++);Nc(a.logger,Fc,"Updated store: "+c.name+", "+k+" index created, "+m+" index deleted, "+q+" modified.")}else{c=e();for(g=0;g<d.a.length;g++)h=
d.index(g),"BLOB"==h.type?Nc(a.logger,Bc,"Index "+h+" of blob data type ignored."):(Nc(a.logger,Fc,"Creating index: "+h),h.unique||h.multiEntry?(n={unique:h.unique,multiEntry:h.multiEntry},c.createIndex(h.getName(),h.keyPath,n)):c.createIndex(h.getName(),h.keyPath));Nc(a.logger,Fc,"Created store: "+c)}}
l.Ea=function(a,b,c,d){var e=this.t;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length?a(null):(b=e.transaction(b,c),b.oncomplete=function(a){d("complete",a)},b.onabort=function(a){d("abort",a)},a(b),a=null)};l.close=function(){Nc(this.logger,Fc,this+" closing connection");this.t.close()};l.toString=function(){return"IndexedDB:"+(this.t?this.t.name+":"+this.t.version:"")};
nd.push(function(a,b){if(!Wc||b&&"indexeddb"!=b)return null;var c=Wc.deleteDatabase(a),d=new M("IDBVersionChangeEvent ");c.onblocked=function(a){Rc(d,a)};c.onerror=function(a){d.m(a)};c.onsuccess=function(a){d.p(a)};return d});function Xg(a){Kg.call(this,a);this.b=NaN}D(Xg,Kg);l=Xg.prototype;l.logger=H("ydn.db.con.SimpleStorage");l.Ua=function(){return this.b};
l.na=function(a,b){function c(a,b){setTimeout(function(){b?(K(d.logger,d+" opening fail"),e.m(b)):(K(d.logger,d+" version "+d.Ua()+" open"),e.p(a))},10)}var d=this,e=new F;this.d=this.f.ab(a);this.c=a;this.a=b;var f=mg(this.c);this.b=NaN;var g=ue(this.d.getItem(f));t(g.version)&&!x(g.version)&&(g.version=NaN);if(g)if(g=new Ae(g),Fe(this.a,g,!1,!1))if(!this.a.b&&!isNaN(g.version)&&this.a.version>g.version)c(NaN,new lf("existing version "+g.version+" is larger than "+this.a.version));else{var h=this.a.version;
this.b=t(h)?h:g.version+1;for(h=0;h<this.a.count();h++)var k=this.a.stores[h]||null;if(this.a instanceof He)for(h=0;h<g.count();h++)k=g.stores[h]||null,Ie(this.a,k);h=this.a.toJSON();h.version=this.b||NaN;this.d.setItem(f,T(h));c(g.version||NaN)}else{for(h=0;h<this.a.count();h++)k=this.a.stores[h]||null;this.b=g.version||NaN;c(this.b)}else g=b.toJSON(),this.b=1,g.version=this.b,this.d.setItem(f,T(g)),c(NaN);return e};l.Va=function(){return!!this.c};l.Wa=function(){};l.wa=function(){};l.Oa=function(){};
l.oa=function(){return"memory"};l.close=function(){};l.Ea=function(a,b,c,d){a(new Lg(this,function(a,b){d(a,b)}))};l.toString=function(){return"SimpleStorage:"+this.oa()+":"+(this.c+":"+this.b)};function Yg(){Xg.call(this,this)}D(Yg,Xg);Yg.prototype.ab=function(){return window.localStorage};Yg.prototype.oa=function(){return"localstorage"};nd.push(function(a,b){if(!b||"localstorage"==b){var c=new Yg,d=new He;c.na(a,d);c.Q(function(a){for(var b=0;b<a.stores.length;b++)kg(c,a.stores[b].getName()).clear()})}});function Zg(){Xg.call(this,this)}D(Zg,Xg);Zg.prototype.ab=function(){return window.sessionStorage};Zg.prototype.oa=function(){return"sessionstorage"};
nd.push(function(a,b){if(!b||"sessionstorage"==b){var c=new Zg,d=new He;c.na(a,d);c.Q(function(a){for(var b=0;b<a.stores.length;b++)kg(c,a.stores[b].getName()).clear()})}});function $g(a,b){this.a=t(a)?a:4194304;this.b=b||"websql"}l=$g.prototype;
l.na=function(a,b){function c(b,c){var f=b.version?parseInt(b.version,10):0,g=c.b?isNaN(f)?1:f+1:c.version;Pc(e.logger,a+": changing version from "+b.version+" to "+g);var h=!1,k=0;b.changeVersion(b.version,g+"",function(a){e.Q(function(b){h=!0;for(var d=0;d<c.count();d++){var f=U(b,(c.stores[d]||null).getName()),f=f?fe(f,c.stores[d]||null):null;ah(e,a,c.stores[d]||null,function(a){a&&k++},f)}for(d=0;d<b.count();d++)f=b.stores[d]||null,Ce(c,f.getName())||(c instanceof He?Ie(c,f):(f="DROP TABLE "+
ae(f),K(e.logger,f),a.executeSql(f,[],function(){},function(a,b){throw b;})))},a,b)},function(c){Oc(e.logger,"SQLError "+c+" "+c.code+"("+c.message+") while changing version from "+b.version+" to "+g+" on "+a);throw c;},function(){if(h){var f=".";k!=c.stores.length&&(f=" but unexpected stores exists.");J(e.logger,a+":"+b.version+" ready"+f);d(b)}else I(e.logger,a+": changing version voided.")})}function d(a,b){t(b)?(e.C=null,g.m(b)):(e.C=a,g.p(parseFloat(f)))}var e=this,f=NaN,g=new F,h=null;try{"sqlite"==
this.b?s.sqlitePlugin?(h=s.sqlitePlugin.openDatabase(a,"",a,this.a),h.readTransaction||(h.readTransaction=h.transaction),h.changeVersion=function(a,b,c,d,e){h.transaction(c,d,e)}):(I(this.logger,"sqlitePlugin not found."),h=null,this.La=Error("sqlitePlugin not found.")):h=s.openDatabase(a,"",a,this.a)}catch(k){if("SECURITY_ERR"==k.name)I(this.logger,"SECURITY_ERR for opening "+a),h=null,this.La=new pf(k);else throw k;}if(h){var f=h.version||"",m="database "+a+(0==f.length?"":" version "+h.version);
null!=b.version&&b.version==h.version?(Pc(e.logger,"Existing "+m+" opened as requested."),d(h)):this.Q(function(a){(a=Fe(b,a,!0,!1))?(0==f?Pc(e.logger,"New "+m+" created."):b.b?Pc(e.logger,"Existing "+m+" opened and schema change for "+a):Pc(e.logger,"Existing "+m+" opened and  schema change to version "+b.version+" for "+a),c(h,b)):(Pc(e.logger,"Existing "+m+" with same schema opened."),d(h))},null,h)}else d(null,this.La);return g};l.oa=function(){return this.b};l.La=null;l.C=null;l.logger=H("ydn.db.con.WebSql");
l.Wa=function(){};l.wa=function(){};
function bh(a){var b=a.n,c="CREATE TABLE IF NOT EXISTS "+ae(a)+" (",d=a.d,c=c+(d+" "+b+" PRIMARY KEY ");a.b&&(c+=" AUTOINCREMENT ");if(!a.ia||!a.keyPath&&0==a.a.length)c+=" ,_default_ BLOB";for(var e=[],f=[d],g=0,h=a.a.length;g<h;g++){var k=a.index(g),m="";if(k.multiEntry){var m="ydn.db.me:"+a.getName()+":"+k.getName(),q=k.unique?" UNIQUE ":"",k="CREATE TABLE IF NOT EXISTS "+Ea(m)+" ("+d+" "+b+", "+k.c+" "+k.g+q+")";e.push(k)}else k.unique&&(m=" UNIQUE "),q=k.keyPath,"BLOB"!=k.type&&w(q)&&(q="CREATE "+
m+" INDEX IF NOT EXISTS "+Ea(a.getName()+"-"+k.getName())+" ON "+ae(a)+" ("+k.c+")",e.push(q)),q=k.c,-1==f.indexOf(q)&&(c+=", "+q+" "+k.g+m,f.push(q))}e.unshift(c+")");return e}l.Ua=function(){return this.C?parseFloat(this.C.version):void 0};
l.Q=function(a,b,c){function d(a,b){throw b;}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if("__WebKitDatabaseInfoTable__"!=e.name&&"sqlite_sequence"!=e.name&&"table"==e.type){var p="sql"in e?e.sql:void 0;J(f.logger,"Parsing table schema from SQL: "+p);for(var r=p.substr(p.indexOf("("),p.lastIndexOf(")")).match(/(?:"[^"]*"|[^,])+/g),y=void 0,A,p=[],C=!1,B=!1,E=0;E<r.length;E++){var O=r[E].match(/\w+|"[^"]+"/g),V=lb(O,function(a){return a.toUpperCase()}),$=Ba(O[0]),
O=Od(V[1]);if(-1!=V.indexOf("PRIMARY")&&-1!=V.indexOf("KEY")){A=O;if(w($)&&!ra($)&&"_ROWID_"!=$){var ab=$.split(","),y=$;1<ab.length&&(y=ab,A=void 0)}-1!=V.indexOf("AUTOINCREMENT")&&(C=!0)}else if("_ROWID_"!=$)if("_default_"==$)B=!0;else{var wd="UNIQUE"==V[2];0==$.lastIndexOf(e.tbl_name+"-",0)&&($=$.substr(e.tbl_name.length+1));V=new Nd($,O,wd);p.push(V)}}if(0==e.name.lastIndexOf("ydn.db.me:",0)){var ib=e.name.split(":");if(3<=ib.length){var Ib=ib[1],y=new Nd(ib[2],O,wd,!0),r=pb(p,function(a){return a.getName()==
ib[2]});0<=r?p[r]=y:p.push(y);r=pb(h,function(a){return a.getName()===Ib});0<=r?(E=h[r],h[r]=new Wd(E.getName(),E.keyPath,C,A,p,void 0,!B)):h.push(new Wd(Ib,void 0,!1,void 0,[y]));J(f.logger,'multi entry index "'+y.getName()+'" found in '+Ib+(-1==r?"*":""))}else I(f.logger,'Invalid multiEntry store name "'+e.name+'"')}else E=pb(h,function(a){return a.getName()===e.name}),0<=E?(r=h[E].index(0),p.push(r),h[E]=new Wd(e.name,y,C,A,p,void 0,!B)):(p=new Wd(e.name,y,C,A,p,void 0,!B),h.push(p))}}d=new Ae(g,
h);a(d)}}var f=this,g=(c=c||this.C)&&c.version?parseFloat(c.version):void 0,g=isNaN(g)?void 0:g,h=[];b?b.executeSql("SELECT * FROM sqlite_master",[],e,d):c.readTransaction(function(b){f.Q(a,b,c)},function(a){Oc(f.logger,"opening tx: "+a.message);throw a;},e)};
function ah(a,b,c,d,e){function f(a){b.executeSql(a,[],function(){g++;g==h.length&&(d(!0),d=null)},function(b,e){g++;g==h.length&&(d(!1),d=null);var f="SQLError creating table: "+c.getName()+" "+e.message+' for executing "'+a;throw new of(e,f);})}var g=0,h=bh(c),k="Create";if(e){e=ke(c,e);if(0==e.length){J(a.logger,"same table "+c.getName()+" exists.");d(!0);d=null;return}k="Modify";I(a.logger,"table: "+c.getName()+" has changed by "+e+" ALTER TABLE cannot run in WebSql, dropping old table.");h.unshift("DROP TABLE IF EXISTS "+
Ea(c.getName()))}J(a.logger,k+" table: "+c.getName()+": "+h.join(";"));for(a=0;a<h.length;a++)f(h[a])}l.Va=function(){return!!this.C};l.close=function(){this.C=null};
l.Ea=function(a,b,c,d){function e(a){J(h.logger,h+": Tx "+c+" request cause error.");d("abort",a)}function f(){d("complete",{type:"complete"})}function g(b){a(b)}var h=this;null===this.C&&(a(null),d("abort",this.La));c==Uc?this.C.readTransaction(g,e,f):c==Vc?this.C.changeVersion(this.C.version,this.C.version+1+"",g,e,f):this.C.transaction(g,e,f)};
nd.push(function(a,b){if(da(s.openDatabase)&&(!b||"websql"==b)){var c=new $g,d=new He;K(c.logger,"deleting websql database: "+a);var d=c.na(a,d),e=function(){var b=c.logger;b&&b.log(Bc,"all tables in "+a+" deleted.",void 0)};d.M(function(){c.Ea(function(b){b.executeSql('SELECT * FROM sqlite_master WHERE type = "table"',[],function(d,e){if(e&&e.rows){for(var k=e.rows.length,m=0,q=0;q<k;q++){var n=e.rows.item(q);"__WebKitDatabaseInfoTable__"!=n.name&&"sqlite_sequence"!=n.name&&(m++,J(c.logger,"deleting table: "+
n.name),b.executeSql("DROP TABLE "+n.name))}K(c.logger,m+' tables deleted from "'+a+'"')}},function(a,b){throw b;})},[],L,e)});d.sb(function(){I(c.logger,"Connecting "+a+" failed.")})}});$g.prototype.Oa=function(){};$g.prototype.toString=function(){return"WebSql:"+(this.C?":"+this.C.version:"")};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
Xf.prototype.cb=function(a){return"indexeddb"==a&&Wc?new Vg(this.n,this.B):"websql"==a&&da(s.openDatabase)?new $g(this.n):"localstorage"==a&&window.localStorage?new Yg:"sessionstorage"==a&&window.sessionStorage?new Zg:"memory"==a?new Xg:null};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
Xf.prototype.branch=Xf.prototype.Db;Xf.prototype.getTxNo=Xf.prototype.Rb;Cf.prototype.getTxNo=Cf.prototype.Qb;Xf.prototype.run=Xf.prototype.Ib;X.prototype.branch=X.prototype.Db;X.prototype.add=X.prototype.add;X.prototype.get=X.prototype.get;X.prototype.keys=X.prototype.keys;X.prototype.values=X.prototype.G;X.prototype.put=X.prototype.put;X.prototype.clear=X.prototype.clear;X.prototype.remove=X.prototype.Ya;X.prototype.count=X.prototype.count;Hf.prototype.add=Hf.prototype.add;Hf.prototype.get=Hf.prototype.get;Hf.prototype.keys=Hf.prototype.keys;Hf.prototype.values=Hf.prototype.G;Hf.prototype.put=Hf.prototype.put;Hf.prototype.clear=Hf.prototype.clear;
Hf.prototype.remove=Hf.prototype.Ya;Hf.prototype.count=Hf.prototype.count;la("ydn.db.Key",zd);zd.prototype.id=zd.prototype.Kb;zd.prototype.parent=zd.prototype.Lb;zd.prototype.storeName=zd.prototype.h;la("ydn.db.KeyRange",S);S.upperBound=S.upperBound;S.lowerBound=S.lowerBound;S.bound=S.bound;S.only=S.only;S.starts=Gd;sd.prototype.store_name=sd.prototype.w;sd.prototype.getStoreName=sd.prototype.h;xd.prototype.name=xd.prototype.name;xd.prototype.getKey=xd.prototype.b;xd.prototype.getValue=xd.prototype.J;
yd.prototype.name=yd.prototype.name;yd.prototype.getKeys=yd.prototype.ea;yd.prototype.getValues=yd.prototype.Ha;function ch(a,b,c){X.call(this,a,b,c)}D(ch,Zf);la("ydn.db.Storage",ch);function dh(){this.a=ka()}var eh=new dh;dh.prototype.get=function(){return this.a};function fh(a){this.d=a||"";this.e=eh}fh.prototype.a=!0;fh.prototype.b=!1;function gh(a){a=new Date(a.f);return hh(a.getFullYear()-2E3)+hh(a.getMonth()+1)+hh(a.getDate())+" "+hh(a.getHours())+":"+hh(a.getMinutes())+":"+hh(a.getSeconds())+"."+hh(Math.floor(a.getMilliseconds()/10))}function hh(a){return 10>a?"0"+a:String(a)}function ih(a,b){var c=(a.f-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d}function jh(a){fh.call(this,a)}D(jh,fh);jh.prototype.b=!0;
jh.prototype.c=function(a){var b;switch(a.e.value){case yc.value:b="dbg-sh";break;case zc.value:b="dbg-sev";break;case Ac.value:b="dbg-w";break;case Bc.value:b="dbg-i";break;default:b="dbg-f"}var c=[];c.push(this.d," ");this.a&&c.push("[",gh(a),"] ");c.push("[",Aa(ih(a,this.e.get())),"s] ");c.push("[",ta(a.c),"] ");c.push('<span class="',b,'">',sa(Aa(ta(a.d))));this.b&&a.b&&c.push("<br>",sa(Aa(a.a||"")));c.push("</span>");c.push("<br>");return c.join("")};function kh(a){fh.call(this,a)}D(kh,fh);
kh.prototype.c=function(a){var b=[];b.push(this.d," ");this.a&&b.push("[",gh(a),"] ");b.push("[",ih(a,this.e.get()),"s] ");b.push("[",a.c,"] ");b.push(a.d);this.b&&a.b&&b.push("\n",a.a);b.push("\n");return b.join("")};function lh(){this.e=ia(this.f,this);this.a=new kh;this.a.a=!1;this.b=this.a.b=!1;this.c="";this.d={}}lh.prototype.f=function(a){if(!this.d[a.c]){var b=this.a.c(a),c=mh;if(c)switch(a.e){case yc:nh(c,"info",b);break;case zc:nh(c,"error",b);break;case Ac:nh(c,"warn",b);break;default:nh(c,"debug",b)}else window.opera?window.opera.postError(b):this.c+=b}};var mh=window.console;function nh(a,b,c){if(a[b])a[b](c);else a.log(c)};var oh=!hc||hc&&9<=pc;!ic&&!hc||hc&&hc&&9<=pc||ic&&nc("1.9.1");hc&&nc("9");function ph(a,b){var c;c=a.className;c=w(c)&&c.match(/\S+/g)||[];for(var d=vb(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)qb(f,d[g])||f.push(d[g]);a.className=c.join(" ");return c.length==e};function qh(a,b){Sb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in rh?a.setAttribute(rh[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var rh={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function sh(a,b,c){function d(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!v(f)||z(f)&&0<f.nodeType?d(f):kb(th(f)?tb(f):f,d)}}function th(a){if(a&&"number"==typeof a.length){if(z(a))return"function"==typeof a.item||"string"==typeof a.item;if(da(a))return"function"==typeof a.item}return!1}function uh(a){this.a=a||s.document||document}
function vh(a,b){var c;c=a.a;var d=b&&"*"!=b?b.toUpperCase():"";c.querySelectorAll&&c.querySelector&&d?c=c.querySelectorAll(d+""):c=c.getElementsByTagName(d||"*");return c}
uh.prototype.b=function(a,b,c){var d=this.a,e=arguments,f=e[0],g=e[1];if(!oh&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',ta(g.name),'"');if(g.type){f.push(' type="',ta(g.type),'"');var h={};Vb(h,g);delete h.type;g=h}f.push(">");f=f.join("")}f=d.createElement(f);g&&(w(g)?f.className=g:u(g)?ph.apply(null,[f].concat(g)):qh(f,g));2<e.length&&sh(d,f,e);return f};
uh.prototype.contains=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function wh(a){this.e=ia(this.f,this);this.b=new jh;this.c=this.b.a=!1;this.a=a;this.d=this.a.ownerDocument||this.a.document;a=(a=this.a)?new uh(9==a.nodeType?a:a.ownerDocument||a.document):pa||(pa=new uh);var b=null,c=a.a;hc&&c.createStyleSheet?(a=b=c.createStyleSheet(),hc&&t(a.cssText)?a.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
a.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}"):(c=vh(a,"head")[0],c||(b=vh(a,"body")[0],c=a.b("head"),b.parentNode.insertBefore(c,b)),a=b=a.b("style"),hc&&t(a.cssText)?a.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":
a.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}",c.appendChild(b));this.a.className+=" logdiv"}
wh.prototype.f=function(a){var b=100>=this.a.scrollHeight-this.a.scrollTop-this.a.clientHeight,c=this.d.createElement("div");c.className="logmsg";c.innerHTML=this.b.c(a);this.a.appendChild(c);b&&(this.a.scrollTop=this.a.scrollHeight)};wh.prototype.clear=function(){this.a.innerHTML=""};var xh=!hc||hc&&9<=pc,yh=hc&&!nc("9");!jc||nc("528");ic&&nc("1.9b")||hc&&nc("8")||gc&&nc("9.5")||jc&&nc("528");ic&&!nc("8")||hc&&nc("9");function zh(a){zh[" "](a);return a}zh[" "]=function(){};function Ah(a,b){rd.call(this,a?a.type:"");this.a=this.target=null;this.clientY=this.clientX=0;this.b=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.a=b;var c=a.relatedTarget;if(c&&ic)try{zh(c.nodeName)}catch(d){}this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.b=a;a.defaultPrevented&&this.preventDefault()}}D(Ah,rd);
Ah.prototype.preventDefault=function(){Ah.u.preventDefault.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,yh)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Bh=null,Ch=null;H("ydn.debug");la("ydn.debug.log",function(a,b,c){if(x(b))b=new xc("log",b);else if(w(b)){b=b.toUpperCase();if(!Hc){Hc={};for(var d=0,e;e=Gc[d];d++)Hc[e.value]=e,Hc[e.name]=e}b=Hc[b]||null}else b=Dc;H(a||"ydn").b=b;t(c)?Ch||(a=Ch=new wh(c),!0!=a.c&&(c=Mc(),b=a.e,c.a||(c.a=[]),c.a.push(b),a.c=!0),Mc().b=Ac):Bh||Ch||(a=Bh=new lh,!0!=a.b&&(c=Mc(),b=a.e,c.a||(c.a=[]),c.a.push(b),a.b=!0),Mc().b=Ac)});function Dh(a,b){od.call(this);this.d=b;this.b=[];if(a>this.d)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.b.push(this.a())}D(Dh,od);Dh.prototype.a=function(){return{}};Dh.prototype.c=function(a){if(z(a))if(da(a.eb))a.eb();else for(var b in a)delete a[b]};Dh.prototype.$=function(){Dh.u.$.call(this);for(var a=this.b;a.length;)this.c(a.pop());delete this.b};function Eh(){this.a=[];this.c=new $b;this.d=new $b;this.f=1;this.e=new Dh(0,4E3);this.e.a=function(){return new Fh};this.g=new Dh(0,50);this.g.a=function(){return new Gh};var a=this;this.b=new Dh(0,2E3);this.b.a=function(){return String(a.f++)};this.b.c=function(){}}H("goog.debug.Trace");function Gh(){this.time=this.count=0}Gh.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");return a.join("")};function Fh(){}
function Hh(a,b,c){var d=[];-1==b?d.push("    "):d.push(Ih(a.b-b));d.push(" ",Jh(a.b-0));0==a.a?d.push(" Start        "):1==a.a?(d.push(" Done "),d.push(Ih(a.e-a.startTime)," ms ")):d.push(" Comment      ");d.push(c,a);0<a.d&&d.push("[VarAlloc ",a.d,"] ");return d.join("")}Fh.prototype.toString=function(){return null==this.type?this.c:"["+this.type+"] "+this.c};
Eh.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.a.length;d++){var e=this.a[d];1==e.a&&c.pop();a.push(" ",Hh(e,b,c.join("")));b=e.b;a.push("\n");0==e.a&&c.push("|  ")}if(0!=this.c.gb()){var f=ka();a.push(" Unstopped timers:\n");Zb(this.c,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",Jh(b.startTime),")\n")})}b=this.d.ea();for(d=0;d<b.length;d++)c=this.d.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",0,"\n","Total comments created ",
0,"\n","Overhead start: ",0," ms\n","Overhead end: ",0," ms\n","Overhead comment: ",0," ms\n");return a.join("")};function Ih(a){a=Math.round(a);var b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a}function Jh(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new Eh;var Kh="closure_listenable_"+(1E6*Math.random()|0);function Lh(a){try{return!(!a||!a[Kh])}catch(b){return!1}}var Mh=0;function Nh(a,b,c,d,e){this.fa=a;this.d=null;this.src=b;this.type=c;this.b=!!d;this.c=e;this.key=++Mh;this.a=this.ya=!1}function Oh(a){a.a=!0;a.fa=null;a.d=null;a.src=null;a.c=null};function Ph(a){this.src=a;this.a={};this.b=0}Ph.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=Qh(a,b,d,e);-1<g?(b=a[g],c||(b.ya=!1)):(b=new Nh(b,this.src,f,!!d,e),b.ya=c,a.push(b));return b};function Rh(a,b){var c=b.type;c in a.a&&sb(a.a[c],b)&&(Oh(b),0==a.a[c].length&&(delete a.a[c],a.b--))}function Qh(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.a&&f.fa==b&&f.b==!!c&&f.c==d)return e}return-1};var Sh="closure_lm_"+(1E6*Math.random()|0),Th={},Uh=0;function Vh(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)Vh(a,b[f],c,d,e);else c=Wh(c),Lh(a)?a.Z.add(String(b),c,!1,d,e):Xh(a,b,c,!1,d,e)}function Xh(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Yh(a);h||(a[Sh]=h=new Ph(a));c=h.add(b,c,d,e,f);c.d||(d=Zh(),c.d=d,d.src=a,d.fa=c,a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent($h(b.toString()),d),Uh++)}
function Zh(){var a=ai,b=xh?function(c){return a.call(b.src,b.fa,c)}:function(c){c=a.call(b.src,b.fa,c);if(!c)return c};return b}function bi(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)bi(a,b[f],c,d,e);else c=Wh(c),Lh(a)?a.Z.add(String(b),c,!0,d,e):Xh(a,b,c,!0,d,e)}
function ci(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)ci(a,b[f],c,d,e);else(c=Wh(c),Lh(a))?(a=a.Z,b=String(b).toString(),b in a.a&&(f=a.a[b],c=Qh(f,c,d,e),-1<c&&(Oh(f[c]),hb.splice.call(f,c,1),0==f.length&&(delete a.a[b],a.b--)))):a&&(a=Yh(a))&&(b=a.a[b.toString()],a=-1,b&&(a=Qh(b,c,!!d,e)),(c=-1<a?b[a]:null)&&di(c))}
function di(a){if(!x(a)&&a&&!a.a){var b=a.src;if(Lh(b))Rh(b.Z,a);else{var c=a.type,d=a.d;b.removeEventListener?b.removeEventListener(c,d,a.b):b.detachEvent&&b.detachEvent($h(c),d);Uh--;(c=Yh(b))?(Rh(c,a),0==c.b&&(c.src=null,b[Sh]=null)):Oh(a)}}}function $h(a){return a in Th?Th[a]:Th[a]="on"+a}function ei(a,b,c,d){var e=1;if(a=Yh(a))if(b=a.a[b.toString()])for(b=tb(b),a=0;a<b.length;a++){var f=b[a];f&&f.b==c&&!f.a&&(e&=!1!==fi(f,d))}return Boolean(e)}
function fi(a,b){var c=a.fa,d=a.c||a.src;a.ya&&di(a);return c.call(d,b)}
function ai(a,b){if(a.a)return!0;if(!xh){var c=b||aa("window.event"),d=new Ah(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.a;f;f=f.parentNode)c.push(f);for(var f=a.type,h=c.length-1;0<=h;h--)d.a=c[h],e&=ei(c[h],f,!0,d);for(h=0;h<c.length;h++)d.a=c[h],e&=ei(c[h],f,!1,d)}return e}return fi(a,new Ah(b,this))}function Yh(a){a=a[Sh];return a instanceof Ph?a:null}
var gi="__closure_events_fn_"+(1E9*Math.random()>>>0);function Wh(a){return da(a)?a:a[gi]||(a[gi]=function(b){return a.handleEvent(b)})};function hi(){od.call(this);this.Z=new Ph(this);this.b=this}D(hi,od);hi.prototype[Kh]=!0;hi.prototype.a=null;hi.prototype.addEventListener=function(a,b,c,d){Vh(this,a,b,c,d)};hi.prototype.removeEventListener=function(a,b,c,d){ci(this,a,b,c,d)};hi.prototype.$=function(){hi.u.$.call(this);if(this.Z){var a=this.Z,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,Oh(d[e]);delete a.a[c];a.b--}}this.a=null};
function ii(a,b,c,d){b=a.Z.a[String(b)];if(!b)return!0;b=tb(b);for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.a&&g.b==c){var h=g.fa,k=g.c||g.src;g.ya&&Rh(a.Z,g);e=!1!==h.call(k,d)&&e}}return e&&!1!=d.zb};/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
function ji(a){a.f||(a.f=new hi);return a.f}Xf.prototype.addEventListener=function(a,b,c,d){if("ready"==a)bi(ji(this),a,b,c,d);else{var e="created error fail ready deleted updated versionchange".split(" "),f=function(a){if(!qb(e,a))throw new G('Invalid event type "'+a+'"');};if(v(a))for(var g=0;g<a.length;g++)f(a[g]);else f(a);Vh(ji(this),a,b,c,d)}};Xf.prototype.removeEventListener=function(a,b,c,d){ci(ji(this),a,b,c,d)};
Xf.prototype.N=function(a){var b=ji(this),c,d=b.a;if(d)for(c=[];d;d=d.a)c.push(d);b=b.b;d=a.type||a;if(w(a))a=new rd(a,b);else if(a instanceof rd)a.target=a.target||b;else{var e=a;a=new rd(d,b);Vb(a,e)}var e=!0,f;if(c)for(var g=c.length-1;0<=g;g--)f=a.a=c[g],e=ii(f,d,!0,a)&&e;f=a.a=b;e=ii(f,d,!0,a)&&e;e=ii(f,d,!1,a)&&e;if(c)for(g=0;g<c.length;g++)f=a.a=c[g],e=ii(f,d,!1,a)&&e};Xf.prototype.addEventListener=Xf.prototype.addEventListener;Xf.prototype.removeEventListener=Xf.prototype.removeEventListener;function ki(a){this.b=a||[]}ki.prototype.a=function(a){return-1==this.b.indexOf(a)?a:null};function li(){}
li.prototype.a=function(a){var b={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},c={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""};a=a.toLowerCase();var d,e,f=a;if(3>a.length)return a;var g,h;a=a.substr(0,1);"y"==a&&(f=a.toUpperCase()+f.substr(1));g=/^(.+?)(ss|i)es$/;e=/^(.+?)([^s])s$/;
g.test(f)?f=f.replace(g,"$1$2"):e.test(f)&&(f=f.replace(e,"$1$2"));g=/^(.+?)eed$/;e=/^(.+?)(ed|ing)$/;g.test(f)?(e=g.exec(f),g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(e[1])&&(g=/.$/,f=f.replace(g,""))):e.test(f)&&(e=e.exec(f),d=e[1],e=/^([^aeiou][^aeiouy]*)?[aeiouy]/,e.test(d)&&(f=d,e=/(at|bl|iz)$/,h=/([^aeiouylsz])\1$/,d=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,e.test(f)?f+="e":h.test(f)?(g=/.$/,f=f.replace(g,"")):d.test(f)&&(f+="e")));g=/^(.+?)y$/;g.test(f)&&(e=g.exec(f),
d=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy]/,g.test(d)&&(f=d+"i"));g=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;g.test(f)&&(e=g.exec(f),d=e[1],e=e[2],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(d)&&(f=d+b[e]));g=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;g.test(f)&&(e=g.exec(f),d=e[1],e=e[2],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(d)&&(f=d+c[e]));g=
/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;e=/^(.+?)(s|t)(ion)$/;g.test(f)?(e=g.exec(f),d=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,g.test(d)&&(f=d)):e.test(f)&&(e=e.exec(f),d=e[1]+e[2],e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,e.test(d)&&(f=d));g=/^(.+?)e$/;g.test(f)&&(e=g.exec(f),d=e[1],g=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,
e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,h=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,g.test(d)||e.test(d)&&!h.test(d))&&(f=d);g=/ll$/;e=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/;g.test(f)&&e.test(f)&&(g=/.$/,f=f.replace(g,""));"y"==a&&(f=a.toLowerCase()+f.substr(1));return f};function mi(a){this.b=a}
mi.prototype.a=function(a){a=a.toLowerCase();a=a.replace(/([^c])\1/g,"$1");a=function(a){return a.match(/^(kn|gn|pn|ae|wr)/)?a.substr(1,a.length-1):a}(a);a=a.replace(/mb$/,"m");a=a.replace(/ck/g,"k");a=function(a){a=a.replace(/([^s]|^)(c)(h)/g,"$1x$3").trim();a=a.replace(/cia/g,"xia");a=a.replace(/c(i|e|y)/g,"s$1");return a=a.replace(/c/g,"k")}(a);a=function(a){a=a.replace(/d(ge|gy|gi)/g,"j$1");return a=a.replace(/d/g,"t")}(a);a=function(a){a=a.replace(/gh(^$|[^aeiou])/g,"h$1");return a=a.replace(/g(n|ned)$/g,
"$1")}(a);a=function(a){a=a.replace(/([^g]|^)(g)(i|e|y)/g,"$1j$3");a=a.replace(/gg/g,"g");return a=a.replace(/g/g,"k")}(a);a=a.replace(/([aeiou])h([^aeiou])/g,"$1$2");a=a.replace(/ph/g,"f");a=a.replace(/q/g,"k");a=a.replace(/s(h|io|ia)/g,"x$1");a=function(a){a=a.replace(/^x/,"s");return a=a.replace(/x/g,"ks")}(a);a=function(a){a=a.replace(/t(ia|io)/g,"x$1");return a=a.replace(/th/,"0")}(a);a=a.replace(/tch/g,"ch");a=a.replace(/v/g,"f");a=a.replace(/^wh/,"w");a=a.replace(/w([^aeiou]|$)/g,"$1");a=a.replace(/y([^aeiou]|$)/g,
"$1");a=a.replace(/z/,"s");a=a.charAt(0)+a.substr(1,a.length).replace(/[aeiou]/g,"");a.length>=this.b&&(a=a.substring(0,this.b));return a=a.toUpperCase()};var ni=new mi(32),oi=new li,qi=new ki("a a's able about above according accordingly across actually after afterwards again against ain't all allow allows almost alone along already also although always am among amongst an and another any anybody anyhow anyone anything anyway anyways anywhere apart appear appreciate appropriate are aren't around as aside ask asking associated at available away awfully b be became because become becomes becoming been before beforehand behind being believe below beside besides best better between beyond both brief but by c c'mon c's came can can't cannot cant cause causes certain certainly changes clearly co com come comes concerning consequently consider considering contain containing contains corresponding could couldn't course currently d definitely described despite did didn't different do does doesn't doing don't done down downwards during e each edu eg eight either else elsewhere enough entirely especially et etc even ever every everybody everyone everything everywhere ex exactly example except f far few fifth first five followed following follows for former formerly forth four from further furthermore g get gets getting given gives go goes going gone got gotten greetings h had hadn't happens hardly has hasn't have haven't having he he's hello help hence her here here's hereafter hereby herein hereupon hers herself hi him himself his hither hopefully how howbeit however i i'd i'll i'm i've ie if ignored immediate in inasmuch inc indeed indicate indicated indicates inner insofar instead into inward is isn't it it'd it'll it's its itself j just k keep keeps kept know knows known l last lately later latter latterly least less lest let let's like liked likely little look looking looks ltd m mainly many may maybe me mean meanwhile merely might more moreover most mostly much must my myself n name namely nd near nearly necessary need needs neither never nevertheless new next nine no nobody non none noone nor normally not nothing novel now nowhere o obviously of off often oh ok okay old on once one ones only onto or other others otherwise ought our ours ourselves out outside over overall own p particular particularly per perhaps placed please plus possible presumably probably provides q que quite qv r rather rd re really reasonably regarding regardless regards relatively respectively right s said same saw say saying says second secondly see seeing seem seemed seeming seems seen self selves sensible sent serious seriously seven several shall she should shouldn't since six so some somebody somehow someone something sometime sometimes somewhat somewhere soon sorry specified specify specifying still sub such sup sure t t's take taken tell tends th than thank thanks thanx that that's thats the their theirs them themselves then thence there there's thereafter thereby therefore therein theres thereupon these they they'd they'll they're they've think third this thorough thoroughly those though three through throughout thru thus to together too took toward towards tried tries truly try trying twice two u un under unfortunately unless unlikely until unto up upon us use used useful uses using usually uucp v value various very via viz vs w want wants was wasn't way we we'd we'll we're we've welcome well went were weren't what what's whatever when whence whenever where where's whereafter whereas whereby wherein whereupon wherever whether which while whither who who's whoever whole whom whose why will willing wish with within without won't wonder would wouldn't x y yes yet you you'd you'll you're you've your yours yourself yourselves z zero".split(" "));function ri(a){this.data=a;this.a=0}ri.prototype.next=function(a){for(var b=this.a,c=this.data[b],c=1,d=0;0<=b&&b<this.data.length;){c=this.data[b];if(c instanceof Array)if(a<c[0])c=-1;else if(a>c[1])c=1;else return this.a=b,!0;else{if(c==a)return this.a=b,!0;c=a<c?-1:1}if(0==d)d=c;else if(d!=c)break;b+=c;if(b>this.data.length||0>b)break}return!1};
function si(a,b){for(var c=0,d=0,e=a.length,f=0;f<e;++f){a:{var d=a.charCodeAt(f),g=new ri(categ_letters_numbers_data);if(x(d))d=g.next(d);else{for(var h=0,k=d.length;h<k;++h)if(!1===g.next(d[h])){d=!1;break a}d=!0}}d||((d=f-c)&&b(c,d),c=f+1)}(d=e-c)&&b(c,d)};var ti,ui;ui=ti=!1;var vi=cc;vi&&(-1!=vi.indexOf("Firefox")?ti=!0:-1!=vi.indexOf("Camino")||-1!=vi.indexOf("iPhone")||-1!=vi.indexOf("iPod")||-1!=vi.indexOf("iPad")||-1!=vi.indexOf("Chrome")&&(ui=!0));var wi=ti,xi=ui;function yi(a,b){this.e=b;this.value=a}yi.prototype.J=function(){return this.value};yi.prototype.b=function(){return 1};var zi=xi||wi;yi.prototype.qb=function(){return this.value};yi.prototype.toString=function(){return"Entry:"+this.value};function Ai(a,b,c,d,e,f){yi.call(this,d,e);this.w=a;this.c=b;this.d=c;this.Ma=f||[]}D(Ai,yi);l=Ai.prototype;l.va=function(){return{k:this.e,v:this.value.toLowerCase(),id:this.qb(),loc:this.Ma}};l.qb=function(){var a=[this.w,this.d,this.c,this.value];return zi?a:$c(a)};l.h=function(){return this.w};l.r=function(){return this.d};l.toString=function(){return["IndexEntry",this.w,this.d,this.value].join(":")};function Bi(a,b,c,d,e){yi.call(this,b,c);this.f=d;this.a=e;this.type=a;this.ub=1}D(Bi,yi);Bi.prototype.b=function(){return this.a*this.type*this.ub};Bi.prototype.qb=function(){return this.value+"|"+this.f};function Ci(a,b){Ai.call(this,b.h(),b.c,b.r(),b.J(),b.e,[]);this.g=a;this.a=[b]}D(Ci,Ai);Ci.prototype.count=function(){return this.a.length};function Di(a,b){for(var c=b.a[0],d=0;d<a.a.length;d++)if(a.a[d].c==c.c&&a.a[d].value==c.value)return;a.a.push(c)}Ci.prototype.b=function(){for(var a=0,b=0;b<this.a.length;b++)var c=this.a[b],d=ye(this.g,c.h(),c.c),c=c.b(),a=a+c*d.b;return a};function Ab(a,b){var c=a.b(),d=b.b();return c<=d?1:-1}
Ci.prototype.va=function(){for(var a={value:this.value,primaryKey:this.d,storeName:this.w,score:this.b(),tokens:[]},b=0;b<this.a.length;b++)a.tokens[b]=this.a[b].va();return a};Ci.prototype.toString=function(){return["RankEntry",this.w,this.d,this.value].join(":")+"["+this.a.length+"]"};function Ei(a){var b=[],c;a=a.split(/\s+/);for(var d=0;d<a.length;d++){c=a[d];for(var e=c.length-1,f=Array(e),g=0;g<e;g++)f[g]=c.substring(g,g+2);c=f;b.push.apply(b,c)}return b};function Mf(a,b,c,d,e,f,g){Ai.call(this,b,c,d,e,f,g);this.a=a}D(Mf,Ai);Mf.prototype.b=function(){var a,b=this.value;a=Ei(this.a.value.toLowerCase().replace(/^\s+|\s+$/g,""));var b=Ei(b.toLowerCase().replace(/^\s+|\s+$/g,"")),c=0,d=a.length+b.length,e,f,g,h;for(e=0;e<a.length;e++)for(g=a[e],f=0;f<b.length;f++)if(h=b[f],g==h){c++;delete b[f];break}a=2*c/d;b=Math.log(this.Ma.length+1);c=this.a.b();return b*a*c};Mf.prototype.va=function(){return{keyPath:this.c,value:this.value,loc:this.Ma.slice()}};
Mf.prototype.toString=function(){return["ResultEntry",this.w,this.d,this.value].join(":")};function Fi(a,b){this.a=a;this.b=b;this.d=[];this.c=0}function Lf(a,b){for(var c,d,e=a.a.getName(),f=0;f<a.b.length;f++){var g=a.b[f],h=g.type;0.4==h||0.6==h?(d="v",c=g.J().toLowerCase(),c=Gd(c)):(d="v",c=g.J().toLowerCase(),c=S.only(c));b(e,d,c,g);a.c++;0.6==h&&(d="k",c=g.e,c=S.only(c),b(e,d,c,g),a.c++)}}function Kf(a){for(var b=[a.a.getName()],c=0;c<a.a.count();c++){var d=a.a.index(c).h();-1==b.indexOf(d)&&b.push(d)}return b}
Fi.prototype.e=function(){for(var a=[],b=[],c=0;c<this.d.length;c++){var d=this.d[c];if(0==d.a.type)-1==pb(b,function(a){return a.r()==d.r()&&a.h()==d.h()})&&b.push(d);else{var e=new Ci(this.a,d),f=pb(a,function(a){return a.r()==e.r()&&a.h()==e.h()});if(0<=f){var g=a[f];hb.splice.call(a,f,1);Di(g,e);e=g}zb(a,e)}}for(f=0;f<b.length;f++)for(g=b[f],c=a.length-1;0<=c;--c){var h=a[c];if(g.r()==h.r()&&g.h()==h.h()){a.splice(f,1);break}}return a.map(function(a){return a.va()})};function Gi(a){this.a=a;if("en"==a.c){a=a.d||["stop","stemmer","metaphone"];for(var b=[],c=0;c<a.length;c++)if("metaphone"==a[c])b.push(ni);else if("stemmer"==a[c])b.push(oi);else if("stop"==a[c])b.push(qi);else throw Error('Invalid normalizer "'+a[c]+'" for English lang');a=b}else a=[];this.b=a}function Hi(a,b){for(var c=0;c<a.b.length;c++){var d=a.b[c].a(b);if(d)b=d;else return null}return b}
function Ii(a,b){var c=[],d=[];si(b,function(a,e){c.push(b.substr(a,e));d.push(a)});for(var e=[],f=0;f<c.length;f++)e[f]=Hi(a,c[f]);for(var g=[],h=0,f=0;f<c.length;f++){var k=c[f],m=e[f],q="*"==b.charAt(d[f]+k.length),n=q?d[f]+k.length+1:d[f]+k.length,n='"'==b.charAt(d[f]-1)&&'"'==b.charAt(n),p="-"==b.charAt(n?d[f]-2:d[f]-1),r=0.8;q?r=0.4:n?r=1:p?r=0:null!=m&&(r=0.6);k=new Bi(r,k,m,d[f],1/(f+2));g.push(k);h+=k.b()}for(f=0;f<g.length;++f)g[f].ub=1/h;return g}
function Ji(a,b,c,d){var e=[],f=[];si(b,function(a,c){e.push(b.substr(a,c));f.push(a)});for(var g=[],h=0;h<e.length;h++)g[h]=Hi(a,e[h]);a=c.h();c=c.a;for(var k=[],h=0;h<e.length;h++){var m=e[h],q=g[h];if(null!=q){var n=ob(k,function(a){return a.J()==m});n||(n=new Ai(a,c,d,m,q),k.push(n));n.Ma.push(f[h])}}return k}function Ki(a,b,c,d){for(var e=[],f=0;f<a.a.count();f++){var g=a.a.index(f);if(g.h()==b){var h=Xc(d,g.a);w(h)&&(e=e.concat(Ji(a,h,g,c)))}}return e};X.prototype.tb=function(a,b){var c=this;b.a=new Gi(b);me(a,function(d,e){function f(e){var f=a.getName();Bd(e)&&ld(d,function(a,g,h){if(g)h(a,g);else{Rc(d,a);var k=Ed(S.bound([f,e],[f,e,"\uffff"])),A=b.getName();Of(c.c,A,k).ja(function(){h(a,g)})}})}function g(b){var e=a.getName();ld(d,function(a,f,g){f?g(a,f):(Rc(d,a),b&&(b=Ed(S.bound([e,b.lower],[e,b.upper,"\uffff"]))),Of(c.c,e,b).ja(function(){g(a,f)}))})}function h(e,f){var g=a.getName();ld(d,function(a,h,k){Rc(d,a);if(h)k(a,h);else{var A=b.getName();
u(a)||(a=[a]);for(var C=0;C<a.length;C++){var B=a[C];if(Bd(B)){if(f){var E=Ed(S.bound([g,B],[g,B,"\uffff"]));Of(c.c,A,E)}B=Ki(b.a,g,B,e[C]).map(function(a){return a.va()});B=Nf(c.c,A,B);C==a.length-1&&B.ja(function(){k(a,h)})}}}})}var k=d.n;"put"==k?h([e[1]],!0):"put:array"==k?h(e[1],!0):"add"==k?h([e[1]],!1):"add:array"==k?h(e[1],!1):"rm:iter"==k||"clear"==k?g(e[1]):"rm"==k&&f(e[1])})};
X.prototype.K=function(a,b){var c=Ge(this.a,a);if(!c)throw new G('full text index catalog "'+a+'" not found.');var c=c.a,d=Ii(c,b),c=0==d.length?null:new Fi(c.a,d);return c?Jf(this.c,c):(this.logger.log(Ec,'query "'+b+'" contains only noise and search is ignored',void 0),md("search",null))};X.prototype.search=X.prototype.K;Fi.prototype.collect=Fi.prototype.e;function Li(a,b,c){this.db=a;this.b=b;this.type=c||0;this.c=null};function Mi(a){gf.call(this,a)}D(Mi,gf);
Mi.prototype.c=function(a,b){var c=[],d=b[0];if(null==d)return[];for(var e=!0,f=!1,g=d,h=[],k=1;k<a.length;k++)if(null!=b[k]){var m=R(d,b[k]);h[k]=m;this.a?-1==m?e=!1:1==m&&(e=!1,f=!0,-1==R(b[k],g)&&(g=b[k])):1==m?e=!1:-1==m&&(e=!1,f=!0,1==R(b[k],g)&&(g=b[k]))}else e=!1,f=!0;if(e)for(f=0;f<a.length;f++)null!=b[f]&&(c[f]=!0);else if(f)for(f=0;f<a.length;f++)null!=b[f]&&(this.a?-1==R(g,b[f])&&(c[f]=g):1==R(g,b[f])&&(c[f]=g));else for(k=this.a?-1:1,f=1;f<a.length;f++)h[f]===k&&(c[f]=d);return e?(this.b&&
this.b.push(g),c):{continuePrimary:c}};function Ni(a){gf.call(this,a)}D(Ni,gf);Ni.prototype.logger=H("ydn.db.algo.ZigzagMerge");
Ni.prototype.c=function(a,b){function c(a,b){var c=a.slice(0,a.length-1);c.push(b);return c}function d(a){return a[a.length-1]}var e=[];if(0==a.length||null==a[0]||null==a[0])return[];for(var f=!0,g=0,h=d(a[g]),k=[],m=1;m<a.length;m++)if(null!=a[m]){var q=d(a[m]),n=R(h,q);k[m]=n;this.a?-1==n?f=!1:1==n&&(f=!1,h=q,g=1):1==n?f=!1:-1==n&&(f=!1,h=q,g=1)}else return[];m=this.a?-1:1;if(f){for(f=0;f<a.length;f++)null!=a[f]&&(e[f]=!0);this.b&&this.b.push(b[0]);return e}if(0==g)for(f=1;f<a.length;f++)k[f]==
m&&(e[f]=c(a[f],h));else for(f=0;f<a.length;f++)f!=g&&null!=a[f]&&R(h,d(a[f]))===m&&(e[f]=c(a[f],h));return{"continue":e}};function Oi(a,b,c,d){this.d=a;this.a=b||null;this.f=!!c;this.e=!!d;this.b=[];this.c=[]}function Pi(a,b){for(var c=b.length-1;0<=c;c--)if(b[c]==a.b[a.b.length-1])b=b.slice(0,c);else break;a.c=b;return null}function Qi(a,b){if((0!=a.b.length||0!=a.c.length)&&Ri(a)&&!Si(a))throw new jf('Require index "'+a.b.concat(a.c).join(", ")+'" not found in store "'+a.d.getName()+'"');var c=new af(a.d.getName(),Ti(a),a.a,a.f,a.e,!!b);c.s=a.b.length;return c}l=Oi.prototype;l.h=function(){return this.d.getName()};
l.D=function(){var a=new Oi(this.d,this.a,this.f,this.e);a.c=this.c.slice();a.b=this.b.slice();return a};function Si(a){var b=a.b.concat(a.c),c=de(a.d,b);return c||b[b.length-1]==a.d.keyPath&&(c=de(a.d,b.slice(0,b.length-1)))?c:null}function Ti(a){return(a=Si(a))?a.getName():void 0}l.reverse=function(){var a=this.D();a.f=!this.f;return a};l.unique=function(a){var b=this.D();b.e=!!a;return b};function Ri(a){return 0<a.b.length?!0:1==a.c.length?a.c[0]!=a.d.keyPath:1<a.c.length?!0:!1}
l.o=function(a,b,c,d,e){c=Md(b,c,d,e);if(0<this.b.length)if(this.a)if(null!=this.a.lower&&null!=this.a.upper&&0==R(this.a.lower,this.a.upper))a=u(this.a.lower)?this.a.lower.slice().push(b):[this.a.lower,b],d=null!=d?d:"\uffff",c=u(this.a.upper)?this.a.upper.slice().push(d):[this.a.upper,d],this.a=Md(b,a,d,c);else if(1==this.b.length&&this.b[0]==a||u(a)&&wb(this.b,a))this.a=Jd(this.a,c);else return"cannot use where clause with existing filter";else return"cannot use where clause with existing filter";
else this.b=u(a)?a:[a],this.a=this.a?Jd(this.a,c):c;return null};function Ui(a,b,c,d){Li.call(this,a,b,c);this.a=d}D(Ui,Li);Ui.prototype.open=function(){var a={push:function(){}},a=Vi(this)?new Ni(a):new Mi(a);return Rf(this.db,a,Wi(this))};function Wi(a){for(var b=[],c=0;c<a.a.length;c++)b[c]=Qi(a.a[c]);return b}function Vi(a){for(var b=0;b<a.a.length;b++)if(0<a.a[b].b.length)return!0;return!1}Ui.prototype.hb=function(){return this.a.slice()};Ui.prototype.select=function(){throw Error("not impl");};
Ui.prototype.reverse=function(){var a=this.a.map(function(a){return a.reverse()});return new Ui(this.db,this.b,this.type,a)};function Z(a,b,c,d){Li.call(this,a,b,c);this.a=d}D(Z,Li);l=Z.prototype;l.Mb=function(){return new Z(this.db,this.b,this.type,this.a.D())};l.reverse=function(){var a=this.a.reverse();return new Z(this.db,this.b,this.type,a)};l.unique=function(a){if(!ca(a))throw new G("unique value must be a boolean, but "+typeof a+" found");a=this.a.unique(a);return new Z(this.db,this.b,this.type,a)};l.U=function(a){var b=w(a)?[a]:a;a=this.a.D();if(b=Pi(a,b))throw Error(b);return new Z(this.db,this.b,this.type,a)};
l.o=function(a,b,c,d,e){if(Ti(this.a)&&Ti(this.a)!=a){var f=Md(b,c,d,e),f=new Oi(U(this.b,this.a.h()),f,this.a.f,this.a.e),f=(new Z(this.db,this.b,this.type,f)).hb().concat(this.hb());return new Ui(this.db,this.b,this.type,f)}if(!Ti(this.a)&&!ee(U(this.b,this.a.h()),a))throw new G('index "'+a+'" not exists in '+this.a.h());f=this.a.D();if(a=f.o(a,b,c,d,e))throw new G(a);return new Z(this.db,this.b,this.type,f)};
l.select=function(a){var b=U(this.b,this.a.h()),c=w(a)?[a]:a,d=this.type;a=this.a.D();d=Ti(this.a);if(1==c.length)if(d=c[0],"_ROWID_"==d||d==b.keyPath)d=2;else if(d&&"*"!=d)if(ee(b,d)){if(b=Pi(a,c))throw new G(b);d=1}else throw new G('Invalid select "'+d+'", index not found in store "'+b.getName()+'"');else d=4;else if(2==c.length){if(!d)throw new G("Only primary key can be selected for this query.");for(var e=0;2>e;e++){var f;if(f="_ROWID_"!=c[e]){f=b;var g=c[e];f=!(t(f.keyPath)&&(1==f.f.length?
f.keyPath===g:v(g)&&wb(f.f,g)))}if(f&&c[e]!=d)throw new G('select field name must be "'+d+'", but "'+c[e]+'" found.');}d=3}else throw new G("Selecting more than 2 field names is not supported, but "+c.length+" fields selected.");return new Z(this.db,this.b,d,a)};l.Nb=function(a){a=a||100;var b=4,c=Xi(this);this.c&&this.c[0]&&(c=ef(c,this.c[0],this.c[1]));if(2==this.type||3==this.type||1==this.type)b=this.type;a=Sf(this.db,b,c,a);a.M(function(){"rest"==c.d&&(this.c=[c.j,c.r()])},this);return a};
l.hb=function(){return[this.a.D()]};function Xi(a){return Qi(a.a,!(2==a.type||3==a.type||1==a.type))}
l.Hb=function(a,b){var c=Xi(this);c.b&&(c=new af(c.e,c.c,c.a,cf(c),df(c),!1,c.f));if(1>arguments.length)throw new G("too few arguments");if(2==arguments.length){if(!w(a)&&u(a)){if(!u(b))throw new G("an array is expected for second argument but, "+ve(b)+" of type "+typeof b+" found");if(a.length!=b.length)throw new G("length of two input arguments must be equal but, "+a.length+" and "+b.length+" found");}}else if(1==arguments.length){if(!z(a))throw new G("an object is expected but, "+ve(a)+" of type "+
typeof a+" found");}else throw new G("too many arguments");var d=this.db.open(function(c){var f=c.J();if(w(a))Yc(f,a,b);else if(u(a))for(var g=0;g<a.length;g++)Yc(f,a[g],b[g]);else if(z(a))for(g in a)a.hasOwnProperty(g)&&(f[g]=a[g]);c=c.update(f);d.M(ia(c.Ta,c))},c,L,this);return d};l.open=function(a,b){return this.db.open(a,Xi(this),L,b)};l.count=function(){return Ri(this.a)?this.a.e?this.db.count(Qi(this.a)):this.db.count(this.a.h(),Ti(this.a),this.a.a):this.db.count(this.a.h(),this.a.a)};
l.clear=function(){return Ri(this.a)?this.db.clear(this.a.h(),Ti(this.a),this.a.a):this.db.clear(this.a.h(),this.a.a)};Zf.prototype.R=function(a,b,c,d,e){if(!w(a))throw new TypeError('store name "'+a+'"');if(!Ce(this.a,a))throw new G('Store "'+a+'" not found.');var f=null;if(t(b)){if(!t(c))throw new G("boundary value must be defined.");f=Md(b,c,d,e)}else if(t(d))throw new G("second boundary must not be defined.");a=new Oi(U(this.a,a),f);return new Z(this.c,this.a,null,a)};
Pf.prototype.R=function(a,b,c,d,e){if(!w(a))throw new TypeError('store name "'+a+'"');if(!Ce(this.b,a))throw new G('Store "'+a+'" not found.');var f=null;if(t(b)){if(!t(c))throw new G("boundary value must be defined.");f=Md(b,c,d,e)}else if(t(d))throw new G("second boundary must not be defined.");a=new Oi(U(this.b,a),f);return new Z(this,this.b,null,a)};H("ydn.db.query.ConjunctionCursor");Z.prototype.copy=Z.prototype.Mb;Z.prototype.count=Z.prototype.count;Z.prototype.list=Z.prototype.Nb;Z.prototype.order=Z.prototype.U;Z.prototype.patch=Z.prototype.Hb;Z.prototype.reverse=Z.prototype.reverse;Z.prototype.unique=Z.prototype.unique;Z.prototype.where=Z.prototype.o;Zf.prototype.from=Zf.prototype.R;Pf.prototype.from=Pf.prototype.R; 
var categ_letters_numbers_data=[[48,57],[65,90],[97,122],170,[178,179],181,[185,186],[188,190],[192,214],[216,246],[248,705],[710,721],[736,740],748
	,750,[880,884],[886,887],[890,893],902,[904,906],908,[910,929],[931,1013],[1015,1153],[1162,1319],[1329,1366],1369
	,[1377,1415],[1488,1514],[1520,1522],[1568,1610],[1632,1641],[1646,1647],[1649,1747],1749,[1765,1766],[1774,1788],1791
	,1808,[1810,1839],[1869,1957],1969,[1984,2026],[2036,2037],2042,[2048,2069],2074,2084,2088,[2112,2136],2208,[2210,2220]
	,[2308,2361],2365,2384,[2392,2401],[2406,2415],[2417,2423],[2425,2431],[2437,2444],[2447,2448],[2451,2472],[2474,2480]
	,2482,[2486,2489],2493,2510,[2524,2525],[2527,2529],[2534,2545],[2548,2553],[2565,2570],[2575,2576],[2579,2600]
	,[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],2654,[2662,2671],[2674,2676],[2693,2701],[2703,2705]
	,[2707,2728],[2730,2736],[2738,2739],[2741,2745],2749,2768,[2784,2785],[2790,2799],[2821,2828],[2831,2832],[2835,2856]
	,[2858,2864],[2866,2867],[2869,2873],2877,[2908,2909],[2911,2913],[2918,2927],[2929,2935],2947,[2949,2954],[2958,2960]
	,[2962,2965],[2969,2970],2972,[2974,2975],[2979,2980],[2984,2986],[2990,3001],3024,[3046,3058],[3077,3084],[3086,3088]
	,[3090,3112],[3114,3123],[3125,3129],3133,[3160,3161],[3168,3169],[3174,3183],[3192,3198],[3205,3212],[3214,3216]
	,[3218,3240],[3242,3251],[3253,3257],3261,3294,[3296,3297],[3302,3311],[3313,3314],[3333,3340],[3342,3344],[3346,3386]
	,3389,3406,[3424,3425],[3430,3445],[3450,3455],[3461,3478],[3482,3505],[3507,3515],3517,[3520,3526],[3585,3632]
	,[3634,3635],[3648,3654],[3664,3673],[3713,3714],3716,[3719,3720],3722,3725,[3732,3735],[3737,3743],[3745,3747],3749
	,3751,[3754,3755],[3757,3760],[3762,3763],3773,[3776,3780],3782,[3792,3801],[3804,3807],3840,[3872,3891],[3904,3911]
	,[3913,3948],[3976,3980],[4096,4138],[4159,4169],[4176,4181],[4186,4189],4193,[4197,4198],[4206,4208],[4213,4225],4238
	,[4240,4249],[4256,4293],4295,4301,[4304,4346],[4348,4680],[4682,4685],[4688,4694],4696,[4698,4701],[4704,4744]
	,[4746,4749],[4752,4784],[4786,4789],[4792,4798],4800,[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954]
	,[4969,4988],[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5870,5872],[5888,5900]
	,[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6000],[6016,6067],6103,6108,[6112,6121],[6128,6137],[6160,6169]
	,[6176,6263],[6272,6312],6314,[6320,6389],[6400,6428],[6470,6509],[6512,6516],[6528,6571],[6593,6599],[6608,6618]
	,[6656,6678],[6688,6740],[6784,6793],[6800,6809],6823,[6917,6963],[6981,6987],[6992,7001],[7043,7072],[7086,7141]
	,[7168,7203],[7232,7241],[7245,7293],[7401,7404],[7406,7409],[7413,7414],[7424,7615],[7680,7957],[7960,7965]
	,[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8124],8126,[8130,8132],[8134,8140]
	,[8144,8147],[8150,8155],[8160,8172],[8178,8180],[8182,8188],[8304,8305],[8308,8313],[8319,8329],[8336,8348],8450,8455
	,[8458,8467],8469,[8473,8477],8484,8486,8488,[8490,8493],[8495,8505],[8508,8511],[8517,8521],8526,[8528,8585]
	,[9312,9371],[9450,9471],[10102,10131],[11264,11310],[11312,11358],[11360,11492],[11499,11502],[11506,11507],11517
	,[11520,11557],11559,11565,[11568,11623],11631,[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710]
	,[11712,11718],[11720,11726],[11728,11734],[11736,11742],11823,[12293,12295],[12321,12329],[12337,12341],[12344,12348]
	,[12353,12438],[12445,12447],[12449,12538],[12540,12543],[12549,12589],[12593,12686],[12690,12693],[12704,12730]
	,[12784,12799],[12832,12841],[12872,12879],[12881,12895],[12928,12937],[12977,12991],13312,19893,19968,40908
	,[40960,42124],[42192,42237],[42240,42508],[42512,42539],[42560,42606],[42623,42647],[42656,42735],[42775,42783]
	,[42786,42888],[42891,42894],[42896,42899],[42912,42922],[43000,43009],[43011,43013],[43015,43018],[43020,43042]
	,[43056,43061],[43072,43123],[43138,43187],[43216,43225],[43250,43255],43259,[43264,43301],[43312,43334],[43360,43388]
	,[43396,43442],[43471,43481],[43520,43560],[43584,43586],[43588,43595],[43600,43609],[43616,43638],43642,[43648,43695]
	,43697,[43701,43702],[43705,43709],43712,43714,[43739,43741],[43744,43754],[43762,43764],[43777,43782],[43785,43790]
	,[43793,43798],[43808,43814],[43816,43822],[43968,44002],[44016,44025],44032,55203,[55216,55238],[55243,55291]
	,[63744,64109],[64112,64217],[64256,64262],[64275,64279],64285,[64287,64296],[64298,64310],[64312,64316],64318
	,[64320,64321],[64323,64324],[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140]
	,[65142,65276],[65296,65305],[65313,65338],[65345,65370],[65382,65470],[65474,65479],[65482,65487],[65490,65495]
	,[65498,65500],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786]
	,[65799,65843],[65856,65912],65930,[66176,66204],[66208,66256],[66304,66334],[66336,66339],[66352,66378],[66432,66461]
	,[66464,66499],[66504,66511],[66513,66517],[66560,66717],[66720,66729],[67584,67589],67592,[67594,67637],[67639,67640]
	,67644,[67647,67669],[67672,67679],[67840,67867],[67872,67897],[67968,68023],[68030,68031],68096,[68112,68115]
	,[68117,68119],[68121,68147],[68160,68167],[68192,68222],[68352,68405],[68416,68437],[68440,68466],[68472,68479]
	,[68608,68680],[69216,69246],[69635,69687],[69714,69743],[69763,69807],[69840,69864],[69872,69881],[69891,69926]
	,[69942,69951],[70019,70066],[70081,70084],[70096,70105],[71296,71338],[71360,71369],[73728,74606],[74752,74850]
	,[77824,78894],[92160,92728],[93952,94020],94032,[94099,94111],[110592,110593],[119648,119665],[119808,119892]
	,[119894,119964],[119966,119967],119970,[119973,119974],[119977,119980],[119982,119993],119995,[119997,120003]
	,[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],120134
	,[120138,120144],[120146,120485],[120488,120512],[120514,120538],[120540,120570],[120572,120596],[120598,120628]
	,[120630,120654],[120656,120686],[120688,120712],[120714,120744],[120746,120770],[120772,120779],[120782,120831]
	,[126464,126467],[126469,126495],[126497,126498],126500,126503,[126505,126514],[126516,126519],126521,126523,126530
	,126535,126537,126539,[126541,126543],[126545,126546],126548,126551,126553,126555,126557,126559,[126561,126562],126564
	,[126567,126570],[126572,126578],[126580,126583],[126585,126588],126590,[126592,126601],[126603,126619],[126625,126627]
	,[126629,126633],[126635,126651],[127232,127242],131072,173782,173824,177972,177984,178205,[194560,195101]];
;

//# sourceMappingURL=ydn.db-isw-core-e-qry-text-dev.js.map
return ydn;}, (this || {}));
            